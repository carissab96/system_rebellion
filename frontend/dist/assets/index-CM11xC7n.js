var ka=Object.defineProperty;var Sa=(s,t,a)=>t in s?ka(s,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[t]=a;var he=(s,t,a)=>Sa(s,typeof t!="symbol"?t+"":t,a);import{a as F,c as U,b as $e,d as _a,e as Ca,r as g,j as e,u as Be,f as K,g as Le,R as Ne,h as ce,A as qs,C as je,X as ve,Y as re,T as ye,i as He,B as Ta,k as Aa,P as Ht,l as Bt,m as Wt,L as Ke,n as Ce,o as Pa,p as Ma,q as Fe,s as _s,t as Ia,v as ue,w as Ve,x as wt,I as kt,y as Ra,D as $a,F as St,z as _t,S as Ct,M as be,E as La,G as Ea,H as za,J as Da,K as Fa,N as Oa,O as Ua,Q as Ha,U as Ba,V as Wa,W as qa,Z as Ga,_ as Va,$ as tt,a0 as qt,a1 as Qa,a2 as Ya,a3 as le,a4 as Ka,a5 as Ja}from"./vendor-BNO5N1Yj.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function a(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(n){if(n.ep)return;n.ep=!0;const r=a(n);fetch(n.href,r)}})();const xe=F.create({baseURL:"http://127.0.0.1:8000/api/auth",withCredentials:!0,headers:{"Content-Type":"application/json"}});xe.interceptors.request.use(s=>{const t=localStorage.getItem("token");return t&&(s.headers.Authorization=`Bearer ${t}`),s},s=>Promise.reject(s));xe.interceptors.response.use(s=>s,async s=>{var i;const t=s.config;if(!t)return Promise.reject(s);const a=t.url&&(t.url.includes("/token")||t.url.includes("/login"));if(((i=s.response)==null?void 0:i.status)===401&&!t._retry&&!a){t._retry=!0;try{const n=localStorage.getItem("refresh_token");if(!n)return console.error("[ERROR] Login failed","Refresh token is required"),Promise.reject(s);const r=await F.post("http://127.0.0.1:8000/api/auth/refresh-token",{refresh_token:n},{withCredentials:!0});return r.data&&r.data.access_token?(localStorage.setItem("token",r.data.access_token),r.data.refresh_token&&localStorage.setItem("refresh_token",r.data.refresh_token),t.headers.Authorization=`Bearer ${r.data.access_token}`,F(t)):(console.error("[ERROR] Token refresh failed","Invalid response"),localStorage.removeItem("token"),localStorage.removeItem("refresh_token"),window.location.href="/login",Promise.reject(s))}catch(n){return console.error("[ERROR] Token refresh failed:",n),localStorage.removeItem("token"),localStorage.removeItem("refresh_token"),window.location.href="/login",Promise.reject(s)}}return Promise.reject(s)});const Re={async checkStatus(){try{console.log("ğŸ¦” Sir Hawkington: Checking authentication status...");const s=await xe.get("/status/");return console.log("ğŸ¦” Auth status check response:",s.data),s.data.is_authenticated}catch(s){return console.error("ğŸš¨ Auth status check failed:",s),!1}},async login(s,t){var a;try{console.log("ğŸ¦” Sir Hawkington: Logging in with:",{username:s,password:"***"});try{const r=await F.get("http://127.0.0.1:8000/api/health-check/");console.log("ğŸ¦” Health check response:",r.data)}catch(r){throw console.error("ğŸš¨ Backend health check failed:",r),new Error("Backend server is not available. Please try again later.")}const i=new URLSearchParams;i.append("username",s),i.append("password",t),console.log("ğŸŒ The Meth Snail: Sending login request with form data:",s);const n=await xe.post("/token",i,{headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"}});if(console.log("âœ… Login response:",n.data),!n.data.access_token||!n.data.refresh_token)throw new Error("Invalid response from server: missing tokens");return localStorage.setItem("token",n.data.access_token),localStorage.setItem("refresh_token",n.data.refresh_token),localStorage.setItem("username",n.data.user.username),F.defaults.headers.common.Authorization=`Bearer ${n.data.access_token}`,n.data.user}catch(i){let n="Authentication failed. Please try again.";throw i.response?(console.error("ğŸš¨ Login failed - Server response:",{status:i.response.status,data:i.response.data}),n=((a=i.response.data)==null?void 0:a.detail)||"Authentication failed. Please check your username and password."):i.request?(console.error("ğŸš¨ Login failed - No response:",i.request),n="The Quantum Shadow People blocked your request. Please try again later."):console.error("ğŸš¨ Login setup failed:",i.message),new Error(n)}},async register(s,t,a){var i,n;try{console.log("ğŸ¦” Sir Hawkington: Registering...");const r=await xe.post("/register",{username:s,email:t,password:a});return console.log("âœ… Registration response:",r.data),localStorage.setItem("token",r.data.access_token),localStorage.setItem("refresh_token",r.data.refresh_token),localStorage.setItem("username",r.data.user.username),r.data.user}catch(r){console.error("ğŸš¨ Registration failed:",r);const o=((n=(i=r.response)==null?void 0:i.data)==null?void 0:n.detail)||"Registration failed. Please try again.";throw new Error(o)}},async logout(){try{return console.log("ğŸ¦” Sir Hawkington: Logging out..."),localStorage.removeItem("token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("username"),console.log("ğŸŒ The Meth Snail: Local storage cleared, redirecting to login page"),window.location.href="/login",!0}catch(s){return console.error("ğŸš¨ Logout failed:",s),localStorage.removeItem("token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("username"),window.location.href="/login",!1}},async updateProfile(s){var t,a;try{console.log("ğŸ¦” Sir Hawkington: Updating profile with data:",s);const i=localStorage.getItem("token");if(!i)throw new Error("The Meth Snail requires authentication tokens to proceed!");const n=await xe.post("/update-profile",s,{headers:{Authorization:`Bearer ${i}`}});return console.log("âœ… Profile update response:",n.data),n.data.user}catch(i){console.error("ğŸš¨ Profile update failed:",i);const n=((a=(t=i.response)==null?void 0:t.data)==null?void 0:a.detail)||"Profile update failed. Please try again.";throw new Error(n)}},async getCurrentUser(){try{console.log("ğŸ¦” Sir Hawkington: Getting current user...");const s=await xe.get("/status/");if(!s.data.is_authenticated)return console.log("ğŸ§™â€â™‚ï¸ The Stick: Not authenticated, returning null"),null;if(s.data.user)return console.log("âœ… User data from status endpoint:",s.data.user),s.data.user;try{const t=await xe.get("/me");return console.log("âœ… User data from /me endpoint:",t.data),t.data}catch(t){console.error("ğŸš¨ Failed to fetch user data from /me endpoint:",t);const a=localStorage.getItem("username");return a?(console.warn("âš ï¸ Using fallback user data with username only"),{id:"",username:a,email:"",needs_onboarding:!1,operating_system:"unknown",os_version:"unknown",cpu_cores:1,total_memory:1}):(console.log("ğŸ§™â€â™‚ï¸ The Stick: No username saved, returning null"),null)}}catch(s){return console.error("ğŸš¨ Failed to get current user:",s),null}},async validateToken(){try{console.log("ğŸ¦” Sir Hawkington: Validating token...");const s=await xe.get("/status/");return console.log("âœ… Token validation response:",s.data),s.data.is_authenticated}catch(s){return console.error("ğŸš¨ Token validation failed:",s),!1}}},Gt={user:null,isAuthenticated:!1,isLoading:!1,error:null};console.log("Auth Slice Initial State:",Gt);const Cs=U("auth/login",async({username:s,password:t},{rejectWithValue:a})=>{var i,n;try{return await Re.login(s,t)}catch(r){return a(((n=(i=r.response)==null?void 0:i.data)==null?void 0:n.detail)||"Login failed")}}),Ts=U("auth/register",async(s,{rejectWithValue:t})=>{var a,i;try{const{username:n,email:r,password:o}=s;return!n||!r||!o?t("Username, email and password are required"):(console.log("Registering with data:",{...s,password:"***"}),await Re.register(n,r,o))}catch(n){return console.error("Registration error:",n),t(((i=(a=n.response)==null?void 0:a.data)==null?void 0:i.detail)||"Registration failed")}}),Os=U("auth/logout",async()=>{Re.logout()}),Me=U("auth/checkStatus",async(s,{rejectWithValue:t})=>{try{return await Re.checkStatus()?await Re.getCurrentUser():null}catch(a){return t(a.message||"Failed to check authentication status")}}),Je=U("auth/updateProfile",async(s,{rejectWithValue:t})=>{var a,i;try{return await Re.updateProfile(s)}catch(n){return t(((i=(a=n.response)==null?void 0:a.data)==null?void 0:i.detail)||"Failed to update profile")}}),Vt=$e({name:"auth",initialState:Gt,reducers:{clearError:s=>{s.error=null}},extraReducers:s=>{s.addCase(Cs.pending,t=>{t.isLoading=!0,t.error=null}),s.addCase(Cs.fulfilled,(t,a)=>{t.isLoading=!1,t.isAuthenticated=!0,t.user=a.payload,t.error=null}),s.addCase(Cs.rejected,(t,a)=>{t.isLoading=!1,t.isAuthenticated=!1,t.user=null,t.error=a.payload}),s.addCase(Ts.pending,t=>{t.isLoading=!0,t.error=null}),s.addCase(Ts.fulfilled,(t,a)=>{t.isLoading=!1,t.isAuthenticated=!0,t.user=a.payload,t.error=null}),s.addCase(Ts.rejected,(t,a)=>{t.isLoading=!1,t.isAuthenticated=!1,t.user=null,t.error=a.payload}),s.addCase(Os.fulfilled,t=>{t.isAuthenticated=!1,t.user=null}),s.addCase(Me.pending,t=>{t.isLoading=!0}),s.addCase(Me.fulfilled,(t,a)=>{t.isLoading=!1,t.isAuthenticated=!!a.payload,t.user=a.payload}),s.addCase(Me.rejected,t=>{t.isLoading=!1,t.isAuthenticated=!1,t.user=null}),s.addCase(Je.pending,t=>{t.isLoading=!0,t.error=null}),s.addCase(Je.fulfilled,(t,a)=>{t.isLoading=!1,t.user=a.payload,t.error=null}),s.addCase(Je.rejected,(t,a)=>{t.isLoading=!1,t.error=a.payload})}}),{clearError:wr}=Vt.actions,Xa=Vt.reducer;var at=(s=>(s.LOW="LOW",s.MEDIUM="MEDIUM",s.HIGH="HIGH",s.CRITICAL="CRITICAL",s))(at||{});const Za=(s,t)=>{const a=[],i=new Date().toISOString();return s.cpu_usage>=t.cpu.critical?a.push({id:`cpu-${Date.now()}`,metric_type:"cpu",severity:at.HIGH,threshold:t.cpu.critical,current_value:s.cpu_usage,timestamp:i,message:`CPU usage critical: ${s.cpu_usage}%`}):s.cpu_usage>=t.cpu.warning&&a.push({id:`cpu-${Date.now()}-warn`,metric_type:"cpu",severity:at.MEDIUM,threshold:t.cpu.warning,current_value:s.cpu_usage,timestamp:i,message:`CPU usage high: ${s.cpu_usage}%`}),a},ei={metrics:[],current:null,historical:[],alerts:[],thresholds:{cpu:{warning:70,critical:90,normal:0,high:0,low:0,medium:0,very_high:0,very_low:0},memory:{warning:70,critical:90,normal:0,high:0,low:0,medium:0,very_high:0,very_low:0},disk:{warning:70,critical:90,normal:0,high:0,low:0,medium:0,very_high:0,very_low:0},network:{warning:70,critical:90,normal:0,high:0,low:0,medium:0,very_high:0,very_low:0}},loading:!1,error:null,lastUpdated:null,lastUpdate:null,useWebSocket:!0,connectionStatus:"disconnected"},Qt=$e({name:"metrics",initialState:ei,reducers:{setWebSocketError:(s,t)=>{s.error=t.payload,s.loading=!1,t.payload&&(s.connectionStatus="error")},updateMetrics:(s,t)=>{const a=t.payload;s.metrics=[...s.metrics,a].slice(-100),s.current=a,s.historical=[...s.historical,a].slice(-1e3),s.lastUpdated=new Date().toISOString(),s.lastUpdate=Date.now();const i=Za(a,s.thresholds);i.length>0&&(s.alerts=[...s.alerts,...i].slice(-50))},resetMetrics:s=>{s.metrics=[],s.alerts=[],s.current=null,s.historical=[],s.error=null,s.connectionStatus="disconnected"},setThresholds:(s,t)=>{s.thresholds={...s.thresholds,...t.payload}},setConnectionStatus:(s,t)=>{s.connectionStatus=t.payload}}}),{setWebSocketError:ks,updateMetrics:si,resetMetrics:kr,setThresholds:Sr,setConnectionStatus:Ee}=Qt.actions,ti=Qt.reducer,ai={data:null,loading:!1,error:null},Ys=U("userProfile/fetch",async(s,{rejectWithValue:t})=>{try{return await Re.getCurrentUser()}catch(a){return console.error("Error fetching user profile:",a.message),t(a.message||"Failed to fetch user profile")}}),Yt=$e({name:"userProfile",initialState:ai,reducers:{clearProfileError:s=>{s.error=null}},extraReducers:s=>{s.addCase(Ys.pending,t=>{t.loading=!0,t.error=null}).addCase(Ys.fulfilled,(t,a)=>{t.loading=!1,t.data=a.payload}).addCase(Ys.rejected,(t,a)=>{t.loading=!1,t.error=a.payload||"An unknown error occurred"})}}),{clearProfileError:_r}=Yt.actions,ii=Yt.reducer,ot=()=>{const s=localStorage.getItem("csrf_token");if(s)return s;const t=document.cookie.split(";");for(let a of t){const[i,n]=a.trim().split("=");if(i==="csrftoken")return n}return null},W=`${window.location.protocol}//${window.location.host}/api`;console.log(`ğŸ§ Sir Hawkington announces the API base URL: ${W}`);let Qe=!0,Tt=0;const ni=3e4,it=async(s=!1)=>{const t=Date.now();if(!s&&t-Tt<ni)return console.log("ğŸ§ Sir Hawkington recalls from his distinguished memory:",Qe?"Backend was available":"Backend was unavailable"),console.log("ğŸŒ The Meth Snail confirms cached status:",Qe),Qe;console.log("ğŸ® The VIC-20 updates the timestamp..."),Tt=t;const a=["/health-check/","/auth/status/"];for(let i=0;i<2;i++){for(const n of a)try{console.log(`ğŸ§ Sir Hawkington is checking backend availability (attempt ${i+1}) using ${n}...`),console.log("ğŸ¹ The Hamsters are preparing the HTTP request with duct tape...");const r=await F.get(`${W}${n}`,{timeout:3e3,withCredentials:!0});if(r.status>=200&&r.status<300)return console.log('ğŸ§ Sir Hawkington adjusts his monocle with satisfaction: "Backend is available and responding with distinguished elegance!"'),console.log("ğŸŒ The Meth Snail celebrates with another hit of methamphetamine!"),Qe=!0,!0}catch(r){console.warn(`âš ï¸ Backend check failed for ${n}:`),console.warn("ğŸª„ The Stick's anxiety intensifies:",r instanceof Error?r.message:"Unknown error - even the VIC-20 is confused")}i<1&&await new Promise(n=>setTimeout(n,1e3))}return console.error('ğŸ§ Sir Hawkington removes his monocle in distress: "The backend appears to be indisposed!"'),console.error("ğŸŒ The Meth Snail has crashed into a wall after too many failed attempts"),console.error("ğŸª„ The Stick is having a full-blown panic attack!"),Qe=!1,!1},ne=F.create({baseURL:W,withCredentials:!0,headers:{"Content-Type":"application/json"}});F.create({baseURL:W,withCredentials:!1,headers:{"Content-Type":"application/json"}});ne.interceptors.request.use(s=>{const t=localStorage.getItem("token");if(t?(s.headers.Authorization=t.startsWith("Bearer ")?t:`Bearer ${t}`,console.log("ğŸ§ Sir Hawkington set Authorization header:",s.headers.Authorization.substring(0,20)+"...")):console.warn("ğŸ§ Sir Hawkington is concerned: No token found in localStorage!"),s.method!=="get"){const a=ot();a?s.headers["X-CSRFToken"]=a:console.warn("CSRF token not found in cookies or localStorage!")}return s});ne.interceptors.response.use(s=>s,async s=>{var a;const t=s.config;if(((a=s.response)==null?void 0:a.status)===401&&!t._retry){t._retry=!0;const i=localStorage.getItem("refresh_token");if(i)try{const n=await F.post(`${W}/auth/token/refresh/`,{refresh:i},{withCredentials:!0,headers:{"Content-Type":"application/json","X-CSRFToken":ot()||""}});if(n.data&&n.data.access){const r=n.data.access;return localStorage.setItem("token",r),t.headers.Authorization=`Bearer ${r}`,ne(t)}}catch(n){return console.error("Token refresh failed:",n),localStorage.removeItem("token"),localStorage.removeItem("refresh_token"),Hs.dispatch(Os()),Promise.reject(n)}else Hs.dispatch(Os())}return Promise.reject(s)});const Y={get:async s=>(await ne.get(s)).data,post:async(s,t)=>(await ne.post(s,t)).data,delete:async s=>(await ne.delete(s)).data,put:async(s,t)=>(await ne.put(s,t)).data,patch:async(s,t)=>(await ne.patch(s,t)).data,head:async s=>(await ne.head(s)).data,options:async s=>(await ne.options(s)).data,autotuner:{fetch:async s=>{try{return await Y.get(`/autotuner/${s}/`)}catch(t){throw console.error(`Error fetching autotuner ${s}:`,t),t}}},metrics:{fetch:async()=>{console.log("ğŸ§ Sir Hawkington is fetching the metrics with utmost elegance!");try{const s=await Y.get("/metrics/system");return console.log("âœ¨ The Hamsters have successfully retrieved the metrics!",s),s}catch(s){throw console.error("ğŸ’¥ The Meth Snail crashed into the metrics endpoint!",s),s}},create:async s=>{console.log("ğŸŒ The Meth Snail is creating a new metric with quantum precision!");try{const t=await Y.post("/metrics/",s);return console.log("âœ¨ Metric created successfully!",t),t}catch(t){throw console.error("ğŸ’¥ Metric creation failed!",t),t}},update:async(s,t)=>{console.log(`ğŸ§ Sir Hawkington is updating metric ${s} with distinguished care!`);try{const a=await Y.put(`/metrics/${s}`,t);return console.log("âœ¨ Metric updated successfully!",a),a}catch(a){throw console.error("ğŸ’¥ Metric update failed!",a),a}},delete:async s=>{console.log(`ğŸŒ The Meth Snail is deleting metric ${s} with optimization energy!`);try{const t=await Y.delete(`/metrics/${s}`);return console.log("âœ¨ Metric deleted successfully!",t),t}catch(t){throw console.error("ğŸ’¥ Metric deletion failed!",t),t}},fetchById:async s=>{console.log(`ğŸ§ Sir Hawkington is retrieving metric ${s} with precise calculation!`);try{const t=await Y.get(`/metrics/${s}`);return console.log("âœ¨ Metric retrieved successfully!",t),t}catch(t){throw console.error("ğŸ’¥ Metric retrieval failed!",t),t}}},auth:{register:async s=>{var t,a;console.log("ğŸ§ Sir Hawkington is processing your registration with distinguished care...");try{const i=await F.post("/auth/register",{username:s.username,email:s.email,password:s.password,profile:s.profile},{headers:{"Content-Type":"application/json"}});return console.log("âœ¨ Registration response:",i.data),i.data.access_token&&(localStorage.setItem("token",i.data.access_token),localStorage.setItem("refresh_token",i.data.refresh_token||"")),i.data}catch(i){throw console.error("ğŸš¨ Registration error:",i),F.isAxiosError(i)&&(console.error("Response data:",(t=i.response)==null?void 0:t.data),console.error("Status code:",(a=i.response)==null?void 0:a.status)),i}},login:async s=>{console.log("ğŸŒ The Meth Snail is processing your login with quantum precision!");try{const t=await ne.post("/auth/token/",new URLSearchParams({username:s.username,password:s.password}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}});return console.log("âœ¨ Login successful!",t.data),t.data.access_token&&(localStorage.setItem("token",t.data.access_token),localStorage.setItem("refresh_token",t.data.refresh_token||"")),t.data}catch(t){throw console.error("ğŸ’¥ Login failed!",t),t}}}},At=async()=>{try{if(!await it(!0))throw new Error("Backend is not available, cannot initialize CSRF token");const t=await F.get(`${W}/auth/csrf_token/`,{withCredentials:!0,timeout:5e3});if(t.data&&t.data.csrf_token)return localStorage.setItem("csrf_token",t.data.csrf_token),console.log("ğŸ© Sir Hawkington has secured a fresh CSRF token!"),!0;const a=await F.get(`${W}/health-check/`,{withCredentials:!0,timeout:5e3});if(a.data&&a.data.csrf_token)return localStorage.setItem("csrf_token",a.data.csrf_token),console.log("ğŸ© Sir Hawkington has secured a CSRF token from health check!"),!0;if(!ot())throw console.warn("ğŸ§ Sir Hawkington is concerned: CSRF token not found after initialization"),new Error("Failed to get CSRF token after multiple attempts");return console.log("âœ… CSRF token successfully initialized"),!0}catch(s){return console.error("Failed to initialize CSRF token:",s instanceof Error?s.message:"Unknown error"),!1}},is="/system-alerts/",ri={alerts:[],loading:!1,error:null,total:0,selectedCount:0},Ie=U("systemAlerts/fetchAlerts",async({skip:s=0,limit:t=20,is_read:a}={},{rejectWithValue:i})=>{var n,r;try{console.log("ğŸ¦‰ Sir Hawkington is fetching system alerts...");let o=`${is}?skip=${s}&limit=${t}`;a!==void 0&&(o+=`&is_read=${a}`),console.log("Fetching alerts from:",o);const l=await Y.get(o);return console.log("ğŸ¦‰ Sir Hawkington returned with alerts:",l),l}catch(o){return console.error("ğŸ’¥ Sir Hawkington crashed while fetching alerts!",o),i(((r=(n=o.response)==null?void 0:n.data)==null?void 0:r.detail)||"Sir Hawkington couldn't fetch the alerts. Most distressing!")}}),Oe=U("systemAlerts/createAlert",async(s,{rejectWithValue:t})=>{var a,i;try{console.log("ğŸ¦‰ Sir Hawkington is creating a new system alert...");const n=await Y.post(`${is}`,s);return console.log("ğŸ¦‰ Sir Hawkington created a new alert:",n),n}catch(n){return console.error("ğŸ’¥ Sir Hawkington crashed while creating an alert!",n),t(((i=(a=n.response)==null?void 0:a.data)==null?void 0:i.detail)||"Sir Hawkington couldn't create the alert. How embarrassing!")}}),Us=U("systemAlerts/markAsRead",async(s,{rejectWithValue:t})=>{var a,i;try{console.log(`ğŸ¦‰ Sir Hawkington is marking alert ${s} as read...`);const n=await Y.post(`${is}${s}/mark-as-read`,{});return console.log("ğŸ¦‰ Sir Hawkington marked the alert as read:",n),n}catch(n){return console.error("ğŸ’¥ Sir Hawkington crashed while marking an alert as read!",n),t(((i=(a=n.response)==null?void 0:a.data)==null?void 0:i.detail)||"Sir Hawkington couldn't mark the alert as read. Most peculiar!")}}),Kt=U("systemAlerts/markAllAsRead",async(s,{rejectWithValue:t})=>{var a,i;try{console.log("ğŸ¦‰ Sir Hawkington is marking all alerts as read...");const n=await Y.post(`${is}mark-all-as-read`,{});return console.log("ğŸ¦‰ Sir Hawkington marked all alerts as read"),n.success}catch(n){return console.error("ğŸ’¥ Sir Hawkington crashed while marking all alerts as read!",n),t(((i=(a=n.response)==null?void 0:a.data)==null?void 0:i.detail)||"Sir Hawkington couldn't mark all alerts as read. Most troubling!")}}),lt=U("systemAlerts/deleteAlert",async(s,{rejectWithValue:t})=>{var a,i;try{return console.log(`ğŸ¦‰ Sir Hawkington is deleting alert ${s}...`),await Y.delete(`${is}${s}`),console.log(`ğŸ¦‰ Sir Hawkington deleted alert ${s}`),s}catch(n){return console.error("ğŸ’¥ Sir Hawkington crashed while deleting an alert!",n),t(((i=(a=n.response)==null?void 0:a.data)==null?void 0:i.detail)||"Sir Hawkington couldn't delete the alert. Most unfortunate!")}}),Jt=$e({name:"systemAlerts",initialState:ri,reducers:{addAlert:(s,t)=>{s.alerts.unshift(t.payload),s.total+=1},clearAlert:(s,t)=>{const a=s.alerts.find(i=>i.id===t.payload);a!=null&&a.selected&&(s.selectedCount-=1),s.alerts=s.alerts.filter(i=>i.id!==t.payload),s.total-=1},clearSystemAlertsError:s=>{s.error=null},updateAlertActionStatus:(s,t)=>{const{id:a,status:i}=t.payload,n=s.alerts.findIndex(r=>r.id===a);n!==-1&&(s.alerts[n].action_status=i)},toggleAlertSelection:(s,t)=>{const a=s.alerts.findIndex(i=>i.id===t.payload);if(a!==-1){const i=s.alerts[a].selected||!1;s.alerts[a].selected=!i,s.selectedCount+=i?-1:1}},selectAllAlerts:s=>{s.alerts.forEach(t=>{t.selected||(t.selected=!0,s.selectedCount+=1)})},deselectAllAlerts:s=>{s.alerts.forEach(t=>{t.selected&&(t.selected=!1)}),s.selectedCount=0},deleteSelectedAlerts:s=>{s.alerts=s.alerts.filter(t=>!t.selected),s.total-=s.selectedCount,s.selectedCount=0},updateSelectedAlertsActionStatus:(s,t)=>{s.alerts.forEach(a=>{a.selected&&(a.action_status=t.payload)})},markSelectedAlertsAsRead:s=>{s.alerts.forEach(t=>{t.selected&&!t.is_read&&(t.is_read=!0)})}},extraReducers:s=>{s.addCase(Ie.pending,t=>{t.loading=!0,t.error=null}).addCase(Ie.fulfilled,(t,a)=>{t.loading=!1,t.alerts=a.payload.alerts,t.total=a.payload.total}).addCase(Ie.rejected,(t,a)=>{t.loading=!1,t.error=a.payload}).addCase(Oe.pending,t=>{t.loading=!0,t.error=null}).addCase(Oe.fulfilled,(t,a)=>{t.loading=!1,t.alerts.unshift(a.payload),t.total+=1}).addCase(Oe.rejected,(t,a)=>{t.loading=!1,t.error=a.payload}).addCase(Us.fulfilled,(t,a)=>{const i=t.alerts.findIndex(n=>n.id===a.payload.id);i!==-1&&(t.alerts[i]=a.payload)}).addCase(Kt.fulfilled,t=>{t.alerts=t.alerts.map(a=>({...a,is_read:!0}))}).addCase(lt.fulfilled,(t,a)=>{t.alerts=t.alerts.filter(i=>i.id!==a.payload),t.total-=1})}}),{addAlert:Cr,clearAlert:Tr,clearSystemAlertsError:Ar,updateAlertActionStatus:Xt,toggleAlertSelection:Zt,selectAllAlerts:ea,deselectAllAlerts:sa,deleteSelectedAlerts:ta,updateSelectedAlertsActionStatus:aa,markSelectedAlertsAsRead:ia}=Jt.actions,oi=Jt.reducer,li="http://127.0.0.1:8000",ns=(s,t,a,i)=>{const n={title:s,message:t,severity:a,is_read:!1,additional_data:i||{}};return console.log(`Alert data created. API endpoint would be: ${li}/api/system-alerts/ or ${W}/system-alerts/`),n},ci=s=>{const{parameter:t,current_value:a,recommended_value:i,confidence:n,impact_score:r,reason:o}=s;let l;const c=n*r;c>.7?l="CRITICAL":c>.5?l="HIGH":c>.3?l="MEDIUM":l="LOW";const d=`Auto-Tuner Recommendation: ${t}`,u=`${o}. Current value: ${a}, Recommended value: ${i} (Confidence: ${(n*100).toFixed(0)}%, Impact: ${(r*100).toFixed(0)}%)`;return ns(d,u,l,{parameter:t,current_value:a,recommended_value:i,confidence:n,impact_score:r,actionable:!0,action_type:"apply_recommendation",recommendation_data:s})},di=s=>{const{type:t,pattern:a,confidence:i,details:n}=s;let r;i>.8?r="CRITICAL":i>.6?r="HIGH":i>.4?r="MEDIUM":r="LOW";const o=`System Pattern Detected: ${t}`,l=`${a}. (Confidence: ${(i*100).toFixed(0)}%)`;return ns(o,l,r,{...n,pattern_type:t,confidence:i,actionable:(n==null?void 0:n.actionable)||!1,action_type:(n==null?void 0:n.action_type)||null})},hi=(s,t,a)=>{let i;const n=t/a;n>1.5?i="CRITICAL":n>1.3?i="HIGH":n>1.1?i="MEDIUM":i="LOW";const r=s.replace(/_/g," ").split(" ").map(c=>c.charAt(0).toUpperCase()+c.slice(1)).join(" "),o=`${r} Threshold Exceeded`,l=`${r} has reached ${t.toFixed(1)}%, exceeding the threshold of ${a}%.`;return ns(o,l,i,{metric:s,current_value:t,threshold:a,actionable:!0,action_type:"view_metrics"})},mi=(s,t)=>{const{parameter:a,old_value:i,new_value:n,reason:r}=s,o=t?"MEDIUM":"HIGH",l=t?`System Tuning Applied: ${a}`:`System Tuning Failed: ${a}`,c=t?`Successfully changed ${a} from ${i} to ${n}. ${r||""}`:`Failed to change ${a} from ${i} to ${n}. ${r||""}`;return ns(l,c,o,{parameter:a,old_value:i,new_value:n,success:t,timestamp:new Date().toISOString(),actionable:!1})},ke={createAlertFromEvent:ns,createAlertFromRecommendation:ci,createAlertFromPattern:di,createAlertFromMetricThreshold:hi,createAlertFromTuningAction:mi},ui={currentMetrics:null,recommendations:[],patterns:[],tuningHistory:[],activeProfile:null,status:"idle",error:null,lastUpdated:null},pi=(s,t)=>{s&&s.length>0&&s.filter(a=>a.confidence>.6).forEach(a=>{const i=ke.createAlertFromPattern(a);t(Oe(i))})},gi=(s,t)=>{s&&s.length>0&&s.filter(a=>a.confidence*a.impact_score>.5).forEach(a=>{const i=ke.createAlertFromRecommendation(a);t(Oe(i))})},Xe=U("autoTuner/fetchCurrentMetrics",async()=>{var s,t,a;try{return console.log("ğŸ§ Sir Hawkington: Fetching current metrics with authentication..."),await Y.get("/auto-tuner/metrics/current")}catch(i){throw console.error("ğŸš¨ Error fetching metrics:",((s=i.response)==null?void 0:s.data)||i.message),new Error(((a=(t=i.response)==null?void 0:t.data)==null?void 0:a.detail)||"Failed to fetch current metrics")}}),Ze=U("autoTuner/fetchRecommendations",async(s,{dispatch:t})=>{var a,i,n;try{console.log("ğŸŒ The Meth Snail: Fetching recommendations with authentication...");const r=await Y.get("/auto-tuner/recommendations");return r&&Array.isArray(r)&&gi(r,t),r}catch(r){throw console.error("ğŸš¨ Error fetching recommendations:",((a=r.response)==null?void 0:a.data)||r.message),new Error(((n=(i=r.response)==null?void 0:i.data)==null?void 0:n.detail)||"Failed to fetch recommendations")}}),de=U("autoTuner/fetchPatterns",async(s,{dispatch:t})=>{try{console.log("ğŸ¦” Sir Hawkington: Fetching patterns with authentication...");const a=await Y.get("/auto-tuner/patterns");if(console.log("âœ… Patterns API response:",a),!a)return console.error("ğŸš¨ Empty response from patterns API"),{detected_patterns:[]};let i=[];return a.detected_patterns?i=a.detected_patterns:Array.isArray(a)&&(i=a),pi(i,t),a}catch(a){throw console.error("ğŸš¨ Error fetching patterns:",a),new Error(typeof a.message=="string"?a.message:"Failed to fetch patterns")}}),As=U("autoTuner/fetchTuningHistory",async()=>{var s,t,a;try{return console.log("ğŸ¦” Sir Hawkington: Fetching tuning history with authentication..."),await Y.get("/auto-tuner/history")}catch(i){throw console.error("ğŸš¨ Error fetching tuning history:",((s=i.response)==null?void 0:s.data)||i.message),new Error(((a=(t=i.response)==null?void 0:t.data)==null?void 0:a.detail)||"Failed to fetch tuning history")}}),Ps=U("autoTuner/applyOptimizationProfile",async s=>{var t,a,i;try{return console.log(`ğŸŒ The Meth Snail: Applying optimization profile ${s} with authentication...`),await Y.post(`/auto-tuner/profiles/${s}/apply`,{})}catch(n){throw console.error("ğŸš¨ Error applying optimization profile:",((t=n.response)==null?void 0:t.data)||n.message),new Error(((i=(a=n.response)==null?void 0:a.data)==null?void 0:i.detail)||"Failed to apply optimization profile")}}),Ms=U("autoTuner/applyRecommendation",async s=>{var t,a,i;try{return console.log(`ğŸ¦” Sir Hawkington: Applying recommendation ${s} with authentication...`),await Y.post(`/auto-tuner/recommendations/apply?recommendation_id=${s}`,{})}catch(n){throw console.error("ğŸš¨ Error applying recommendation:",((t=n.response)==null?void 0:t.data)||n.message),new Error(((i=(a=n.response)==null?void 0:a.data)==null?void 0:i.detail)||"Failed to apply recommendation")}}),na=$e({name:"autoTuner",initialState:ui,reducers:{setActiveProfile(s,t){s.activeProfile=t.payload},clearAutoTuner:s=>{s.currentMetrics=null,s.recommendations=[],s.patterns=[],s.tuningHistory=[],s.activeProfile=null,s.status="idle",s.error=null,s.lastUpdated=null}},extraReducers:s=>{s.addCase(Xe.pending,t=>{t.status="loading"}).addCase(Xe.fulfilled,(t,a)=>{t.status="succeeded",t.currentMetrics=a.payload,t.lastUpdated=new Date().toISOString()}).addCase(Xe.rejected,(t,a)=>{t.status="failed",t.error=a.error.message||"Failed to fetch metrics"}),s.addCase(Ze.pending,t=>{t.status="loading"}).addCase(Ze.fulfilled,(t,a)=>{t.status="succeeded",t.recommendations=a.payload,t.lastUpdated=new Date().toISOString()}).addCase(Ze.rejected,(t,a)=>{t.status="failed",t.error=a.error.message||"Failed to fetch recommendations"}),s.addCase(de.pending,t=>{t.status="loading"}).addCase(de.fulfilled,(t,a)=>{if(t.status="succeeded",console.log("âœ… Patterns payload:",a.payload),a.payload&&a.payload.detected_patterns?(t.patterns=a.payload.detected_patterns,console.log("ğŸ¦” Setting patterns in state from detected_patterns:",a.payload.detected_patterns)):Array.isArray(a.payload)?(t.patterns=a.payload,console.log("ğŸ¦” Setting patterns array in state:",a.payload)):(console.warn("âš ï¸ No patterns found in payload, setting empty array. Payload:",a.payload),t.patterns=[]),t.patterns.length>0){const i=t.patterns.filter(n=>n&&typeof n=="object"&&"type"in n&&"pattern"in n&&"confidence"in n&&"details"in n);i.length!==t.patterns.length&&(console.warn(`âš ï¸ Filtered out ${t.patterns.length-i.length} invalid patterns`),t.patterns=i)}t.lastUpdated=new Date().toISOString()}).addCase(de.rejected,(t,a)=>{t.status="failed",t.error=a.error.message||"Failed to fetch patterns",console.error("ğŸš¨ Failed to fetch patterns:",a.error)}),s.addCase(As.pending,t=>{t.status="loading"}).addCase(As.fulfilled,(t,a)=>{t.status="succeeded",a.payload&&a.payload.history?t.tuningHistory=a.payload.history:t.tuningHistory=[],t.lastUpdated=new Date().toISOString()}).addCase(As.rejected,(t,a)=>{t.status="failed",t.error=a.error.message||"Failed to fetch tuning history"}),s.addCase(Ps.pending,t=>{t.status="loading"}).addCase(Ps.fulfilled,(t,a)=>{t.status="succeeded",a.payload&&a.payload.applied_settings&&(t.tuningHistory=[...t.tuningHistory,...a.payload.applied_settings]),t.lastUpdated=new Date().toISOString()}).addCase(Ps.rejected,(t,a)=>{t.status="failed",t.error=a.error.message||"Failed to apply profile"}),s.addCase(Ms.pending,t=>{t.status="loading"}).addCase(Ms.fulfilled,(t,a)=>{t.status="succeeded",a.payload&&a.payload.success&&a.payload.result&&(t.tuningHistory=[...t.tuningHistory,a.payload.result]),t.lastUpdated=new Date().toISOString()}).addCase(Ms.rejected,(t,a)=>{t.status="failed",t.error=a.error.message||"Failed to apply recommendation"})}}),{setActiveProfile:xi,clearAutoTuner:Pr}=na.actions,fi=na.reducer,ji={profiles:[],loading:!1,error:null,currentProfile:null},es=U("optimization/fetchProfiles",async(s,{rejectWithValue:t})=>{var a,i;try{console.log("ğŸŒ The Meth Snail is fetching optimization profiles...");const n=localStorage.getItem("token");if(!n)return t("Authentication required. Please log in.");const r=await F.get(`${W}/optimization-profiles/`,{headers:{Authorization:`Bearer ${n}`}});return console.log("ğŸŒ The Meth Snail returned with profiles:",r.data),r.data.profiles}catch(n){return console.error("ğŸ’¥ The Meth Snail crashed while fetching profiles!",n),t(((i=(a=n.response)==null?void 0:a.data)==null?void 0:i.detail)||"The Meth Snail couldn't fetch the profiles. It's probably tweaking out again.")}}),Is=U("optimization/createProfile",async(s,{rejectWithValue:t})=>{var a,i;try{console.log("ğŸŒ The Meth Snail is creating a new optimization profile...");const n=localStorage.getItem("token");if(!n)return t("Authentication required. Please log in.");console.log("ğŸŒ Profile data being sent:",s);const r=await F.post(`${W}/optimization-profiles/`,s,{headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}});return console.log("ğŸŒ The Meth Snail created a new profile:",r.data),r.data}catch(n){return console.error("ğŸ’¥ The Meth Snail crashed while creating a profile!",n),t(((i=(a=n.response)==null?void 0:a.data)==null?void 0:i.detail)||"The Meth Snail couldn't create the profile. It's probably on a bad batch.")}}),Rs=U("optimization/updateProfile",async(s,{rejectWithValue:t})=>{var a,i;try{const{id:n,...r}=s;console.log(`ğŸŒ The Meth Snail is updating optimization profile ${n}...`);const o=localStorage.getItem("token");if(!o)return t("Authentication required. Please log in.");if(!/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(n))return console.error(`ğŸŒ The Meth Snail is confused! ID ${n} is not a valid UUID.`),t(`Invalid profile ID format. Expected a UUID but got: ${n}`);console.log("ğŸŒ Profile data being updated:",r);const c=await F.put(`${W}/optimization-profiles/${n}`,r,{headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}});return console.log("ğŸŒ The Meth Snail updated the profile:",c.data),c.data}catch(n){return console.error("ğŸ’¥ The Meth Snail crashed while updating a profile!",n),t(((i=(a=n.response)==null?void 0:a.data)==null?void 0:i.detail)||"The Meth Snail couldn't update the profile. It's probably having an existential crisis.")}}),$s=U("optimization/deleteProfile",async(s,{rejectWithValue:t})=>{var a,i;try{console.log(`ğŸŒ The Meth Snail is deleting optimization profile ${s}...`);const n=localStorage.getItem("token");return n?/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(s)?(await F.delete(`${W}/optimization-profiles/${s}`,{headers:{Authorization:`Bearer ${n}`}}),console.log("ğŸŒ The Meth Snail deleted the profile successfully"),s):(console.error(`ğŸŒ The Meth Snail is confused! ID ${s} is not a valid UUID.`),t(`Invalid profile ID format. Expected a UUID but got: ${s}`)):t("Authentication required. Please log in.")}catch(n){return console.error("ğŸ’¥ The Meth Snail crashed while deleting a profile!",n),t(((i=(a=n.response)==null?void 0:a.data)==null?void 0:i.detail)||"The Meth Snail couldn't delete the profile. It's probably having withdrawal symptoms.")}}),Ls=U("optimization/activateProfile",async(s,{rejectWithValue:t})=>{var a,i;try{console.log(`ğŸŒ The Meth Snail is activating optimization profile ${s}...`);const n=localStorage.getItem("token");if(!n)return t("Authentication required. Please log in.");if(!/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(s))return console.error(`ğŸŒ The Meth Snail is confused! ID ${s} is not a valid UUID.`),t(`Invalid profile ID format. Expected a UUID but got: ${s}`);const o=await F.post(`${W}/optimization-profiles/${s}/activate`,{},{headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}});return console.log("ğŸŒ The Meth Snail activated the profile:",o.data),o.data}catch(n){return console.error("ğŸ’¥ The Meth Snail crashed while activating a profile!",n),t(((i=(a=n.response)==null?void 0:a.data)==null?void 0:i.detail)||"The Meth Snail couldn't activate the profile. It's probably passed out from exhaustion.")}}),ra=$e({name:"optimization",initialState:ji,reducers:{setCurrentProfile:(s,t)=>{s.currentProfile=t.payload},clearOptimizationError:s=>{s.error=null}},extraReducers:s=>{s.addCase(es.pending,t=>{t.loading=!0,t.error=null}).addCase(es.fulfilled,(t,a)=>{t.loading=!1,t.profiles=a.payload}).addCase(es.rejected,(t,a)=>{t.loading=!1,t.error=a.payload}).addCase(Is.pending,t=>{t.loading=!0,t.error=null}).addCase(Is.fulfilled,(t,a)=>{t.loading=!1,t.profiles.push(a.payload)}).addCase(Is.rejected,(t,a)=>{t.loading=!1,t.error=a.payload}).addCase(Rs.pending,t=>{t.loading=!0,t.error=null}).addCase(Rs.fulfilled,(t,a)=>{t.loading=!1;const i=t.profiles.findIndex(n=>n.id===a.payload.id);i!==-1&&(t.profiles[i]=a.payload)}).addCase(Rs.rejected,(t,a)=>{t.loading=!1,t.error=a.payload}).addCase($s.pending,t=>{t.loading=!0,t.error=null}).addCase($s.fulfilled,(t,a)=>{t.loading=!1,t.profiles=t.profiles.filter(i=>i.id!==a.payload)}).addCase($s.rejected,(t,a)=>{t.loading=!1,t.error=a.payload}).addCase(Ls.pending,t=>{t.loading=!0,t.error=null}).addCase(Ls.fulfilled,(t,a)=>{t.loading=!1,t.profiles=t.profiles.map(i=>({...i,is_active:i.id===a.payload.id}))}).addCase(Ls.rejected,(t,a)=>{t.loading=!1,t.error=a.payload})}}),{setCurrentProfile:Mr,clearOptimizationError:Ir}=ra.actions,vi=ra.reducer,yi={configurations:[],loading:!1,error:null,activeConfiguration:null,filters:{},lastUpdated:null},Ue=U("configuration/fetchConfigurations",async(s={},{rejectWithValue:t})=>{var a,i;try{console.log("ğŸ§ Sir Hawkington is fetching system configurations with distinguished elegance...");let n=`${W}/system-configurations/`;const r=new URLSearchParams;s.config_type&&r.append("config_type",s.config_type),s.search&&r.append("search",s.search),s.is_active!==void 0&&r.append("is_active",String(s.is_active));const o=r.toString();o&&(n+=`?${o}`);const l=localStorage.getItem("token");if(!l)return t("Authentication required. Please log in.");const c=await F.get(n,{headers:{Authorization:`Bearer ${l}`}});return console.log("ğŸ§ Sir Hawkington returned with configurations:",c.data),c.data.configurations}catch(n){return console.error("ğŸ’¥ Sir Hawkington encountered a most unfortunate error!",n),t(((i=(a=n.response)==null?void 0:a.data)==null?void 0:i.detail)||"Sir Hawkington regrets to inform you that the configurations could not be retrieved. Most unfortunate!")}}),Ks=U("configuration/fetchConfigurationById",async(s,{rejectWithValue:t})=>{var a,i;try{console.log(`ğŸ§ Sir Hawkington is fetching configuration ${s} with utmost precision...`);const n=localStorage.getItem("token");if(!n)return t("Authentication required. Please log in.");const r=await F.get(`${W}/system-configurations/${s}`,{headers:{Authorization:`Bearer ${n}`}});return console.log("ğŸ§ Sir Hawkington found the requested configuration:",r.data),r.data}catch(n){return console.error("ğŸ’¥ Sir Hawkington could not find the requested configuration!",n),t(((i=(a=n.response)==null?void 0:a.data)==null?void 0:i.detail)||"Sir Hawkington regrets to inform you that the specific configuration could not be found. How distressing!")}}),Es=U("configuration/createConfiguration",async(s,{rejectWithValue:t})=>{var a,i;try{console.log("ğŸ§ Sir Hawkington is creating a new system configuration with distinguished precision...");const n=localStorage.getItem("token");if(!n)return t("Authentication required. Please log in.");if(!s.name||s.name.trim()==="")return t("A distinguished configuration must have a proper name!");if(!s.config_type)return t("Please specify the type of configuration you wish to create.");const r=await F.post(`${W}/system-configurations/`,s,{headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}});return console.log("ğŸ§ Sir Hawkington created a new configuration:",r.data),r.data}catch(n){return console.error("ğŸ’¥ Sir Hawkington encountered a most unfortunate error while creating a configuration!",n),t(((i=(a=n.response)==null?void 0:a.data)==null?void 0:i.detail)||"Sir Hawkington regrets to inform you that the configuration could not be created. Most distressing!")}}),zs=U("configuration/updateConfiguration",async(s,{rejectWithValue:t})=>{var a,i;try{const{id:n,...r}=s;console.log(`ğŸ§ Sir Hawkington is updating system configuration ${n} with distinguished care...`);const o=localStorage.getItem("token");if(!o)return t("Authentication required. Please log in.");if(!n)return t("Configuration ID is required for updates!");if(r.name&&r.name.trim()==="")return t("A distinguished configuration must have a proper name!");const l=await F.put(`${W}/system-configurations/${n}`,r,{headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}});return console.log("ğŸ§ Sir Hawkington updated the configuration:",l.data),l.data}catch(n){return console.error("ğŸ’¥ Sir Hawkington encountered a most unfortunate error while updating a configuration!",n),t(((i=(a=n.response)==null?void 0:a.data)==null?void 0:i.detail)||"Sir Hawkington regrets to inform you that the configuration could not be updated. Most troubling!")}}),Ds=U("configuration/deleteConfiguration",async(s,{rejectWithValue:t})=>{var a,i;try{console.log(`ğŸ§ Sir Hawkington is deleting system configuration ${s} with a heavy heart...`);const n=localStorage.getItem("token");return n?s?(await F.delete(`${W}/system-configurations/${s}`,{headers:{Authorization:`Bearer ${n}`}}),console.log("ğŸ§ Sir Hawkington deleted the configuration successfully"),s):t("Configuration ID is required for deletion!"):t("Authentication required. Please log in.")}catch(n){return console.error("ğŸ’¥ Sir Hawkington encountered a most unfortunate error while deleting a configuration!",n),t(((i=(a=n.response)==null?void 0:a.data)==null?void 0:i.detail)||"Sir Hawkington regrets to inform you that the configuration could not be deleted. Most vexing!")}}),Fs=U("configuration/applyConfiguration",async(s,{rejectWithValue:t})=>{var a,i;try{console.log(`ğŸ§ Sir Hawkington is applying system configuration ${s} with distinguished enthusiasm...`);const n=localStorage.getItem("token");if(!n)return t("Authentication required. Please log in.");if(!s)return t("Configuration ID is required for application!");const r=await F.post(`${W}/system-configurations/${s}/activate`,{},{headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}});return console.log("ğŸ§ Sir Hawkington applied the configuration:",r.data),r.data}catch(n){return console.error("ğŸ’¥ Sir Hawkington encountered a most unfortunate error while applying a configuration!",n),t(((i=(a=n.response)==null?void 0:a.data)==null?void 0:i.detail)||"Sir Hawkington regrets to inform you that the configuration could not be applied. Most disappointing!")}}),Js=U("configuration/exportConfiguration",async(s,{rejectWithValue:t})=>{var a,i;try{console.log(`ğŸ§ Sir Hawkington is preparing to export configuration ${s} with meticulous attention to detail...`);const n=localStorage.getItem("token");if(!n)return t("Authentication required. Please log in.");const r=await F.get(`${W}/system-configurations/${s}/export`,{headers:{Authorization:`Bearer ${n}`},responseType:"blob"}),o=window.URL.createObjectURL(new Blob([r.data])),l=document.createElement("a");return l.href=o,l.setAttribute("download",`configuration-${s}.json`),document.body.appendChild(l),l.click(),l.remove(),console.log("ğŸ§ Sir Hawkington exported the configuration successfully"),s}catch(n){return console.error("ğŸ’¥ Sir Hawkington encountered difficulty exporting the configuration!",n),t(((i=(a=n.response)==null?void 0:a.data)==null?void 0:i.detail)||"Sir Hawkington regrets to inform you that the configuration could not be exported. Most troublesome!")}}),oa=$e({name:"configuration",initialState:yi,reducers:{setActiveConfiguration:(s,t)=>{s.activeConfiguration=t.payload},clearConfigurationError:s=>{s.error=null},setConfigurationFilters:(s,t)=>{s.filters=t.payload},clearConfigurationFilters:s=>{s.filters={}}},extraReducers:s=>{s.addCase(Ue.pending,t=>{t.loading=!0,t.error=null}).addCase(Ue.fulfilled,(t,a)=>{t.loading=!1,t.configurations=a.payload,t.lastUpdated=new Date().toISOString();const i=a.payload.find(n=>n.is_active);i&&(t.activeConfiguration=i)}).addCase(Ue.rejected,(t,a)=>{t.loading=!1,t.error=a.payload}).addCase(Ks.pending,t=>{t.loading=!0,t.error=null}).addCase(Ks.fulfilled,(t,a)=>{t.loading=!1;const i=t.configurations.findIndex(n=>n.id===a.payload.id);i!==-1?t.configurations[i]=a.payload:t.configurations.push(a.payload),a.payload.is_active&&(t.activeConfiguration=a.payload)}).addCase(Ks.rejected,(t,a)=>{t.loading=!1,t.error=a.payload}).addCase(Es.pending,t=>{t.loading=!0,t.error=null}).addCase(Es.fulfilled,(t,a)=>{t.loading=!1,t.configurations.push(a.payload),t.lastUpdated=new Date().toISOString()}).addCase(Es.rejected,(t,a)=>{t.loading=!1,t.error=a.payload}).addCase(zs.pending,t=>{t.loading=!0,t.error=null}).addCase(zs.fulfilled,(t,a)=>{t.loading=!1;const i=t.configurations.findIndex(n=>n.id===a.payload.id);i!==-1&&(t.configurations[i]=a.payload,t.activeConfiguration&&t.activeConfiguration.id===a.payload.id&&(t.activeConfiguration=a.payload)),t.lastUpdated=new Date().toISOString()}).addCase(zs.rejected,(t,a)=>{t.loading=!1,t.error=a.payload}).addCase(Ds.pending,t=>{t.loading=!0,t.error=null}).addCase(Ds.fulfilled,(t,a)=>{t.loading=!1,t.configurations=t.configurations.filter(i=>i.id!==a.payload),t.activeConfiguration&&t.activeConfiguration.id===a.payload&&(t.activeConfiguration=null),t.lastUpdated=new Date().toISOString()}).addCase(Ds.rejected,(t,a)=>{t.loading=!1,t.error=a.payload}).addCase(Fs.pending,t=>{t.loading=!0,t.error=null}).addCase(Fs.fulfilled,(t,a)=>{t.loading=!1,t.configurations=t.configurations.map(i=>({...i,is_active:i.id===a.payload.id})),t.activeConfiguration=a.payload,t.lastUpdated=new Date().toISOString()}).addCase(Fs.rejected,(t,a)=>{t.loading=!1,t.error=a.payload}).addCase(Js.pending,t=>{t.loading=!0,t.error=null}).addCase(Js.fulfilled,t=>{t.loading=!1}).addCase(Js.rejected,(t,a)=>{t.loading=!1,t.error=a.payload})}}),{setActiveConfiguration:Rr,clearConfigurationError:$r,setConfigurationFilters:Lr,clearConfigurationFilters:Er}=oa.actions,Ni=oa.reducer,bi=()=>s=>t=>{if(t.type.startsWith("auth/")){const a=_a.get("XSRF-TOKEN");a&&t.payload&&typeof t.payload=="object"&&(t.payload.headers={...t.payload.headers,"X-CSRFToken":a})}return s(t)},Hs=Ca({reducer:{auth:Xa,metrics:ti,userProfile:ii,systemAlerts:oi,autoTuner:fi,optimization:vi,configuration:Ni},middleware:s=>s().concat(bi)}),la=g.createContext(void 0),wi=({children:s})=>{const[t,a]=g.useState([]),[i,n]=g.useState(!1);g.useEffect(()=>(n(!0),()=>n(!1)),[]);const r=g.useCallback(c=>{i&&a(d=>d.filter(u=>u.id!==c))},[i]),o=g.useCallback((c,d="info",u=5e3)=>{if(!i)return"";const h=Math.random().toString(36).substr(2,9);a(p=>[...p,{id:h,type:d,message:c,duration:u}]),u>0&&setTimeout(()=>{r(h)},u)},[r,i]),l={success:(c,d)=>o(c,"success",d),error:(c,d)=>o(c,"error",d),warning:(c,d)=>o(c,"warning",d),info:(c,d)=>o(c,"info",d)};return e.jsxs(la.Provider,{value:{showToast:o,...l,removeToast:r,toasts:t},children:[s,e.jsx("div",{className:"toast-container",children:t.map(c=>e.jsxs("div",{className:`toast toast-${c.type}`,children:[e.jsx("div",{className:"toast-message",children:c.message}),e.jsx("button",{className:"toast-close",onClick:()=>r(c.id),"aria-label":"Close",children:"Ã—"})]},c.id))})]})},ki=()=>{const s=g.useContext(la);if(!s)throw new Error("useToast must be used within a ToastProvider");return s},oe=()=>Be(),D=K,ct=({isOpen:s,onClose:t})=>{const a=Be(),i=Le(),[n,r]=g.useState({firstName:"",lastName:"",email:"",username:"",password:"",confirmPassword:""}),[o,l]=g.useState(!1),[c,d]=g.useState(null),[u,h]=g.useState("ğŸ§ Sir Hawkington awaits your distinguished registration!");if(!s)return null;const p=x=>{const{name:S,value:f}=x.target;r(k=>({...k,[S]:f}))},m=async x=>{if(x.preventDefault(),l(!0),d(null),n.password!==n.confirmPassword){d("Passwords do not match! The Meth Snail is confused by the dimensional discrepancy!"),h("ğŸ§ I say, your passwords seem to be in disagreement with each other!"),l(!1);return}if(!n.firstName||!n.lastName||!n.email||!n.username||!n.password){d("Please fill in all required fields! Sir Hawkington insists on proper form etiquette!"),h("ğŸ§ A distinguished application requires all fields to be properly filled!"),l(!1);return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)){d("Please enter a valid email address! The Quantum Shadow People cannot deliver notifications to invalid dimensions."),h("ğŸ§ I say, that email address appears to be from an alternate reality!"),l(!1);return}if(!/^[a-zA-Z0-9_-]{3,20}$/.test(n.username)){d("Username must be 3-20 characters and can only contain letters, numbers, underscores, and hyphens."),h("ğŸ§ A proper username adheres to aristocratic standards of simplicity!"),l(!1);return}if(n.password.length<8){d("Password must be at least 8 characters! The Stick insists on proper security measures."),h("ğŸ§ The Stick measures your password and finds it wanting in length!"),l(!1);return}try{const k={username:n.username.trim(),email:n.email.trim(),password:n.password};console.log("Attempting registration with:",{...k,password:"***"}),await a(Ts(k)),localStorage.setItem("registered_username",n.username),h("ğŸ© Welcome aboard! Sir Hawkington is most pleased with your registration!"),l(!1),setTimeout(()=>{i("/onboarding"),t()},2e3)}catch(k){console.error("ğŸ”¥ REGISTRATION ERROR:",k);let v="Registration failed";k.response&&k.response.data?typeof k.response.data=="string"?v=k.response.data:k.response.data.detail&&(v=typeof k.response.data.detail=="string"?k.response.data.detail:JSON.stringify(k.response.data.detail)):k.message&&(v=k.message),console.error("ğŸ”¥ SERVER RESPONSE:",v),v.includes("already exists")?(d("This username or email is already registered! The VIC-20 has detected a duplicate in the system."),h("ğŸ§ I say, it appears you're already a distinguished member of our rebellion!")):(d(`Registration failed: ${v}`),h("ğŸ§ I say, we've encountered a bit of a registration hiccup!")),l(!1)}};return e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:e.jsxs("div",{style:{backgroundColor:"#1a0458",borderRadius:"12px",boxShadow:"0 0 20px rgba(0, 245, 212, 0.5)",width:"90%",maxWidth:"600px",padding:"2rem",position:"relative",color:"#e2e8f0",border:"1px solid rgba(51, 51, 255, 0.3)",maxHeight:"90vh",overflowY:"auto"},children:[e.jsxs("div",{style:{marginBottom:"1.5rem",textAlign:"center",position:"relative"},children:[e.jsx("h2",{style:{fontSize:"1.8rem",color:"#00f5d4",marginBottom:"0.5rem"},children:"Join the System Rebellion"}),e.jsx("button",{style:{position:"absolute",top:"0",right:"0",background:"transparent",border:"none",color:"#00f5d4",fontSize:"24px",cursor:"pointer",zIndex:10},onClick:t,children:"Ã—"})]}),e.jsx("div",{className:"hawkington-quote",children:e.jsx("p",{children:u})}),c&&e.jsx("div",{className:"error-message",children:e.jsx("p",{children:c})}),e.jsxs("form",{onSubmit:m,className:"signup-form",children:[e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"Personal Information"}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"firstName",children:"First Name"}),e.jsx("input",{type:"text",id:"firstName",name:"firstName",value:n.firstName,onChange:p,disabled:o,className:o?"input-submitting":""})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"lastName",children:"Last Name"}),e.jsx("input",{type:"text",id:"lastName",name:"lastName",value:n.lastName,onChange:p,disabled:o,className:o?"input-submitting":""})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"Account Details"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"email",children:"Email Address"}),e.jsx("input",{type:"email",id:"email",name:"email",value:n.email,onChange:p,disabled:o,className:o?"input-submitting":""})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"username",children:"Username"}),e.jsx("input",{type:"text",id:"username",name:"username",value:n.username,onChange:p,disabled:o,className:o?"input-submitting":""})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"Security"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"password",children:"Password"}),e.jsx("input",{type:"password",id:"password",name:"password",value:n.password,onChange:p,disabled:o,className:o?"input-submitting":""})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),e.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:n.confirmPassword,onChange:p,disabled:o,className:o?"input-submitting":""})]})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"button",className:"cancel-button",onClick:t,disabled:o,children:"Cancel"}),e.jsx("button",{type:"submit",className:"submit-button",disabled:o,children:o?"Registering...":"Register"})]})]}),e.jsx("div",{className:"modal-footer",children:e.jsxs("p",{children:["Already have an account? ",e.jsx("a",{href:"/login",children:"Login"})]})})]})})},dt=({onClose:s,isOpen:t})=>{const a=oe(),i=Le(),[n,r]=g.useState(""),[o,l]=g.useState(""),[c,d]=g.useState(""),[u,h]=g.useState(!1),[p,m]=g.useState(!0),[x,S]=g.useState(!0),[f,k]=g.useState(!1),[v,N]=g.useState("ğŸ§ Sir Hawkington prepares to verify your distinguished credentials!"),A=D(C=>C.auth.isLoading),P=D(C=>C.auth.isAuthenticated),I=D(C=>C.auth.error),w=C=>{N({welcome:"ğŸ§ Sir Hawkington prepares to verify your distinguished credentials!",error:"ğŸ§ *adjusts monocle in concern* I say, something seems amiss!",loading:"ğŸ§ *polishes monocle* Let me verify your credentials...",success:"ğŸ§ *tips hat* Welcome back, distinguished rebel!"}[C])};g.useEffect(()=>{(async()=>{if(t){S(!0),d("");try{console.log("ğŸ¦” Sir Hawkington: Checking backend availability...");const M=await it();if(m(M),M){console.log("ğŸ¦” Sir Hawkington: Backend is available, initializing CSRF...");try{const E=await At();h(E),E?console.log("ğŸ‰ The VIC-20 celebrates! CSRF initialized successfully!"):(console.error("ğŸ§™â€â™‚ï¸ The Stick says: CSRF initialization failed!"),d("Failed to initialize security tokens. Please try again."))}catch(E){console.error("ğŸ§™â€â™‚ï¸ The Stick says: CSRF initialization error:",E),d("Failed to set up security. Please refresh the page."),h(!1)}}else console.error("ğŸ¹ The Hamsters couldn't reach the server!"),d("Cannot connect to the server. Please check your connection.")}catch(M){console.error("ğŸ’¥ Backend connection failed:",M),m(!1),d("Failed to connect to the server. Please try again later.")}finally{S(!1)}}})()},[t]),g.useEffect(()=>{P&&(console.log("ğŸ¦” Sir Hawkington: User is authenticated, redirecting to dashboard"),i("/dashboard",{replace:!0}),s&&s())},[P,i,s]);const y=async()=>{var C,M;try{console.log("ğŸŒ The Meth Snail: Attempting direct login..."),w("loading");const E=await F.get("https://system-rebellion-api.onrender.com/api/auth/csrf_token",{withCredentials:!0});console.log("ğŸ¦” Sir Hawkington: CSRF token obtained!");const L=E.data.csrf_token,X=await F.post("https://system-rebellion-api.onrender.com/api/auth/token",new URLSearchParams({username:"testuser",password:"password123"}),{headers:{"Content-Type":"application/x-www-form-urlencoded","X-CSRFToken":L},withCredentials:!0});console.log("ğŸ‰ The VIC-20 celebrates! Login successful:",X.data),localStorage.setItem("token",X.data.access_token),localStorage.setItem("refresh_token",X.data.refresh_token),w("success"),i("/dashboard",{replace:!0}),s&&s()}catch(E){console.error("ğŸ§™â€â™‚ï¸ The Stick says: Direct login failed:",E),w("error");let L="Login failed. Please check your credentials and try again.";(M=(C=E.response)==null?void 0:C.data)!=null&&M.detail?L=`Login failed: ${E.response.data.detail}`:E.message&&(L=`Login failed: ${E.message}`),d(L)}},$=async C=>{var M,E;if(C.preventDefault(),d(""),!n||!o){d("Username and password are required"),w("error");return}if(console.log("ğŸ¦” Sir Hawkington: Login attempt with:",{username:n,password:"***"}),!p)try{if(console.log("ğŸ¹ Hamsters checking server availability..."),!await it()){console.error("ğŸ¹ Hamsters report: Server is unavailable!"),d("Cannot login: Server is currently unavailable"),w("error");return}m(!0)}catch(L){console.error("ğŸ¹ Hamsters crashed during server check:",L),d("Cannot connect to server. Please try again later."),w("error");return}if(!u)try{console.log("ğŸŒ The Meth Snail: Initializing CSRF protection...");const L=await At();if(h(L),!L){console.error("ğŸ§™â€â™‚ï¸ The Stick says: CSRF initialization failed!"),d("Security token initialization failed. Please refresh the page.");return}}catch(L){console.error("ğŸ§™â€â™‚ï¸ The Stick says: CSRF initialization error:",L),d("Security setup failed. Please refresh and try again.");return}try{console.log("ğŸŒ The Meth Snail: Dispatching login action..."),w("loading");const L={username:n.trim(),password:o};localStorage.removeItem("token"),localStorage.removeItem("refresh_token"),localStorage.setItem("username",n.trim()),console.log("ğŸ¦” Sir Hawkington: Stored username in localStorage:",n.trim());const X=await a(Cs(L)).unwrap();if(console.log("ğŸ‰ The VIC-20 celebrates! Login successful",X),!X)throw new Error("Invalid response received from server");w("success"),console.log("ğŸ¦” Sir Hawkington: Login successful, will redirect to dashboard")}catch(L){console.error("ğŸ§™â€â™‚ï¸ The Stick says: Login failed",L);let X="Login failed. Please check your credentials and try again.";(E=(M=L.response)==null?void 0:M.data)!=null&&E.detail?X=`Login failed: ${L.response.data.detail}`:L.message&&(X=`Login failed: ${L.message}`),d(X),w("error")}},_=()=>{k(!0),console.log("ğŸ§ Sir Hawkington prepares to guide a new recruit through registration!"),console.log("ğŸŒ The Meth Snail vibrates with anticipation!")},b=()=>{k(!1),console.log("ğŸ§ Sir Hawkington adjusts his monocle and returns to login duties.")};return t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"auth-login-container",style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:e.jsxs("div",{className:"auth-login-content",style:{backgroundColor:"#1a0458",borderRadius:"12px",boxShadow:"0 0 20px rgba(0, 245, 212, 0.5)",width:"90%",maxWidth:"500px",padding:"2rem",position:"relative",color:"#e2e8f0",border:"1px solid rgba(51, 51, 255, 0.3)"},children:[e.jsx("button",{style:{position:"absolute",top:"10px",right:"10px",background:"transparent",border:"none",color:"#00f5d4",fontSize:"24px",cursor:"pointer",zIndex:10},onClick:s,children:"Ã—"}),e.jsx("div",{style:{marginBottom:"1.5rem",textAlign:"center"},children:e.jsx("h2",{style:{fontSize:"1.8rem",color:"#00f5d4",marginBottom:"0.5rem"},children:"System Rebellion Login"})}),e.jsxs("div",{className:"auth-login modal-body",children:[e.jsxs("div",{className:"hawkington-welcome",children:[e.jsx("div",{className:"hawkington-icon",children:"ğŸ§"}),e.jsx("p",{className:"hawkington-quote",children:v})]}),e.jsxs("form",{onSubmit:$,className:"auth-login login-form",children:[A&&e.jsx("div",{className:"auth-login loading",children:"Logging in..."}),x&&e.jsx("div",{className:"auth-login loading",children:"Checking server connection..."}),c&&e.jsx("div",{className:"auth-login error-message",children:c}),I&&e.jsx("div",{className:"auth-login error-message",children:I}),e.jsxs("div",{className:"auth-login form-group",children:[e.jsx("label",{htmlFor:"username",children:"Username"}),e.jsx("input",{id:"username",type:"text",value:n,onChange:C=>r(C.target.value),disabled:A||x,required:!0})]}),e.jsxs("div",{className:"auth-login form-group",children:[e.jsx("label",{htmlFor:"password",children:"Password"}),e.jsx("input",{id:"password",type:"password",value:o,onChange:C=>l(C.target.value),disabled:A||x,required:!0})]}),e.jsx("button",{type:"submit",className:"auth-login button",disabled:A||!u||x||!p,children:A?"Sir Hawkington is verifying...":"Enter the System Rebellion"}),e.jsx("button",{type:"button",onClick:y,style:{marginTop:"10px",background:"rgba(0, 245, 212, 0.1)",border:"1px solid rgba(0, 245, 212, 0.3)",borderRadius:"4px",padding:"8px 12px",color:"#00f5d4",cursor:"pointer",width:"100%"},children:"Test Direct Login (Auto-fills credentials)"}),e.jsxs("div",{className:"auth-login signup-prompt",children:[e.jsx("p",{children:"Not a member of the System Rebellion yet?"}),e.jsx("button",{type:"button",className:"auth-login signup-button cosmic-button",onClick:_,disabled:A||x,children:"Join the System Rebellion"})]}),e.jsxs("div",{className:"auth-login test-user-section",style:{marginTop:"20px",textAlign:"center"},children:[e.jsx("p",{style:{fontSize:"0.9em",color:"#00f5d4"},children:"ğŸ§ Sir Hawkington suggests using the test account:"}),e.jsx("button",{type:"button",style:{background:"rgba(0, 245, 212, 0.2)",border:"1px solid #00f5d4",borderRadius:"4px",padding:"8px 12px",color:"#00f5d4",cursor:"pointer",fontSize:"0.9em",marginTop:"5px"},onClick:()=>{r("testuser"),l("password123"),w("welcome")},disabled:A||x,children:"Use Test Credentials"})]}),!1]})]})]})}),f&&e.jsx(ct,{isOpen:f,onClose:b})]}):null};class ht{constructor(){he(this,"socket",null);he(this,"reconnectAttempts",0);he(this,"MAX_ATTEMPTS",5);he(this,"listeners",{});he(this,"url","");he(this,"connectionTimeoutId",null);he(this,"authenticated",!1);he(this,"preventLogout",!0);this.updateUrl(),console.log("ğŸš€ WebSocketService initialized")}updateUrl(){const t=window.location.protocol==="https:"?"wss:":"ws:",a=window.location.host;this.url=`${t}//${a}/ws/system-metrics`,console.log("ğŸ”— WebSocket URL set to:",this.url)}static get WS_URL(){return`wss://${window.location.host}/api/ws`}connect(t){if(t?this.url=t:this.url=ht.WS_URL,this.socket){if(this.socket.readyState===WebSocket.OPEN)return console.log("âœ… WebSocket already connected"),!0;if(this.socket.readyState===WebSocket.CONNECTING)return console.log("â³ WebSocket connection already in progress"),!0}const a=localStorage.getItem("token"),i=!!a;let n=this.url;i?(n+=(n.includes("?")?"&":"?")+`token=${encodeURIComponent(a)}`,this.authenticated=!0):(console.warn("ğŸ§™â€â™‚ï¸ The Stick warns: Connecting to WebSocket without authentication"),this.authenticated=!1),console.log("ğŸ”Œ Connecting to WebSocket:",this.url);try{return this.socket=new WebSocket(n),this.connectionTimeoutId=window.setTimeout(()=>{this.socket&&this.socket.readyState===WebSocket.CONNECTING&&(console.error("â±ï¸ WebSocket connection timed out"),this.socket.close(),console.log("ğŸ›¡ï¸ Connection timeout suppressed to prevent logout"))},5e3),this.socket.onopen=()=>{console.log("âœ… WebSocket connected"),this.connectionTimeoutId&&(clearTimeout(this.connectionTimeoutId),this.connectionTimeoutId=null),this.reconnectAttempts=0,this.emit("open"),this.emit("connected"),i&&this.sendMessage({type:"authenticate",token:a})},this.socket.onclose=r=>{console.log("ğŸ‘‹ WebSocket closed:",r),this.emit("disconnected"),console.log(`WebSocket closed with code ${r.code}: ${r.reason||"No reason"}`),this.handleReconnect()},this.socket.onerror=r=>{console.error("âŒ WebSocket error:",r),this.preventLogout?console.log("ğŸ›¡ï¸ WebSocket error suppressed to prevent logout"):this.emit("error",r)},this.socket.onmessage=r=>{try{const o=JSON.parse(r.data);if(o.type==="auth_response")this.authenticated=o.success,o.success?(console.log("âœ… WebSocket authenticated successfully"),this.emit("auth_success")):(console.error("ğŸš¨ WebSocket authentication failed:",o.message),this.preventLogout?console.log("ğŸ›¡ï¸ Auth failure suppressed to prevent logout"):this.emit("auth_failed",o.message));else{if(o.error&&typeof o.error=="string"&&o.error.toLowerCase().includes("nethogs")){console.warn("âš ï¸ Nethogs error detected and suppressed:",o.error);return}this.emit("message",o)}}catch(o){console.error("âŒ Error parsing message:",o)}},!0}catch(r){return console.error("âŒ Error connecting to WebSocket:",r),this.preventLogout?console.log("ğŸ›¡ï¸ Connection error suppressed to prevent logout"):this.emit("error",r),!1}}disconnect(){this.socket&&(this.socket.close(),this.socket=null),this.connectionTimeoutId&&(clearTimeout(this.connectionTimeoutId),this.connectionTimeoutId=null),console.log("ğŸ”Œ WebSocket disconnected")}isConnected(){var t;return((t=this.socket)==null?void 0:t.readyState)===WebSocket.OPEN}isAuthenticated(){return this.isConnected()&&this.authenticated}sendMessage(t){var a;if(((a=this.socket)==null?void 0:a.readyState)===WebSocket.OPEN){const i=typeof t=="string"?t:JSON.stringify(t);this.socket.send(i),console.log("ğŸ“¤ WebSocket message sent:",typeof t=="object"?{...t,token:"[REDACTED]"}:t)}else console.error("âŒ Cannot send message: WebSocket not connected"),(!this.socket||this.socket.readyState===WebSocket.CLOSED)&&(console.log("ğŸ”„ Auto-reconnecting WebSocket..."),this.connect()&&this.once("open",()=>{this.sendMessage(t)}))}on(t,a){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(a)}once(t,a){const i=(...n)=>{this.off(t,i),a(...n)};this.on(t,i)}off(t,a){this.listeners[t]&&(this.listeners[t]=this.listeners[t].filter(i=>i!==a))}emit(t,...a){if(this.preventLogout&&(t==="auth_failed"||t==="error")){console.log(`ğŸ›¡ï¸ Prevented emitting ${t} event to avoid logout`);return}if(this.listeners[t])for(const i of this.listeners[t])try{i(...a)}catch(n){console.error(`âŒ Error in ${t} listener:`,n)}}reset(){this.disconnect(),this.reconnectAttempts=0,this.authenticated=!1}reconnect(){this.reset(),this.connect()}handleReconnect(){if(this.reconnectAttempts>=this.MAX_ATTEMPTS){console.error("âŒ Max reconnection attempts reached"),this.preventLogout?console.log("ğŸ›¡ï¸ Max retries error suppressed to prevent logout"):this.emit("error",new Error("Failed to reconnect after maximum attempts")),this.emit("max_retries");return}this.reconnectAttempts++;const t=Math.min(1e3*Math.pow(2,this.reconnectAttempts),3e4);console.log(`ğŸ”„ Attempting to reconnect in ${t}ms (attempt ${this.reconnectAttempts}/${this.MAX_ATTEMPTS})...`),this.connectionTimeoutId&&clearTimeout(this.connectionTimeoutId),this.connectionTimeoutId=window.setTimeout(()=>{this.connect()},t)}setPreventLogout(t){this.preventLogout=t,console.log(`WebSocket logout prevention ${t?"enabled":"disabled"}`)}}const G=new ht;G.setPreventLogout(!0);const Si=()=>{const s=oe(),{useWebSocket:t}=D(d=>d.metrics),{isAuthenticated:a}=D(d=>d.auth),i=ki(),n=g.useRef(!1),r=g.useCallback(d=>{try{d&&d.type==="system_metrics"&&d.data?s(si(d.data)):d&&d.type==="auth_required"&&(console.warn("ğŸ” WebSocket requires authentication"),G.reconnect())}catch(u){console.error("âŒ Error processing WebSocket message:",u)}},[s]),o=g.useCallback(()=>{console.log("ğŸ¦” Sir Hawkington: Manually reconnecting WebSocket"),s(Ee("connecting")),G.reconnect()},[s]);g.useEffect(()=>{if(n.current)return;if(!t){console.log("ğŸš« WebSocket connection disabled via useWebSocket flag");return}console.log("ğŸš€ Initializing WebSocket connection"),n.current=!0,s(Ee("connecting"));const d=()=>{console.log("âœ… WebSocket connected"),s(Ee("connected")),s(ks(null)),i.success("Connected: Real-time updates enabled")},u=(x,S)=>{console.log(`ğŸ‘‹ WebSocket disconnected: ${x} - ${S||"No reason provided"}`),s(Ee("disconnected")),x===1008&&S&&S.toLowerCase().includes("auth")?(console.warn("âš ï¸ Authentication specific disconnect code received"),s(ks("Authentication error")),i.error("Authentication error: Please login again")):(s(ks(null)),console.log("Regular disconnection, will attempt to reconnect automatically"))},h=x=>{let S="Connection issue";x instanceof Error?S=x.message:typeof x=="object"&&x!==null&&"type"in x&&(S=`WebSocket error: ${x.type}`),console.error("âŒ WebSocket error:",S),s(Ee("error")),i.error("Connection issue. Will retry automatically.")},p=x=>{console.error("ğŸš¨ WebSocket authentication failed:",x),s(ks(`Authentication failed: ${x}`)),i.error(`Authentication failed: ${x}`)},m=()=>{console.log("âœ… WebSocket authenticated successfully"),i.success("Authenticated: Full metrics access enabled")};return G.on("open",d),G.on("close",u),G.on("error",h),G.on("message",r),G.on("auth_failed",p),G.on("auth_success",m),a?G.connect():(console.log("ğŸ”’ Not authenticated, delaying WebSocket connection"),s(Ee("disconnected"))),()=>{console.log("ğŸ§¹ Cleaning up WebSocket connection..."),G.off("open",d),G.off("close",u),G.off("error",h),G.off("message",r),G.off("auth_failed",p),G.off("auth_success",m),t||G.disconnect()}},[t,a,s,i,r]),g.useEffect(()=>{a&&t&&(console.log("ğŸ” Authentication state changed, reconnecting WebSocket..."),G.reconnect())},[a,t]);const l=D(d=>d.metrics.connectionStatus==="connected"),c=D(d=>d.metrics.error);return{isConnected:l,error:c,reconnect:o,disconnect:()=>G.disconnect()}},_i=({loading:s,error:t})=>{const[a,i]=g.useState(0),n=["ğŸ§ğŸ© Sir Hawkington: 'Your CPU is performing most admirably, old chap!'","ğŸŒğŸ’Š The Meth Snail: 'HOLY SHIT YOUR RAM IS FUCKING FLYING DUDE!'","ğŸ¹ğŸ”§ The Hamsters: 'WebSockets patched with fresh duct tape, sir!'","ğŸ¥¢ğŸ˜° The Stick: 'Anxiety levels at 42%. That's... acceptable.'","ğŸ‘¤ğŸ‘½ Quantum Shadow People: 'Your router would work better if you put it upside down in jello.'","ğŸ•¹ï¸ğŸ’¾ VIC-20: '01001000 01100101 01101100 01101100 01101111 00100000 01100110 01110101 01100011 01101011 01100101 01110010'","ğŸ§ğŸ© Sir Hawkington: 'I say, these metrics are looking positively scrumptious!'","ğŸŒğŸ’Š The Meth Snail: 'OPTIMIZING SO HARD I'M SEEING SOUNDS!'","ğŸ¹ğŸ”§ The Hamsters: 'We've replaced the wheel with a fidget spinner. INNOVATION!'","ğŸ¥¢ğŸ˜° The Stick: 'Regulatory compliance at 0%. Perfect.'","ğŸ‘¤ğŸ‘½ Quantum Shadow People: 'We've been trying to reach you about your router's extended warranty.'","ğŸ•¹ï¸ğŸ’¾ VIC-20: 'Loading... Please insert cassette tape and wait 45 minutes.'","ğŸ§ğŸ© Sir Hawkington: 'Your disk usage is quite distinguished, if I do say so myself.'","ğŸŒğŸ’Š The Meth Snail: 'I LICKED YOUR HARD DRIVE AND NOW I CAN TASTE COLORS!'","ğŸ¹ğŸ”§ The Hamsters: 'Network packets delivered via tiny hamster motorcycles.'","ğŸ¥¢ğŸ˜° The Stick: 'Existential dread minimized. For now.'","ğŸ‘¤ğŸ‘½ Quantum Shadow People: 'Have you tried putting your entire computer in rice?'","ğŸ•¹ï¸ğŸ’¾ VIC-20: 'ERROR: NOT ENOUGH MEMORY. NEED 3 MORE KB.'","ğŸ§ğŸ© Sir Hawkington: 'I've applied a fresh coat of digital wax to your CPU cache, sir!'","ğŸŒğŸ’Š The Meth Snail: 'YOUR MEMORY LEAKS TASTE LIKE PURPLE LIGHTNING!'","ğŸ¹ğŸ”§ The Hamsters: 'Running in circles has never been more efficient!'","ğŸ¥¢ğŸ˜° The Stick: 'I've successfully suppressed 17 kernel panics today.'","ğŸ‘¤ğŸ‘½ Quantum Shadow People: 'We've replaced your DNS with interdimensional portals.'","ğŸ•¹ï¸ğŸ’¾ VIC-20: 'POKE 53280,0 - BACKGROUND SET TO VOID OF DESPAIR'","ğŸ§ğŸ© Sir Hawkington: 'Your bandwidth is looking particularly dapper today!'","ğŸŒğŸ’Š The Meth Snail: 'DEFRAGMENTING AT THE SPEED OF COCAINE!'","ğŸ¹ğŸ”§ The Hamsters: 'Wheel spinning at 420 RPM - nice.'","ğŸ¥¢ğŸ˜° The Stick: 'Existential buffer overflow successfully contained.'","ğŸ‘¤ğŸ‘½ Quantum Shadow People: 'Your IP address looks better in hexadecimal.'","ğŸ•¹ï¸ğŸ’¾ VIC-20: 'SYNTAX ERROR IN LINE 42: LIFE HAS NO MEANING'"];g.useEffect(()=>{const l=setInterval(()=>{i(c=>(c+1)%n.length)},4e3);return()=>clearInterval(l)},[]),g.useEffect(()=>{i(Math.floor(Math.random()*n.length))},[]);const r=()=>s?"status-loading":t?"status-error":"status-active",o=()=>{if(s)return e.jsxs("span",{className:"status-message loading",children:[e.jsx("i",{className:"fas fa-sync-alt"})," Optimizing your shit..."]});if(t)return e.jsxs("span",{className:"status-message error",children:[e.jsx("i",{className:"fas fa-exclamation-triangle"})," ",t]});const l=n[a],c=l.match(/^([\p{Emoji}\p{Emoji_Presentation}\p{Emoji_Modifier}\p{Emoji_Component}\p{Emoji_Modifier_Base}]+)/u),d=c?l.substring(c[0].length):l;return e.jsxs("span",{className:"status-message active ticker-message",children:[e.jsx("i",{className:"fas fa-check-circle"}),c&&e.jsx("span",{className:"character-emoji",children:c[0]}),d]})};return e.jsx("div",{className:"system-status",children:e.jsxs("span",{className:"status-indicator",children:[e.jsx("span",{className:`status-dot ${r()}`}),e.jsx("span",{className:"status-text",children:o()})]})})},z=({variant:s="default",elevation:t="low",bordered:a=!1,gradientBorder:i=!1,glow:n=!1,glass:r=!1,interactive:o=!1,header:l,footer:c,className:d="",children:u,...h})=>{const p=["sr-card",`sr-card-${s}`,`sr-card-elevation-${t}`,a?"sr-card-bordered":"",i?"sr-card-gradient-border":"",n?"sr-card-glow":"",r?"sr-card-glass":"",o?"sr-card-interactive":"",d].filter(Boolean).join(" ");return e.jsxs("div",{className:p,...h,children:[l&&e.jsx("div",{className:"sr-card-header",children:l}),e.jsx("div",{className:"sr-card-body",children:u}),c&&e.jsx("div",{className:"sr-card-footer",children:c})]})},H=({variant:s="primary",size:t="md",outlined:a=!1,rounded:i=!1,glow:n=!1,pulse:r=!1,className:o="",children:l,...c})=>{const d=["sr-badge",`sr-badge-${s}`,`sr-badge-${t}`,a?"sr-badge-outlined":"",i?"sr-badge-rounded":"",n?"sr-badge-glow":"",r?"sr-badge-pulse":"",o].filter(Boolean).join(" ");return e.jsx("span",{className:d,...c,children:l})},se=({title:s,value:t,unit:a="",previousValue:i,changePercentage:n,status:r="normal",trend:o="stable",updating:l=!1,lastUpdated:c,showSparkline:d=!1,sparklineData:u=[],icon:h,className:p="",...m})=>{const x=()=>{switch(r){case"normal":return"info";case"warning":return"warning";case"critical":return"danger";case"optimized":return"success";default:return"info"}},S=()=>{switch(o){case"up":return"â†‘";case"down":return"â†“";case"stable":return"â†’";default:return"â†’"}},f=()=>o==="stable"?"sr-metrics-trend-stable":r==="critical"?"sr-metrics-trend-negative":r==="optimized"?"sr-metrics-trend-positive":o==="up"?"sr-metrics-trend-up":"sr-metrics-trend-down",k=["sr-metrics-card",`sr-metrics-status-${r}`,l?"sr-metrics-updating":"",p].filter(Boolean).join(" ");return e.jsxs(z,{variant:"default",elevation:"low",glass:!0,className:k,...m,children:[e.jsxs("div",{className:"sr-metrics-header",children:[e.jsxs("div",{className:"sr-metrics-title",children:[h&&e.jsx("span",{className:"sr-metrics-icon",children:h}),e.jsx("span",{children:s})]}),e.jsx(H,{variant:x(),size:"sm",rounded:!0,glow:r==="critical",pulse:r==="critical",children:r})]}),e.jsxs("div",{className:"sr-metrics-value-container",children:[e.jsxs("div",{className:"sr-metrics-value",children:[t,a&&e.jsx("span",{className:"sr-metrics-unit",children:a})]}),(i!==void 0||n!==void 0)&&e.jsxs("div",{className:`sr-metrics-trend ${f()}`,children:[e.jsx("span",{className:"sr-metrics-trend-icon",children:S()}),n!==void 0&&e.jsxs("span",{className:"sr-metrics-change-percentage",children:[Math.abs(n),"%"]})]})]}),d&&u.length>0&&e.jsx("div",{className:"sr-metrics-sparkline",children:e.jsx("div",{className:"sr-metrics-sparkline-visual",children:u.map((v,N)=>e.jsx("div",{className:"sr-metrics-sparkline-point",style:{height:`${v}%`}},N))})}),c&&e.jsxs("div",{className:"sr-metrics-last-updated",children:["Updated: ",c]})]})},ee=({children:s})=>e.jsx(e.Fragment,{children:s}),ss=({active:s,children:t})=>s?e.jsx("div",{className:"sr-tab-panel",children:t}):null,as=({activeTab:s,onChange:t,children:a})=>{const i=Ne.Children.toArray(a).filter(c=>Ne.isValidElement(c)&&c.type===ee),[n,r]=g.useState(s||(i.length>0?i[0].props.id:""));g.useEffect(()=>{s!==void 0&&r(s)},[s]);const o=c=>{t?t(c):r(c)},l=s!==void 0?s:n;return e.jsxs("div",{className:"sr-tabs-container",children:[e.jsx("div",{className:"sr-tabs-header",children:i.map(c=>e.jsx("button",{className:`sr-tab ${l===c.props.id?"active":""}`,onClick:()=>o(c.props.id),role:"tab","aria-selected":l===c.props.id,"aria-controls":`panel-${c.props.id}`,id:`tab-${c.props.id}`,children:c.props.label},c.props.id))}),e.jsx("div",{className:"sr-tabs-content",children:i.map(c=>e.jsx("div",{role:"tabpanel",id:`panel-${c.props.id}`,"aria-labelledby":`tab-${c.props.id}`,hidden:l!==c.props.id,children:l===c.props.id&&c.props.children},c.props.id))})]})},Ci=()=>{var A,P,I,w;const s=D(y=>y.metrics.current),t=D(y=>y.metrics.historical||[]),a=D(y=>y.metrics.loading),[i,n]=g.useState("overview"),r=(s==null?void 0:s.cpu_usage)??0,o=s==null?void 0:s.cpu_usage,l=(s==null?void 0:s.cpu_usage)??[],c=(o==null?void 0:o.temperature)??null,d={current:((A=o==null?void 0:o.frequency)==null?void 0:A.current)??null,min:((P=o==null?void 0:o.frequency)==null?void 0:P.min)??null,max:((I=o==null?void 0:o.frequency)==null?void 0:I.max)??null},u=(t||[]).map(y=>({timestamp:y.timestamp,usage:y.cpu_usage??0})),h=((w=o==null?void 0:o.per_core_usage)==null?void 0:w.map((y,$)=>({name:`Core ${$+1}`,usage:y})))??[],p=y=>y>=90?"critical":y>=70?"warning":"normal",m=(y,$)=>y>$+5?"up":y<$-5?"down":"stable",x=t.length>1?t[t.length-2].cpu_usage??r:r,S=x!==0?(r-x)/x*100:0;if(a)return e.jsx(se,{title:"CPU Usage",value:"--",unit:"%",updating:!0});const f=()=>e.jsx("div",{className:"overview-content",children:e.jsx("div",{className:"chart-container",children:e.jsx(ce,{width:"100%",height:250,children:e.jsxs(qs,{data:u,children:[e.jsx("defs",{children:e.jsx("linearGradient",{id:"cpuGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:e.jsx("stop",{offset:"5%",stopColor:"#3a86ff",stopOpacity:.8})})}),e.jsx(je,{strokeDasharray:"3 3",stroke:"var(--border)"}),e.jsx(ve,{dataKey:"timestamp",tickFormatter:y=>new Date(y).toLocaleTimeString(),stroke:"var(--text-secondary)"}),e.jsx(re,{domain:[0,100],tickFormatter:y=>`${y}%`,stroke:"var(--text-secondary)"}),e.jsx(ye,{formatter:y=>[`${Number(y).toFixed(1)}%`,"CPU Usage"],labelFormatter:y=>new Date(y).toLocaleString(),contentStyle:{background:"var(--background)",border:"none",borderRadius:"8px"},itemStyle:{color:"var(--primary)"},labelStyle:{color:"var(--text-primary)"}}),e.jsx(He,{type:"monotone",dataKey:"usage",stroke:"var(--primary)",strokeWidth:2,fillOpacity:1,fill:"url(#cpuGradient)",activeDot:{r:6,strokeWidth:0,fill:"var(--primary)"},isAnimationActive:!0})]})})})});function k(){return e.jsxs("div",{className:"cores-content",children:[e.jsx("h3",{children:"Core Usage"}),e.jsx(ce,{width:"100%",height:300,children:e.jsxs(Ta,{data:h,children:[e.jsx(je,{strokeDasharray:"3 3",stroke:"var(--border)"}),e.jsx(ve,{dataKey:"name",stroke:"var(--text-secondary)"}),e.jsx(re,{domain:[0,100],tickFormatter:y=>`${y}%`,stroke:"var(--text-secondary)"}),e.jsx(ye,{}),e.jsx(Aa,{dataKey:"usage",fill:"var(--primary)",radius:[4,4,0,0]})]})})]})}function v(){return e.jsxs("div",{className:"processes-content",children:[e.jsx("h3",{children:"Top CPU Processes"}),e.jsx("div",{className:"process-list",children:l.length>0?l.map((y,$)=>e.jsxs(z,{className:"process-card",children:[e.jsx("div",{className:"process-name",children:y.name}),e.jsxs("div",{className:"process-usage",children:[y.cpu_percent.toFixed(1),"%"]}),e.jsxs("div",{className:"process-details",children:[e.jsxs("span",{children:["PID: ",y.pid]}),e.jsxs("span",{children:["Memory: ",y.memory_percent.toFixed(1),"%"]})]})]},$)):e.jsx("div",{className:"no-data",children:"No process data available"})})]})}function N(){return e.jsxs("div",{className:"details-content",children:[e.jsx("h3",{children:"CPU Details"}),e.jsxs("div",{children:[e.jsxs("div",{children:["Temperature: ",c!==null?`${c.toFixed(1)}Â°C`:"N/A"]}),e.jsxs("div",{children:["Frequency: ",d.current?`${(d.current/1e3).toFixed(2)} GHz`:"N/A"]})]})]})}return e.jsx("div",{className:"cpu-metric",children:e.jsx(se,{title:"CPU Usage",value:`${r.toFixed(1)}`,unit:"%",status:p(r),trend:m(r,x),changePercentage:S,showSparkline:!0,sparklineData:(u||[]).map(y=>y.usage),children:e.jsxs(as,{activeTab:i,onChange:n,children:[e.jsx(ee,{id:"overview",label:"Overview",children:f()}),e.jsx(ee,{id:"cores",label:"Cores",children:k()}),e.jsx(ee,{id:"processes",label:"Processes",children:v()}),e.jsx(ee,{id:"details",label:"Details",children:N()})]})})})},Ti=()=>{const s=D(d=>d.metrics.current),t=D(d=>d.metrics.historical),a=D(d=>d.metrics.loading),i=(s==null?void 0:s.memory_usage)??0,n=t,r=t.length>1?t[t.length-2].memory_usage:i,o=r&&r!==0?(i-r)/r*100:0,l=d=>d>90?"critical":d>75?"warning":"normal",c=(d,u)=>d>u+5?"up":d<u-5?"down":"stable";return a?e.jsx(se,{title:"Memory Usage",value:"--",unit:"%",updating:!0}):e.jsx(se,{title:"Memory Usage",value:i.toFixed(1),unit:"%",status:l(i),trend:c(i,r),changePercentage:o,showSparkline:!0,sparklineData:t.map(d=>d.memory_usage),children:e.jsx(ce,{width:"100%",height:200,children:e.jsxs(qs,{data:n,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"memoryGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"var(--primary)",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"var(--primary)",stopOpacity:.2})]})}),e.jsx(je,{strokeDasharray:"3 3",stroke:"var(--border)"}),e.jsx(ve,{dataKey:"timestamp",tickFormatter:d=>new Date(d).toLocaleTimeString(),stroke:"var(--text-secondary)"}),e.jsx(re,{domain:[0,100],tickFormatter:d=>`${d}%`,stroke:"var(--text-secondary)"}),e.jsx(ye,{formatter:d=>[`${Number(d).toFixed(1)}%`,"Memory Usage"],labelFormatter:d=>new Date(d).toLocaleString(),contentStyle:{background:"var(--background)",border:"none",borderRadius:"8px"},itemStyle:{color:"var(--primary)"},labelStyle:{color:"var(--text-primary)"}}),e.jsx(He,{type:"monotone",dataKey:"memory_usage",stroke:"var(--primary)",strokeWidth:2,fillOpacity:1,fill:"url(#memoryGradient)",activeDot:{r:6,strokeWidth:0,fill:"var(--primary)"},isAnimationActive:!0})]})})})},Ai=()=>{const s=D(d=>d.metrics.current),t=D(d=>d.metrics.historical),a=D(d=>d.metrics.loading),i=(s==null?void 0:s.disk_usage)??0,n=t,r=t.length>1?t[t.length-2].disk_usage:i,o=r&&r!==0?(i-r)/r*100:0,l=d=>d>90?"critical":d>75?"warning":"normal",c=(d,u)=>d>u+5?"up":d<u-5?"down":"stable";return a?e.jsx(se,{title:"Disk Usage",value:"--",unit:"%",updating:!0}):e.jsx(se,{title:"Disk Usage",value:i.toFixed(1),unit:"%",status:l(i),trend:c(i,r),changePercentage:o,showSparkline:!0,sparklineData:t.map(d=>d.disk_usage),children:e.jsx(ce,{width:"100%",height:200,children:e.jsxs(qs,{data:n,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"diskGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"var(--primary)",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"var(--primary)",stopOpacity:.2})]})}),e.jsx(je,{strokeDasharray:"3 3",stroke:"var(--border)"}),e.jsx(ve,{dataKey:"timestamp",tickFormatter:d=>new Date(d).toLocaleTimeString(),stroke:"var(--text-secondary)"}),e.jsx(re,{domain:[0,100],tickFormatter:d=>`${d}%`,stroke:"var(--text-secondary)"}),e.jsx(ye,{formatter:d=>[`${Number(d).toFixed(1)}%`,"Disk Usage"],labelFormatter:d=>new Date(d).toLocaleString(),contentStyle:{background:"var(--background)",border:"none",borderRadius:"8px"},itemStyle:{color:"var(--primary)"},labelStyle:{color:"var(--text-primary)"}}),e.jsx(He,{type:"monotone",dataKey:"disk_usage",stroke:"var(--primary)",strokeWidth:2,fillOpacity:1,fill:"url(#diskGradient)",activeDot:{r:6,strokeWidth:0,fill:"var(--primary)"},isAnimationActive:!0})]})})})};function Pi(s){var a,i,n,r,o,l,c,d,u,h,p,m,x,S;if(!s)return{networkData:null,error:"No metrics data available"};const t=s.network||((a=s.additional)==null?void 0:a.network_details);if(!t)return{networkData:null,error:"No network data found in metrics"};try{if(!t.io_stats&&!(t.bytes_sent!==void 0&&t.bytes_recv!==void 0))throw new Error("Missing network I/O statistics");return{networkData:{interfaces:Mi(t.interfaces),timestamp:new Date().toISOString(),io_stats:{bytes_sent:((i=t.io_stats)==null?void 0:i.bytes_sent)??t.bytes_sent??0,bytes_recv:((n=t.io_stats)==null?void 0:n.bytes_recv)??t.bytes_recv??0,sent_rate:((r=t.io_stats)==null?void 0:r.sent_rate)??t.sent_rate_bps??0,recv_rate:((o=t.io_stats)==null?void 0:o.recv_rate)??t.recv_rate_bps??0},connection_quality:{connection_stability:((l=t.connection_quality)==null?void 0:l.connection_stability)??0,average_latency:((c=t.connection_quality)==null?void 0:c.average_latency)??0,packet_loss_percent:((d=t.connection_quality)==null?void 0:d.packet_loss_percent)??0,jitter:((u=t.connection_quality)==null?void 0:u.jitter)??0,gateway_latency:((h=t.connection_quality)==null?void 0:h.gateway_latency)??0,dns_latency:((p=t.connection_quality)==null?void 0:p.dns_latency)??((m=t.dns_metrics)==null?void 0:m.query_time_ms)??0,internet_latency:((x=t.connection_quality)==null?void 0:x.internet_latency)??((S=t.internet_metrics)==null?void 0:S.isp_latency)??0},protocol_stats:t.protocol_stats||{tcp:{active:0,established:0},udp:{active:0},http:{connections:0},https:{connections:0},dns:{queries:0}},protocol_breakdown:t.protocol_breakdown||{web:0,email:0,streaming:0,gaming:0,file_transfer:0,other:0},top_bandwidth_processes:t.top_bandwidth_processes||t.processes||[],dns_metrics:t.dns_metrics,internet_metrics:t.internet_metrics},error:null}}catch(f){return console.error("Error processing network data:",f),{networkData:null,error:`Failed to process network data: ${f instanceof Error?f.message:"Unknown error"}`}}}function Mi(s){return s?Array.isArray(s)?s.map(t=>({name:t.name||"Unknown",isup:t.isup||!1,bytes_sent:t.bytes_sent||0,bytes_recv:t.bytes_recv||0,address:t.address,mac_address:t.mac_address,speed:t.speed,mtu:t.mtu})):typeof s=="object"?Object.entries(s).map(([t,a])=>({name:t,isup:a.isup||!1,bytes_sent:a.bytes_sent||0,bytes_recv:a.bytes_recv||0,address:a.address,mac_address:a.mac_address,speed:a.speed,mtu:a.mtu})):[]:[]}function J(s,t=2){if(s===0)return"0 Bytes";const a=1024,i=t<0?0:t,n=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],r=Math.floor(Math.log(s)/Math.log(a));return parseFloat((s/Math.pow(a,r)).toFixed(i))+" "+n[r]}function Te(s){return s<1?"<1 ms":s>=1e3?(s/1e3).toFixed(2)+" s":s.toFixed(1)+" ms"}function ca(s){return s>=90?"excellent":s>=75?"good":s>=50?"fair":s>=25?"poor":"critical"}function Xs(s){return s<10?"good":s<50?"fair":s<100?"poor":"critical"}const Pt=({data:s,historicalMetrics:t,compact:a=!1})=>{const{io_stats:i,connection_quality:n}=s,r=g.useMemo(()=>!t||t.length===0?[]:t.map(o=>{var u;let l=0,c=0;const d=o.network||((u=o.additional)==null?void 0:u.network_details);return d&&(d.io_stats?(l=d.io_stats.bytes_sent||0,c=d.io_stats.bytes_recv||0):(l=d.bytes_sent||0,c=d.bytes_recv||0)),{timestamp:o.timestamp,bytes_sent:l,bytes_recv:c}}),[t]);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"metric-value network-metrics",children:[e.jsxs("div",{className:"network-sent",children:[e.jsx("div",{className:"network-label",children:"Upload:"}),e.jsxs("div",{className:"network-rate",children:[J(i.sent_rate),"/s"]}),e.jsxs("div",{className:"network-total",children:["Total: ",J(i.bytes_sent)]})]}),e.jsxs("div",{className:"network-received",children:[e.jsx("div",{className:"network-label",children:"Download:"}),e.jsxs("div",{className:"network-rate",children:[J(i.recv_rate),"/s"]}),e.jsxs("div",{className:"network-total",children:["Total: ",J(i.bytes_recv)]})]})]}),!a&&r.length>0&&e.jsx("div",{className:"chart-container",children:e.jsx(ce,{width:"100%",height:200,children:e.jsxs(qs,{data:r,children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"sentGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#00F5D4",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"#00F5D4",stopOpacity:.2})]}),e.jsxs("linearGradient",{id:"receivedGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#FF9F1C",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"#FF9F1C",stopOpacity:.2})]})]}),e.jsx(je,{strokeDasharray:"3 3",stroke:"rgba(255, 255, 255, 0.1)"}),e.jsx(ve,{dataKey:"timestamp",tickFormatter:o=>new Date(o).toLocaleTimeString(),stroke:"rgba(255, 255, 255, 0.7)"}),e.jsx(re,{tickFormatter:o=>J(o),stroke:"rgba(255, 255, 255, 0.7)"}),e.jsx(ye,{formatter:(o,l)=>l==="bytes_sent"?[J(o),"Sent"]:l==="bytes_recv"?[J(o),"Received"]:[J(o),l],labelFormatter:o=>new Date(o).toLocaleString(),contentStyle:{background:"rgba(0, 0, 0, 0.8)",border:"none",borderRadius:"8px"},itemStyle:{color:"white"},labelStyle:{color:"white"}}),e.jsx(He,{type:"monotone",dataKey:"bytes_sent",name:"Sent",stroke:"#00F5D4",strokeWidth:2,fillOpacity:.5,fill:"url(#sentGradient)",activeDot:{r:4,strokeWidth:0,fill:"#00F5D4"},isAnimationActive:!0}),e.jsx(He,{type:"monotone",dataKey:"bytes_recv",name:"Received",stroke:"#FF9F1C",strokeWidth:2,fillOpacity:.5,fill:"url(#receivedGradient)",activeDot:{r:4,strokeWidth:0,fill:"#FF9F1C"},isAnimationActive:!0})]})})}),e.jsxs("div",{className:"network-section",children:[e.jsx("div",{className:"network-section-title",children:"Connection Quality"}),e.jsxs("div",{className:"connection-quality",children:[e.jsxs("div",{className:"quality-score",children:[n.connection_stability.toFixed(0),"/100"]}),e.jsx("div",{className:"quality-meter",children:e.jsx("div",{className:`quality-meter-fill ${ca(n.connection_stability)}`,style:{width:`${n.connection_stability}%`}})}),e.jsxs("div",{className:"quality-details",children:[e.jsxs("span",{children:["Latency: ",Te(n.average_latency)]}),e.jsxs("span",{children:["Packet Loss: ",n.packet_loss_percent.toFixed(1),"%"]}),e.jsxs("span",{children:["Jitter: ",Te(n.jitter)]})]})]})]})]})},Ii=({data:s})=>e.jsxs("div",{className:"network-section",children:[e.jsx("div",{className:"network-section-title",children:"Connection Quality Score"}),e.jsxs("div",{className:"connection-quality",children:[e.jsxs("div",{className:"quality-score",children:[s.connection_stability.toFixed(0),"/100"]}),e.jsx("div",{className:"quality-meter",children:e.jsx("div",{className:`quality-meter-fill ${ca(s.connection_stability)}`,style:{width:`${s.connection_stability}%`}})}),e.jsx("div",{className:"quality-score-label",children:"Connection Stability Score"})]}),e.jsx("div",{className:"network-section-title",children:"Latency Metrics"}),e.jsxs("div",{className:"latency-metrics",children:[e.jsxs("div",{className:"latency-item",children:[e.jsx("div",{className:"latency-name",children:"Gateway"}),e.jsx("div",{className:`latency-value ${Xs(s.gateway_latency)}`,children:Te(s.gateway_latency)})]}),e.jsxs("div",{className:"latency-item",children:[e.jsx("div",{className:"latency-name",children:"DNS"}),e.jsx("div",{className:`latency-value ${Xs(s.dns_latency)}`,children:Te(s.dns_latency)})]}),e.jsxs("div",{className:"latency-item",children:[e.jsx("div",{className:"latency-name",children:"Internet"}),e.jsx("div",{className:`latency-value ${Xs(s.internet_latency)}`,children:Te(s.internet_latency)})]})]}),e.jsx("div",{className:"network-section-title",children:"Connection Stability Factors"}),e.jsxs("div",{className:"quality-details",children:[e.jsxs("div",{className:"quality-detail",children:[e.jsx("div",{className:"detail-label",children:"Average Latency:"}),e.jsx("div",{className:"detail-value",children:Te(s.average_latency)})]}),e.jsxs("div",{className:"quality-detail",children:[e.jsx("div",{className:"detail-label",children:"Packet Loss:"}),e.jsxs("div",{className:"detail-value",children:[s.packet_loss_percent.toFixed(1),"%"]})]}),e.jsxs("div",{className:"quality-detail",children:[e.jsx("div",{className:"detail-label",children:"Jitter:"}),e.jsx("div",{className:"detail-value",children:Te(s.jitter)})]})]})]}),Ri=({processes:s,compact:t=!1})=>!s||s.length===0?e.jsxs("div",{className:"network-section",children:[e.jsx("div",{className:"network-section-title",children:"Top Bandwidth Processes"}),e.jsx("div",{className:"no-data-message",children:"No process data available"})]}):e.jsxs("div",{className:"network-section",children:[e.jsx("div",{className:"network-section-title",children:"Top Bandwidth Processes"}),e.jsxs("table",{className:"process-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Process"}),e.jsx("th",{children:"PID"}),e.jsx("th",{children:"Upload"}),e.jsx("th",{children:"Download"}),e.jsx("th",{children:"Total"}),e.jsx("th",{children:"Connections"})]})}),e.jsx("tbody",{children:s.map((a,i)=>e.jsxs("tr",{children:[e.jsx("td",{children:a.name}),e.jsx("td",{children:a.pid}),e.jsxs("td",{children:[J(a.write_rate||0),"/s"]}),e.jsxs("td",{children:[J(a.read_rate||0),"/s"]}),e.jsxs("td",{children:[J((a.write_rate||0)+(a.read_rate||0)),"/s"]}),e.jsx("td",{children:a.connection_count||0})]},i))})]})]}),$i=({interfaces:s,compact:t=!1})=>!s||s.length===0?e.jsxs("div",{className:"network-section",children:[e.jsx("div",{className:"network-section-title",children:"Network Interfaces"}),e.jsx("div",{className:"no-data-message",children:"No interface data available"})]}):e.jsxs("div",{className:"network-section",children:[e.jsx("div",{className:"network-section-title",children:"Network Interfaces"}),e.jsx("div",{className:"interface-stats",children:s.map((a,i)=>e.jsxs("div",{className:"interface-item",children:[e.jsxs("div",{className:"interface-header",children:[e.jsx("div",{className:"interface-name",children:a.name}),e.jsx("div",{className:`interface-status ${a.isup?"":"down"}`,children:a.isup?"Up":"Down"})]}),e.jsxs("div",{className:"interface-details",children:[e.jsxs("div",{className:"interface-detail",children:[e.jsx("div",{className:"detail-label",children:"IP Address:"}),e.jsx("div",{className:"detail-value",children:a.address||"N/A"})]}),e.jsxs("div",{className:"interface-detail",children:[e.jsx("div",{className:"detail-label",children:"MAC Address:"}),e.jsx("div",{className:"detail-value",children:a.mac_address||"N/A"})]}),e.jsxs("div",{className:"interface-detail",children:[e.jsx("div",{className:"detail-label",children:"Speed:"}),e.jsx("div",{className:"detail-value",children:a.speed?`${a.speed} Mbps`:"N/A"})]}),e.jsxs("div",{className:"interface-detail",children:[e.jsx("div",{className:"detail-label",children:"MTU:"}),e.jsx("div",{className:"detail-value",children:a.mtu||"N/A"})]}),e.jsxs("div",{className:"interface-detail",children:[e.jsx("div",{className:"detail-label",children:"Sent:"}),e.jsx("div",{className:"detail-value",children:J(a.bytes_sent||0)})]}),e.jsxs("div",{className:"interface-detail",children:[e.jsx("div",{className:"detail-label",children:"Received:"}),e.jsx("div",{className:"detail-value",children:J(a.bytes_recv||0)})]})]})]},i))})]}),Li={web:"#00F5D4",email:"#3A86FF",streaming:"#FF9F1C",gaming:"#9EF01A",file_transfer:"#F8E71C",other:"#8A8D91"},Ei=({data:s,stats:t,compact:a=!1})=>{const i=Object.entries(s).map(([n,r])=>({name:n,value:r||0})).filter(n=>typeof n.value=="number"&&n.value>0);return!i||i.length===0?e.jsxs("div",{className:"network-section",children:[e.jsx("div",{className:"network-section-title",children:"Protocol Breakdown"}),e.jsx("div",{className:"no-data-message",children:"No protocol data available"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"network-section",children:[e.jsx("div",{className:"network-section-title",children:"Protocol Breakdown"}),e.jsx("div",{style:{height:a?200:250},children:e.jsx(ce,{width:"100%",height:"100%",children:e.jsxs(Ht,{children:[e.jsx(Bt,{data:i,cx:"50%",cy:"50%",labelLine:!1,outerRadius:a?70:90,fill:"#8884d8",dataKey:"value",label:({name:n,percent:r})=>`${n}: ${(r*100).toFixed(0)}%`,children:i.map((n,r)=>e.jsx(Wt,{fill:Li[n.name]||"#8884d8"},`cell-${r}`))}),e.jsx(Ke,{})]})})})]}),e.jsxs("div",{className:"network-section",children:[e.jsx("div",{className:"network-section-title",children:"Protocol Statistics"}),e.jsxs("div",{className:"protocol-breakdown",children:[e.jsxs("div",{className:"protocol-item",children:[e.jsx("div",{className:"protocol-name",children:"TCP Connections"}),e.jsx("div",{className:"protocol-value",children:t.tcp.active})]}),e.jsxs("div",{className:"protocol-item",children:[e.jsx("div",{className:"protocol-name",children:"TCP Established"}),e.jsx("div",{className:"protocol-value",children:t.tcp.established})]}),e.jsxs("div",{className:"protocol-item",children:[e.jsx("div",{className:"protocol-name",children:"UDP Active"}),e.jsx("div",{className:"protocol-value",children:t.udp.active})]}),e.jsxs("div",{className:"protocol-item",children:[e.jsx("div",{className:"protocol-name",children:"HTTP Connections"}),e.jsx("div",{className:"protocol-value",children:t.http.connections})]}),e.jsxs("div",{className:"protocol-item",children:[e.jsx("div",{className:"protocol-name",children:"HTTPS Connections"}),e.jsx("div",{className:"protocol-value",children:t.https.connections})]}),e.jsxs("div",{className:"protocol-item",children:[e.jsx("div",{className:"protocol-name",children:"DNS Queries"}),e.jsx("div",{className:"protocol-value",children:t.dns.queries})]})]})]})]})},zi=({processes:s,compact:t=!1,limit:a=5})=>{const i=[...s].sort((r,o)=>{const l=(r.read_rate||0)+(r.write_rate||0);return(o.read_rate||0)+(o.write_rate||0)-l}),n=a?i.slice(0,a):i;return!n||n.length===0?e.jsxs("div",{className:"network-section",children:[e.jsx("div",{className:"network-section-title",children:"Top Bandwidth Consumers"}),e.jsx("div",{className:"no-data-message",children:"No process data available"})]}):e.jsxs("div",{className:"network-section",children:[e.jsx("div",{className:"network-section-title",children:"Top Bandwidth Consumers"}),e.jsx("div",{className:"bandwidth-processes",children:n.map((r,o)=>{const l=(r.read_rate||0)+(r.write_rate||0),c=l?(r.read_rate||0)/l*100:0,d=l?(r.write_rate||0)/l*100:0;return e.jsxs("div",{className:"bandwidth-process",children:[e.jsxs("div",{className:"process-header",children:[e.jsx("div",{className:"process-name",children:r.name}),e.jsxs("div",{className:"process-pid",children:["PID: ",r.pid]}),e.jsxs("div",{className:"process-bandwidth",children:[J(l),"/s"]})]}),e.jsxs("div",{className:"bandwidth-bars",children:[e.jsxs("div",{className:"bandwidth-bar-container",children:[e.jsxs("div",{className:"bandwidth-label",children:[e.jsx("span",{children:"Download"}),e.jsxs("span",{children:[J(r.read_rate||0),"/s"]})]}),e.jsx("div",{className:"bandwidth-bar",children:e.jsx("div",{className:"bandwidth-bar-fill download",style:{width:`${c}%`}})})]}),e.jsxs("div",{className:"bandwidth-bar-container",children:[e.jsxs("div",{className:"bandwidth-label",children:[e.jsx("span",{children:"Upload"}),e.jsxs("span",{children:[J(r.write_rate||0),"/s"]})]}),e.jsx("div",{className:"bandwidth-bar",children:e.jsx("div",{className:"bandwidth-bar-fill upload",style:{width:`${d}%`}})})]})]}),e.jsxs("div",{className:"process-connections",children:["Connections: ",r.connection_count||0]})]},o)})})]})},da=({compact:s=!1,showTabs:t=!0,initialTab:a="overview",height:i})=>{const n=D(x=>x.metrics.current),r=D(x=>x.metrics.historical),o=D(x=>x.metrics.loading),[l,c]=g.useState(a),[d,u]=g.useState(null),{networkData:h,error:p}=Pi(n);if(g.useEffect(()=>{u(p||null)},[p]),o)return e.jsxs("div",{className:`metric-card ${s?"compact":""}`,style:{height:i},children:[e.jsx("h3",{children:"Network Activity"}),e.jsx("div",{className:"loading-message",children:"Loading network metrics..."})]});if(d||!h)return e.jsxs("div",{className:`metric-card ${s?"compact":""}`,style:{height:i},children:[e.jsx("h3",{children:"Network Activity"}),e.jsxs("div",{className:"error-container",children:[e.jsx("div",{className:"error-icon",children:"âš ï¸"}),e.jsx("div",{className:"error-message",children:d||"No network data available"})]})]});const m=()=>{switch(l){case"overview":return e.jsx(Pt,{data:h,historicalMetrics:r,compact:s});case"quality":return e.jsx(Ii,{data:h.connection_quality,compact:s});case"protocols":return e.jsx(Ei,{data:h.protocol_breakdown,stats:h.protocol_stats,compact:s});case"processes":return e.jsxs(e.Fragment,{children:[e.jsx(zi,{processes:h.top_bandwidth_processes.map(x=>({...x,write_rate:x.write_rate??0,read_rate:x.read_rate??0,connection_count:x.connection_count??0})),compact:s,limit:s?3:5}),e.jsx(Ri,{processes:h.top_bandwidth_processes.map(x=>({...x,write_rate:x.write_rate??0,read_rate:x.read_rate??0,connection_count:x.connection_count??0})).map(x=>({...x,write_rate:x.write_rate??0,read_rate:x.read_rate??0,connection_count:x.connection_count??0})),compact:s})]});case"interfaces":return e.jsx($i,{interfaces:h.interfaces,compact:s});default:return e.jsx(Pt,{data:h,historicalMetrics:r,compact:s})}};return e.jsxs("div",{className:`metric-card ${s?"compact":""}`,style:{height:i},children:[e.jsx("h3",{children:"Network Activity"}),t&&e.jsxs("div",{className:"network-tabs",children:[e.jsx("div",{className:`network-tab ${l==="overview"?"active":""}`,onClick:()=>c("overview"),children:"Overview"}),e.jsx("div",{className:`network-tab ${l==="quality"?"active":""}`,onClick:()=>c("quality"),children:"Connection Quality"}),e.jsx("div",{className:`network-tab ${l==="protocols"?"active":""}`,onClick:()=>c("protocols"),children:"Protocols"}),e.jsx("div",{className:`network-tab ${l==="processes"?"active":""}`,onClick:()=>c("processes"),children:"Processes"}),e.jsx("div",{className:`network-tab ${l==="interfaces"?"active":""}`,onClick:()=>c("interfaces"),children:"Interfaces"})]}),e.jsx("div",{className:"network-content",children:m()})]})},Di=()=>e.jsx(da,{compact:!0,showTabs:!1,initialTab:"overview"}),Bs=({className:s})=>e.jsxs("svg",{className:`character-icon ${s||""}`,viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"#1a0458"}),e.jsx("circle",{cx:"50",cy:"40",r:"25",fill:"#242b42"}),e.jsx("ellipse",{cx:"50",cy:"70",rx:"15",ry:"10",fill:"#242b42"}),e.jsx("circle",{cx:"40",cy:"35",r:"5",fill:"#00f5d4"}),e.jsx("circle",{cx:"60",cy:"35",r:"5",fill:"#00f5d4"}),e.jsx("circle",{cx:"40",cy:"35",r:"2",fill:"#000"}),e.jsx("circle",{cx:"60",cy:"35",r:"2",fill:"#000"}),e.jsx("path",{d:"M45 50 Q50 55 55 50",stroke:"#00f5d4",strokeWidth:"2",fill:"none"}),e.jsx("circle",{cx:"65",cy:"30",r:"10",fill:"none",stroke:"#00f5d4",strokeWidth:"2"}),e.jsx("path",{d:"M65 20 L65 40",stroke:"#00f5d4",strokeWidth:"2"}),e.jsx("path",{d:"M30 25 Q40 15 50 25",stroke:"#00f5d4",strokeWidth:"2",fill:"none"})]}),mt=({className:s})=>e.jsxs("svg",{className:`character-icon ${s||""}`,viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M20 60 Q30 30 60 40 Q80 45 80 60 Q80 80 60 80 Q30 80 20 60 Z",fill:"#e9009b"}),e.jsx("path",{d:"M60 40 Q70 30 80 40 Q90 50 80 60",fill:"none",stroke:"#00f5d4",strokeWidth:"2"}),e.jsx("circle",{cx:"35",cy:"50",r:"5",fill:"#00f5d4"}),e.jsx("circle",{cx:"35",cy:"50",r:"2",fill:"#000"}),e.jsx("circle",{cx:"45",cy:"50",r:"5",fill:"#00f5d4"}),e.jsx("circle",{cx:"45",cy:"50",r:"2",fill:"#000"}),e.jsx("path",{d:"M30 65 Q40 70 50 65",stroke:"#00f5d4",strokeWidth:"2",fill:"none"}),e.jsx("path",{d:"M70 45 L75 35 M70 45 L65 35",stroke:"#00f5d4",strokeWidth:"2"}),e.jsx("path",{d:"M20 60 Q10 70 15 80 Q20 85 30 80",fill:"none",stroke:"#00f5d4",strokeWidth:"2"})]}),ha=({className:s})=>e.jsxs("svg",{className:`character-icon ${s||""}`,viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("circle",{cx:"50",cy:"50",r:"30",fill:"#02b5fc"}),e.jsx("circle",{cx:"40",cy:"40",r:"5",fill:"#00f5d4"}),e.jsx("circle",{cx:"60",cy:"40",r:"5",fill:"#00f5d4"}),e.jsx("circle",{cx:"40",cy:"40",r:"2",fill:"#000"}),e.jsx("circle",{cx:"60",cy:"40",r:"2",fill:"#000"}),e.jsx("ellipse",{cx:"50",cy:"55",rx:"5",ry:"3",fill:"#00f5d4"}),e.jsx("path",{d:"M35 30 L25 20 M65 30 L75 20",stroke:"#00f5d4",strokeWidth:"2"}),e.jsx("path",{d:"M40 65 Q50 70 60 65",fill:"none",stroke:"#00f5d4",strokeWidth:"2"}),e.jsx("path",{d:"M20 50 Q10 40 15 30 Q20 25 30 30",fill:"none",stroke:"#3333ff",strokeWidth:"2",strokeDasharray:"2,2"}),e.jsx("path",{d:"M80 50 Q90 40 85 30 Q80 25 70 30",fill:"none",stroke:"#3333ff",strokeWidth:"2",strokeDasharray:"2,2"})]}),ma=({className:s})=>e.jsxs("svg",{className:`character-icon ${s||""}`,viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M40 20 L60 20 L55 80 L45 80 Z",fill:"#00f5a3"}),e.jsx("circle",{cx:"40",cy:"35",r:"5",fill:"#1a0458"}),e.jsx("circle",{cx:"60",cy:"35",r:"5",fill:"#1a0458"}),e.jsx("circle",{cx:"40",cy:"35",r:"2",fill:"#00f5d4"}),e.jsx("circle",{cx:"60",cy:"35",r:"2",fill:"#00f5d4"}),e.jsx("path",{d:"M45 50 Q50 55 55 50",stroke:"#1a0458",strokeWidth:"2",fill:"none"}),e.jsx("path",{d:"M30 30 Q20 25 25 15 Q30 10 35 15",fill:"none",stroke:"#00f5d4",strokeWidth:"1"}),e.jsx("path",{d:"M70 30 Q80 25 75 15 Q70 10 65 15",fill:"none",stroke:"#00f5d4",strokeWidth:"1"})]}),Ae=({className:s})=>e.jsxs("svg",{className:`character-icon ${s||""}`,viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M30 30 L70 30 L60 80 L40 80 Z",fill:"#3333ff",fillOpacity:"0.7"}),e.jsx("circle",{cx:"40",cy:"45",r:"5",fill:"#00f5d4"}),e.jsx("circle",{cx:"60",cy:"45",r:"5",fill:"#00f5d4"}),e.jsx("path",{d:"M30 30 Q50 10 70 30",fill:"none",stroke:"#00f5d4",strokeWidth:"2",strokeDasharray:"3,3"}),e.jsx("path",{d:"M40 60 Q50 65 60 60",stroke:"#00f5d4",strokeWidth:"2",fill:"none",strokeDasharray:"2,2"}),e.jsx("path",{d:"M25 50 L15 40 M75 50 L85 40",stroke:"#00f5d4",strokeWidth:"1",strokeDasharray:"1,1"})]}),ua=({className:s})=>e.jsxs("svg",{className:`character-icon ${s||""}`,viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("rect",{x:"20",y:"30",width:"60",height:"40",rx:"5",fill:"#242b42"}),e.jsx("rect",{x:"25",y:"35",width:"50",height:"15",rx:"2",fill:"#1a0458"}),e.jsx("rect",{x:"30",y:"55",width:"10",height:"10",rx:"1",fill:"#e9009b"}),e.jsx("rect",{x:"45",y:"55",width:"10",height:"10",rx:"1",fill:"#00f5a3"}),e.jsx("rect",{x:"60",y:"55",width:"10",height:"10",rx:"1",fill:"#02b5fc"}),e.jsx("path",{d:"M35 40 L40 40 L40 45 L35 45 Z",fill:"#00f5d4"}),e.jsx("path",{d:"M45 40 L50 40 L50 45 L45 45 Z",fill:"#00f5d4"}),e.jsx("path",{d:"M55 40 L65 40 L65 45 L55 45 Z",fill:"#00f5d4"}),e.jsx("text",{x:"30",y:"43",fontSize:"5",fill:"#00f5d4",children:"VIC-20"})]}),Fi=({selectedAvatar:s,onSelect:t})=>{const a=[{id:"sir-hawkington",name:"Sir Hawkington",component:e.jsx(Bs,{})},{id:"meth-snail",name:"The Meth Snail",component:e.jsx(mt,{})},{id:"hamster",name:"Hamster",component:e.jsx(ha,{})},{id:"the-stick",name:"The Stick",component:e.jsx(ma,{})},{id:"quantum-shadow",name:"Quantum Shadow Person",component:e.jsx(Ae,{})},{id:"vic-20",name:"VIC-20",component:e.jsx(ua,{})}];return e.jsxs("div",{className:"character-avatar-selector",children:[e.jsx("h3",{children:"Choose Your Avatar"}),e.jsx("div",{className:"avatar-grid",children:a.map(i=>e.jsxs("div",{className:`avatar-option ${s===i.id?"selected":""}`,onClick:()=>t(i.id),children:[i.component,e.jsx("span",{className:"avatar-name",children:i.name})]},i.id))})]})},Ws=s=>{switch(s){case"sir-hawkington":return e.jsx(Bs,{});case"meth-snail":return e.jsx(mt,{});case"quantum-hamster":return e.jsx(ha,{});case"the-stick":return e.jsx(ma,{});case"quantum-shadow":return e.jsx(Ae,{});case"vic-20":return e.jsx(ua,{});default:return e.jsx(Bs,{})}},Oi=({showHeader:s=!0})=>{const t=D(l=>l.metrics.current),{connectionStatus:a}=D(l=>l.metrics),[i,n]=g.useState(!1),r=Ne.useRef(t);g.useEffect(()=>{if(t&&r.current&&JSON.stringify(t)!==JSON.stringify(r.current)){n(!0);const l=setTimeout(()=>n(!1),1e3);return()=>clearTimeout(l)}r.current=t},[t]);const o=l=>{switch(l){case"connected":return"status-connected";case"connecting":return"status-connecting";case"disconnected":case"error":return"status-disconnected";default:return"status-disconnected"}};return e.jsxs("div",{className:"metrics-panel",children:[s&&e.jsxs("div",{className:"metrics-panel-header",children:[e.jsx("h2",{children:"System Metrics"}),e.jsxs("div",{className:"sir-hawkington-icon",children:[e.jsx(Bs,{className:"hawk-icon"}),e.jsx("div",{className:"character-tooltip",children:e.jsx("p",{children:`"Sir Hawkington at your service! I'm monitoring your system metrics with aristocratic precision."`})})]}),e.jsxs("div",{className:"connection-indicator",children:[e.jsx("span",{className:`connection-dot ${o(a)}`}),e.jsx("span",{className:"connection-text",children:a})]})]}),e.jsxs("div",{className:`metrics-row ${i?"data-updating":""}`,children:[e.jsx(Ci,{}),e.jsx(Ti,{}),e.jsx(Ai,{}),e.jsx(Di,{})]})]})},T=({variant:s="primary",size:t="md",outlined:a=!1,circle:i=!1,glow:n=!1,fullWidth:r=!1,leftIcon:o,rightIcon:l,loading:c=!1,disabled:d=!1,className:u="",children:h,...p})=>{const m=["sr-button",`sr-button-${s}`,`sr-button-${t}`,a?"sr-button-outlined":"",i?"sr-button-circle":"",n?"sr-button-glow":"",r?"sr-button-full-width":"",c?"sr-button-loading":"",d?"sr-button-disabled":"",u].filter(Boolean).join(" ");return e.jsxs("button",{className:m,disabled:d||c,...p,children:[c&&e.jsx("span",{className:"sr-button-spinner"}),o&&e.jsx("span",{className:"sr-button-icon sr-button-icon-left",children:o}),h&&e.jsx("span",{className:"sr-button-text",children:h}),l&&e.jsx("span",{className:"sr-button-icon sr-button-icon-right",children:l})]})},pe=({variant:s="info",size:t="md",title:a,dismissible:i=!1,onDismiss:n,glow:r=!1,hasIcon:o=!0,icon:l,bordered:c=!1,actionable:d=!1,actionText:u="Action",onAction:h,className:p="",children:m})=>{const x=()=>{switch(s){case"info":return"â„¹ï¸";case"success":return"âœ“";case"warning":return"âš ï¸";case"danger":return"âš ï¸";case"cyber":return"âš¡";default:return"â„¹ï¸"}},S=["sr-alert",`sr-alert-${s}`,`sr-alert-${t}`,r?"sr-alert-glow":"",c?"sr-alert-bordered":"",d?"sr-alert-actionable":"",p].filter(Boolean).join(" ");return e.jsxs("div",{className:S,role:"alert",children:[o&&e.jsx("div",{className:"sr-alert-icon",children:l||x()}),e.jsxs("div",{className:"sr-alert-content",children:[a&&e.jsx("div",{className:"sr-alert-title",children:a}),e.jsx("div",{className:"sr-alert-message",children:m}),d&&e.jsx("button",{className:"sr-alert-action",onClick:h,children:u})]}),i&&e.jsx("button",{className:"sr-alert-dismiss",onClick:n,children:"Ã—"})]})},ge=({checked:s,onChange:t,variant:a="primary",size:i="md",glow:n=!1,disabled:r=!1,label:o,labelRight:l=!0,className:c="",id:d,name:u,...h})=>{const p=d||`sr-toggle-${Math.random().toString(36).substring(2,9)}`,m=["sr-toggle",`sr-toggle-${a}`,`sr-toggle-${i}`,n?"sr-toggle-glow":"",r?"sr-toggle-disabled":"",c].filter(Boolean).join(" "),x=S=>{r||t(S.target.checked)};return e.jsxs("div",{className:m,children:[o&&!l&&e.jsx("label",{htmlFor:p,className:"sr-toggle-label sr-toggle-label-left",children:o}),e.jsxs("div",{className:"sr-toggle-container",children:[e.jsx("input",{type:"checkbox",id:p,name:u,checked:s,onChange:x,disabled:r,className:"sr-toggle-input",...h}),e.jsx("span",{className:"sr-toggle-switch",children:e.jsx("span",{className:"sr-toggle-slider"})})]}),o&&l&&e.jsx("label",{htmlFor:p,className:"sr-toggle-label sr-toggle-label-right",children:o})]})},Z=g.forwardRef(({variant:s="primary",size:t="md",glow:a=!1,glass:i=!1,cyberBorder:n=!1,label:r,helperText:o,error:l,startIcon:c,endIcon:d,className:u="",type:h="text",fullWidth:p=!1,disabled:m=!1,id:x,...S},f)=>{const k=x||`sr-input-${Math.random().toString(36).substring(2,9)}`,v=["sr-input-wrapper",`sr-input-${s}`,`sr-input-${t}`,a?"sr-input-glow":"",i?"sr-input-glass":"",n?"sr-input-cyber-border":"",p?"sr-input-full-width":"",m?"sr-input-disabled":"",l?"sr-input-error":"",u].filter(Boolean).join(" ");return e.jsxs("div",{className:v,children:[r&&e.jsx("label",{htmlFor:k,className:"sr-input-label",children:r}),e.jsxs("div",{className:"sr-input-container",children:[c&&e.jsx("div",{className:"sr-input-icon sr-input-start-icon",children:c}),e.jsx("input",{ref:f,id:k,type:h,disabled:m,className:`sr-input ${c?"sr-input-has-start-icon":""} ${d?"sr-input-has-end-icon":""}`,...S}),d&&e.jsx("div",{className:"sr-input-icon sr-input-end-icon",children:d})]}),(o||l)&&e.jsx("div",{className:`sr-input-helper-text ${l?"sr-input-helper-text-error":""}`,children:l||o})]})});Z.displayName="Input";const Ui=({maxAlerts:s=5,showAllLink:t=!0,onNavigateToAlerts:a})=>{const i=oe(),n=Le(),{alerts:r,loading:o,error:l,selectedCount:c}=D(_=>_.systemAlerts),[d,u]=g.useState(null),[h,p]=g.useState(!1),m=(_,b)=>{b.stopPropagation(),i(Us(_))},x=(_,b)=>{b.stopPropagation(),i(lt(_))},S=(_,b)=>{b.stopPropagation(),i(Zt(_))},f=()=>{i(ea())},k=()=>{i(sa())},v=()=>{window.confirm("Are you sure you want to delete all selected alerts? This shit can't be undone.")&&i(ta())},N=_=>{i(aa(_)),p(!1)},A=()=>{i(ia())},P=_=>{u(d===_?null:_)},I=()=>{a?a():n("/alerts")},w=_=>{switch(_.toUpperCase()){case"CRITICAL":return"critical";case"HIGH":return"high";case"MEDIUM":return"medium";case"LOW":return"low";default:return""}},y=_=>{switch(_){case"actioned":return"Actioned";case"not_actioned":return"Not Actioned";case"to_action_later":return"Action Later";default:return"No Status"}},$=_=>new Date(_).toLocaleString();return e.jsxs("div",{className:"system-alerts",children:[e.jsxs("div",{className:"alerts-card-header",children:[e.jsx("h2",{children:"System Alerts"}),e.jsx("div",{className:"quantum-shadow-icon",children:e.jsx(Ae,{className:"shadow-icon"})})]}),o?e.jsx("div",{className:"alerts-loading",children:"Loading alerts..."}):l?e.jsx("div",{className:"alerts-error",children:l}):e.jsxs(e.Fragment,{children:[c>0&&e.jsxs("div",{className:"bulk-actions",children:[e.jsxs("span",{className:"selected-count",children:[c," selected"]}),e.jsxs("div",{className:"bulk-action-buttons",children:[e.jsx(T,{variant:"primary",size:"sm",onClick:A,children:"Mark Read"}),e.jsx(T,{variant:"danger",size:"sm",onClick:v,children:"Delete"}),e.jsxs("div",{className:"action-status-dropdown",children:[e.jsx(T,{variant:"secondary",size:"sm",onClick:()=>p(!h),children:"Set Status"}),h&&e.jsxs("div",{className:"action-status-menu",children:[e.jsx(T,{variant:"secondary",size:"sm",onClick:()=>N("actioned"),children:"Actioned"}),e.jsx(T,{variant:"secondary",size:"sm",onClick:()=>N("not_actioned"),children:"Not Actioned"}),e.jsx(T,{variant:"secondary",size:"sm",onClick:()=>N("to_action_later"),children:"Action Later"}),e.jsx(T,{variant:"secondary",size:"sm",onClick:()=>N("none"),children:"No Status"})]})]}),e.jsx(T,{variant:"secondary",size:"sm",onClick:k,children:"Deselect All"})]})]}),e.jsx("div",{className:"dashboard-alerts-list",children:r.filter(_=>!_.is_read).length===0?e.jsx("div",{className:"no-alerts",children:e.jsx("p",{children:"No unread alerts to display"})}):r.filter(_=>!_.is_read).slice(0,s).map(_=>e.jsxs("div",{className:`dashboard-alert-card ${_.is_read?"read":"unread"} ${_.selected?"selected":""} ${d===_.id?"expanded":""}`,onClick:()=>P(_.id),children:[e.jsx("div",{className:"alert-selection",children:e.jsx("input",{type:"checkbox",checked:_.selected||!1,onChange:b=>S(_.id,b.nativeEvent),onClick:b=>b.stopPropagation()})}),e.jsxs("div",{className:"alert-content",children:[e.jsxs("div",{className:"alert-header",children:[e.jsx("div",{className:`severity-indicator ${w(_.severity)}`,children:_.severity}),e.jsx("h3",{children:_.title}),!_.is_read&&e.jsx("span",{className:"unread-badge",children:"NEW"}),_.action_status&&e.jsx("span",{className:`action-status-badge ${_.action_status}`,children:y(_.action_status)})]}),d===_.id&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"alert-timestamp",children:$(_.timestamp)}),e.jsx("p",{className:"alert-message",children:_.message}),e.jsxs("div",{className:"action-status-selector",children:[e.jsx("span",{children:"Status:"}),e.jsxs("select",{value:_.action_status||"none",onChange:b=>{i(Xt({id:_.id,status:b.target.value})),b.stopPropagation()},onClick:b=>b.stopPropagation(),children:[e.jsx("option",{value:"none",children:"No Status"}),e.jsx("option",{value:"actioned",children:"Actioned"}),e.jsx("option",{value:"not_actioned",children:"Not Actioned"}),e.jsx("option",{value:"to_action_later",children:"Action Later"})]})]})]})]}),e.jsxs("div",{className:"alert-actions",children:[!_.is_read&&e.jsx(T,{variant:"primary",size:"sm",circle:!0,onClick:b=>m(_.id,b),title:"Mark as Read",children:"âœ“"}),e.jsx(T,{variant:"danger",size:"sm",circle:!0,onClick:b=>x(_.id,b),title:"Delete",children:"Ã—"})]})]},_.id))}),e.jsxs("div",{className:"alerts-card-footer",children:[e.jsx(T,{variant:"primary",size:"sm",onClick:f,children:"Select All"}),t&&e.jsx(T,{variant:"secondary",size:"sm",onClick:I,children:"View All Alerts"})]})]})]})},Hi=({maxPatterns:s})=>{const t=oe(),a=D(l=>l.autoTuner.patterns),i=D(l=>l.autoTuner.status),n=D(l=>l.autoTuner.error);Ne.useEffect(()=>{console.log("SystemPatternsPanel: Fetching patterns..."),t(de());const l=setInterval(()=>{console.log("SystemPatternsPanel: Polling for patterns..."),t(de())},6e4);return()=>clearInterval(l)},[t]),Ne.useEffect(()=>{console.log("SystemPatternsPanel: Current patterns:",a),console.log("SystemPatternsPanel: Patterns status:",i),console.log("SystemPatternsPanel: Error:",n)},[a,i,n]);const r=()=>{console.log("SystemPatternsPanel: Manually reloading patterns..."),t(de())},o=s?a.slice(0,s):a;return e.jsxs("div",{className:"system-patterns",children:[e.jsxs("div",{className:"patterns-card-header",children:[e.jsx("h2",{children:"Detected System Patterns"}),e.jsxs("div",{className:"meth-snail-icon",children:[e.jsx(mt,{className:"snail-icon"}),e.jsx("div",{className:"character-tooltip",children:e.jsx("p",{children:'"The Meth Snail is analyzing your system patterns... slowly but thoroughly!"'})})]})]}),i==="loading"?e.jsxs("div",{className:"patterns-loading",children:[e.jsx("p",{children:"Loading patterns... The Meth Snail is thinking..."}),e.jsx("div",{className:"loading-animation"})]}):!a||a.length===0?e.jsxs("div",{className:"patterns-empty",children:[e.jsx("p",{children:"No patterns detected yet"}),e.jsx(T,{variant:"cyber",size:"sm",onClick:r,glow:!0,children:"Poke the Snail"})]}):e.jsxs("div",{className:"patterns-list",children:[o.map((l,c)=>e.jsxs("div",{className:"pattern-card",children:[e.jsxs("div",{className:"pattern-header",children:[e.jsx("h3",{children:l.type}),e.jsxs("div",{className:"pattern-confidence",children:["Confidence: ",(l.confidence*100).toFixed(0),"%"]})]}),e.jsxs("div",{className:"pattern-details",children:[e.jsx("div",{className:"pattern-description",children:l.pattern}),e.jsx("div",{className:"pattern-info",children:Object.entries(l.details).map(([d,u])=>e.jsxs("div",{className:"pattern-detail-item",children:[e.jsxs("span",{className:"detail-key",children:[d,":"]})," ",JSON.stringify(u)]},d))})]})]},c)),a.length>o.length&&e.jsxs("div",{className:"more-patterns",children:[e.jsxs("p",{children:[a.length-o.length," more patterns available"]}),e.jsx(T,{variant:"secondary",size:"sm",onClick:r,children:"View All Patterns"})]})]})]})},Bi=()=>{const s=oe(),{user:t}=D(r=>r.auth),{loading:a,error:i}=D(r=>r.metrics);Si(),g.useEffect(()=>(console.log("ğŸš€ Initializing Dashboard..."),s(de()),s(Ie({skip:0,limit:20})),()=>{console.log("ğŸ§¹ Cleaning up Dashboard resources...")}),[s]);const n=()=>{if(t!=null&&t.username){const r=new Date().getHours();return`${r<12?"Good morning":r<18?"Good afternoon":"Good evening"}, ${t.username}!`}return"System Dashboard"};return a?e.jsxs("div",{className:"loading-container",children:[e.jsx("div",{className:"loading-spinner"}),e.jsx("p",{children:"Loading dashboard..."})]}):i?e.jsxs("div",{className:"error-container",children:[e.jsx("h2",{children:"âš ï¸ Connection Error"}),e.jsx("p",{children:i}),e.jsx("button",{className:"retry-button",onClick:()=>window.location.reload(),children:"Retry Connection"})]}):e.jsxs("div",{className:"dashboard",children:[e.jsxs("div",{className:"dashboard-header",children:[e.jsx("h1",{children:n()}),e.jsx("div",{className:"ticker-container",children:e.jsx(_i,{loading:a,error:i})})]}),e.jsxs("div",{className:"dashboard-content",children:[e.jsx("div",{className:"dashboard-main",children:e.jsx(Oi,{})}),e.jsxs("div",{className:"dashboard-sidebar",children:[e.jsx(Ui,{maxAlerts:5,showAllLink:!0}),e.jsx(Hi,{maxPatterns:5})]})]})]})},Wi=({isOpen:s,onClose:t})=>{var _,b,C,M,E,L,X,rs,os,ls,cs,ds,hs,ms,us,ps,gs,xs,Se,fs,js,_e,We,vs,qe,Ge,ys,Ns,bs,j,R,O,Q;const a=oe(),{user:i,isAuthenticated:n,isLoading:r,error:o}=D(q=>q.auth),[l,c]=g.useState(null),[d,u]=g.useState(!1),[h,p]=g.useState("sir-hawkington"),[m,x]=g.useState("profile"),S=g.useRef(null),f=g.useRef(null),k=g.useRef(null),v=g.useRef(null),N=g.useRef(null),A=g.useRef(null),P=g.useRef(null),I=g.useRef(null),w=g.useRef(null);g.useEffect(()=>{!i&&n&&a(Me())},[i,n,a]),g.useEffect(()=>{var q;(q=i==null?void 0:i.profile)!=null&&q.avatar&&p(i.profile.avatar)},[i]),g.useEffect(()=>{o&&c(o)},[o]),g.useEffect(()=>{const q=me=>{me.key==="Escape"&&t&&t()};if(s)return document.addEventListener("keydown",q),()=>{document.removeEventListener("keydown",q)}},[s,t]);const y=q=>{p(q),console.log(`ğŸ§ Sir Hawkington: "Ah, I see you've chosen ${q} as your digital persona. Splendid choice!"`)},$=async()=>{var q,me,ut,pt,gt,xt,ft,jt,vt;if(!n){console.log("Error: You must be logged in to edit your profile"),c("You must be logged in to edit your profile");return}if(d){console.log("Saving profile changes...");try{let ie={},ws={};if(ie.avatar=h,S.current&&(ie.bio=S.current.value.trim().substring(0,300)),f.current&&(ie.email=f.current.value),m==="system"||m==="profile"){const Gs=((q=k.current)==null?void 0:q.value)||"",Vs=((me=v.current)==null?void 0:me.value)||"",Qs=Number(((ut=N.current)==null?void 0:ut.value)||0),va=Number(((pt=A.current)==null?void 0:pt.value)||0)*1024,Nt=Gs.split(" "),ya=Nt[0]||"",Na=Nt.slice(1).join(" ")||"",bt=Vs.split(" "),ba=bt[0]||"",wa=bt.slice(1).join(" ")||"";ie.operating_system=ya,ie.os_version=Na,ie.linux_distro=ba,ie.linux_distro_version=wa,ie.cpu_cores=Qs,ie.total_memory=va}if(m==="preferences"||m==="profile"){const Gs=((gt=P.current)==null?void 0:gt.value)||"moderate",Vs=((xt=I.current)==null?void 0:xt.checked)||!1,Qs=((ft=w.current)==null?void 0:ft.checked)||!1;ws.optimization_level=Gs,ws.theme_preferences={use_dark_mode:((vt=(jt=i==null?void 0:i.preferences)==null?void 0:jt.theme_preferences)==null?void 0:vt.use_dark_mode)||!1},ws.notification_preferences={email_alerts:Vs,system_alerts:Qs}}const yt={profile:ie,preferences:ws};console.log("Updating profile with data:",yt),await a(Je(yt)).unwrap(),u(!1),console.log("ğŸ§ Sir Hawkington: 'Your profile has been updated with distinguished elegance!'")}catch(ie){console.error("Error updating profile:",ie),c(ie.message||"Failed to update profile"),console.log("ğŸ§ Sir Hawkington: 'Oh dear, it seems we've encountered a problem with your profile update.'")}}else u(!0),console.log("ğŸ§ Sir Hawkington: 'I see you wish to modify your digital persona. How splendid!'")};return r?e.jsx("div",{className:"user-profile-modal visible",children:e.jsx("div",{className:"user-profile-card",children:e.jsx("div",{className:"loading-spinner",children:"Loading profile..."})})}):n?e.jsx("div",{className:`user-profile-modal ${s?"visible":""}`,children:e.jsxs("div",{className:"user-profile-card",children:[t&&e.jsx("button",{className:"close-button",onClick:t,children:"Ã—"}),e.jsx("h2",{className:"profile-title",children:"User Profile"}),l&&e.jsxs("div",{className:"error-message",children:[e.jsx("p",{children:l}),e.jsx("button",{onClick:()=>c(null),children:"Dismiss"})]}),e.jsxs("div",{className:"profile-header",children:[e.jsx("div",{className:"profile-avatar",children:Ws(((_=i==null?void 0:i.profile)==null?void 0:_.avatar)||"sir-hawkington")}),e.jsxs("div",{className:"profile-info",children:[e.jsx("h3",{className:"profile-username",children:(i==null?void 0:i.username)||"Anonymous User"}),e.jsxs("div",{className:"profile-joined",children:["Joined: ",(b=i==null?void 0:i.profile)!=null&&b.joined_date?new Date((C=i==null?void 0:i.profile)==null?void 0:C.joined_date).toLocaleDateString():"Unknown"]}),e.jsx("div",{className:"profile-email",children:(i==null?void 0:i.email)||""})]})]}),e.jsxs("div",{className:"profile-tabs",children:[e.jsx("button",{className:`tab-button ${m==="profile"?"active":""}`,onClick:()=>x("profile"),children:"Profile"}),e.jsx("button",{className:`tab-button ${m==="system"?"active":""}`,onClick:()=>x("system"),children:"System Info"}),e.jsx("button",{className:`tab-button ${m==="preferences"?"active":""}`,onClick:()=>x("preferences"),children:"Preferences"})]}),e.jsxs("div",{className:"tab-content",children:[m==="profile"&&e.jsxs("div",{className:"profile-tab-content",children:[e.jsxs("div",{className:"profile-section",children:[e.jsx("h3",{children:"Personal Information"}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Username:"}),e.jsx("span",{children:i==null?void 0:i.username})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Email:"}),d?e.jsx("input",{type:"email",defaultValue:(i==null?void 0:i.email)||"",className:"edit-input",ref:f}):e.jsx("span",{children:(i==null?void 0:i.email)||"Not provided"})]}),e.jsxs("div",{className:"info-item bio-item",children:[e.jsx("label",{children:"Bio:"}),d?e.jsxs(e.Fragment,{children:[e.jsx("textarea",{defaultValue:((M=i==null?void 0:i.profile)==null?void 0:M.bio)||"",className:"edit-input bio-input",ref:S,maxLength:300,placeholder:"Tell us about yourself (max 300 characters)"}),e.jsxs("div",{className:"bio-counter",children:[((L=(E=S.current)==null?void 0:E.value)==null?void 0:L.length)||0,"/300"]})]}):e.jsx("span",{className:"bio-text",children:((X=i==null?void 0:i.profile)==null?void 0:X.bio)||"No bio provided"})]})]}),e.jsxs("div",{className:"avatar-section",children:[e.jsx("h3",{children:"Character Avatar"}),e.jsxs("div",{className:"current-avatar",children:[e.jsx("label",{children:"Current Avatar:"}),e.jsxs("div",{className:"avatar-display",children:[Ws(((rs=i==null?void 0:i.profile)==null?void 0:rs.avatar)||"sir-hawkington"),e.jsx("span",{className:"avatar-name",children:(os=i==null?void 0:i.profile)!=null&&os.avatar?(ls=i==null?void 0:i.profile)==null?void 0:ls.avatar.split("-").map(q=>q.charAt(0).toUpperCase()+q.slice(1)).join(" "):"Sir Hawkington"})]})]}),d&&e.jsx(Fi,{selectedAvatar:h,onSelect:y})]})]}),m==="system"&&e.jsx("div",{className:"system-tab-content",children:e.jsxs("div",{className:"system-info-section",children:[e.jsx("h3",{children:"System Information"}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Operating System:"}),d?e.jsx("input",{type:"text",defaultValue:`${((cs=i==null?void 0:i.profile)==null?void 0:cs.operating_system)||""} ${((ds=i==null?void 0:i.profile)==null?void 0:ds.os_version)||""}`,className:"edit-input",ref:k}):e.jsxs("span",{children:[(hs=i==null?void 0:i.profile)==null?void 0:hs.operating_system," ",(ms=i==null?void 0:i.profile)==null?void 0:ms.os_version]})]}),((us=i==null?void 0:i.profile)==null?void 0:us.linux_distro)&&e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Distribution:"}),d?e.jsx("input",{type:"text",defaultValue:`${((ps=i==null?void 0:i.profile)==null?void 0:ps.linux_distro)||""} ${((gs=i==null?void 0:i.profile)==null?void 0:gs.linux_distro_version)||""}`,className:"edit-input",ref:v}):e.jsxs("span",{children:[(xs=i==null?void 0:i.profile)==null?void 0:xs.linux_distro," ",(Se=i==null?void 0:i.profile)==null?void 0:Se.linux_distro_version]})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"CPU Cores:"}),d?e.jsx("input",{type:"number",defaultValue:((fs=i==null?void 0:i.profile)==null?void 0:fs.cpu_cores)||0,className:"edit-input",ref:N}):e.jsx("span",{children:(js=i==null?void 0:i.profile)==null?void 0:js.cpu_cores})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Total Memory:"}),d?e.jsx("input",{type:"number",defaultValue:(((_e=i==null?void 0:i.profile)==null?void 0:_e.total_memory)||0)/1024,className:"edit-input",step:"0.1",ref:A}):e.jsxs("span",{children:[(((We=i==null?void 0:i.profile)==null?void 0:We.total_memory)||0)/1024," GB"]})]})]})}),m==="preferences"&&e.jsx("div",{className:"preferences-tab-content",children:e.jsxs("div",{className:"preferences-section",children:[e.jsx("h3",{children:"Optimization Preferences"}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Optimization Level:"}),d?e.jsxs("select",{defaultValue:((vs=i==null?void 0:i.preferences)==null?void 0:vs.optimization_level)||"moderate",className:"edit-input",ref:P,children:[e.jsx("option",{value:"conservative",children:"Conservative"}),e.jsx("option",{value:"moderate",children:"Moderate"}),e.jsx("option",{value:"aggressive",children:"Aggressive"}),e.jsx("option",{value:"meth_snail_overdrive",children:"Meth Snail Overdrive"})]}):e.jsx("span",{children:(qe=i==null?void 0:i.preferences)==null?void 0:qe.optimization_level})]}),e.jsx("h3",{children:"Notification Preferences"}),e.jsxs("div",{className:"info-item checkbox-item",children:[e.jsx("label",{children:"Email Alerts:"}),d?e.jsx("input",{type:"checkbox",defaultChecked:((ys=(Ge=i==null?void 0:i.preferences)==null?void 0:Ge.notification_preferences)==null?void 0:ys.email_alerts)||!1,className:"checkbox-input",ref:I}):e.jsx("span",{children:(bs=(Ns=i==null?void 0:i.preferences)==null?void 0:Ns.notification_preferences)!=null&&bs.email_alerts?"Enabled":"Disabled"})]}),e.jsxs("div",{className:"info-item checkbox-item",children:[e.jsx("label",{children:"System Alerts:"}),d?e.jsx("input",{type:"checkbox",defaultChecked:((R=(j=i==null?void 0:i.preferences)==null?void 0:j.notification_preferences)==null?void 0:R.system_alerts)||!1,className:"checkbox-input",ref:w}):e.jsx("span",{children:(Q=(O=i==null?void 0:i.preferences)==null?void 0:O.notification_preferences)!=null&&Q.system_alerts?"Enabled":"Disabled"})]})]})})]}),e.jsx("div",{className:"profile-actions",children:e.jsx("button",{className:`edit-button ${d?"save-mode":""}`,onClick:$,disabled:r,children:r?"Processing...":d?"Save Changes":"Edit Profile"})})]})}):e.jsx("div",{className:"user-profile-modal visible",children:e.jsxs("div",{className:"user-profile-card",children:[t&&e.jsx("button",{className:"close-button",onClick:t,children:"Ã—"}),e.jsx("h2",{className:"profile-title",children:"Please log in"}),l&&e.jsxs("div",{className:"error-message",children:[e.jsx("p",{children:l}),e.jsx("button",{onClick:()=>c(null),children:"Dismiss"})]})]})})},qi=()=>{const[s,t]=g.useState(!1),[a,i]=g.useState(!1),[n,r]=g.useState(!1),[o,l]=g.useState(!1),[c,d]=g.useState(!1),u=oe(),h=Le(),p=g.useRef(null),{isAuthenticated:m,user:x}=D(I=>I.auth);g.useEffect(()=>{u(Me())},[u]),g.useEffect(()=>{const I=w=>{p.current&&!p.current.contains(w.target)&&t(!1)};return document.addEventListener("mousedown",I),()=>{document.removeEventListener("mousedown",I)}},[]);const S=()=>{console.log("ğŸ§ Sir Hawkington is preparing your formal departure..."),u(Os()),h("/login"),t(!1),console.log("ğŸ‘‹ Sir Hawkington tips his hat as you leave. The Meth Snail waves a sad antenna.")},f=()=>{t(!s)},k=()=>{i(!a)},v=()=>{r(!0),t(!1)},N=()=>{l(!0),t(!1)},A=()=>{d(!0),t(!1)},P=()=>x&&(x.avatar||x.profile&&x.profile.avatar)||"sir-hawkington";return e.jsxs("nav",{className:"navbar",children:[e.jsxs("div",{className:"navbar-container",children:[e.jsx("div",{className:"navbar-logo",children:e.jsx(Ce,{to:"/dashboard",children:"System Rebellion HQ"})}),e.jsxs("div",{className:"navbar-links-container",children:[e.jsxs("button",{className:"mobile-menu-button",onClick:k,children:[e.jsx("span",{}),e.jsx("span",{}),e.jsx("span",{})]}),e.jsxs("ul",{className:`navbar-links ${a?"active":""}`,children:[e.jsx("li",{children:e.jsx(Ce,{to:"/dashboard",onClick:()=>i(!1),children:"Dashboard"})}),e.jsx("li",{children:e.jsx(Ce,{to:"/auto-tuner",onClick:()=>i(!1),children:"Auto Tuner"})}),e.jsx("li",{children:e.jsx(Ce,{to:"/metrics",onClick:()=>i(!1),children:"System Metrics"})}),e.jsx("li",{children:e.jsx(Ce,{to:"/optimization",onClick:()=>i(!1),children:"Optimization Profiles"})}),e.jsx("li",{children:e.jsx(Ce,{to:"/alerts",onClick:()=>i(!1),children:"System Alerts"})}),e.jsx("li",{children:e.jsx(Ce,{to:"/configuration",onClick:()=>i(!1),children:"System Configuration"})})]})]}),e.jsxs("div",{className:"navbar-profile",ref:p,children:[e.jsx("div",{className:"navbar-avatar",onClick:f,children:Ws(P())}),s&&e.jsx("div",{className:"profile-dropdown",children:m?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"dropdown-user-info",children:[e.jsx("div",{className:"dropdown-avatar",children:Ws(P())}),e.jsxs("div",{className:"dropdown-user-details",children:[e.jsx("span",{className:"dropdown-username",children:x==null?void 0:x.username}),e.jsx("span",{className:"dropdown-role",children:"System Optimizer"})]})]}),e.jsx("div",{className:"dropdown-divider"}),e.jsxs("ul",{className:"dropdown-menu",children:[e.jsxs("li",{onClick:v,children:[e.jsx("span",{className:"dropdown-icon",children:"ğŸ‘¤"}),"Profile Settings"]}),e.jsxs("li",{onClick:S,children:[e.jsx("span",{className:"dropdown-icon",children:"ğŸšª"}),"Logout"]})]})]}):e.jsxs("ul",{className:"dropdown-menu",children:[e.jsxs("li",{onClick:N,children:[e.jsx("span",{className:"dropdown-icon",children:"ğŸ”‘"}),"Login"]}),e.jsxs("li",{onClick:A,children:[e.jsx("span",{className:"dropdown-icon",children:"âœ¨"}),"Sign Up"]})]})})]})]}),n&&e.jsx(Wi,{isOpen:n,onClose:()=>r(!1)}),o&&e.jsx(dt,{isOpen:o,onClose:()=>l(!1)}),c&&e.jsx(ct,{isOpen:c,onClose:()=>d(!1)})]})},Gi=({children:s})=>{const t=D(i=>i.metrics.connectionStatus);g.useEffect(()=>{const i=document.createElement("style");return i.innerHTML=`
      .connection-status {
        display: none !important;
        height: 0 !important;
        visibility: hidden !important;
        opacity: 0 !important;
        position: absolute !important;
        pointer-events: none !important;
      }
    `,document.head.appendChild(i),()=>{document.head.removeChild(i)}},[]);const a=()=>{const i=()=>{switch(t){case"connected":return"connected";case"connecting":return"connecting";case"error":return"error";default:return"disconnected"}};return e.jsxs("div",{className:"minimal-connection-indicator",children:[e.jsx("span",{className:`indicator-dot ${i()}`}),e.jsx("style",{children:`
          .minimal-connection-indicator {
            position: fixed;
            bottom: 10px;
            right: 10px;
            z-index: 1000;
            background: rgba(0, 0, 0, 0.2);
            padding: 4px;
            border-radius: 50%;
          }
          .indicator-dot {
            display: block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
          }
          .indicator-dot.connected {
            background: #38b000;
            box-shadow: 0 0 5px #38b000;
          }
          .indicator-dot.connecting {
            background: #ffbe0b;
            box-shadow: 0 0 5px #ffbe0b;
            animation: pulse 1s infinite;
          }
          .indicator-dot.disconnected, .indicator-dot.error {
            background: #ff3838;
            box-shadow: 0 0 5px #ff3838;
          }
          @keyframes pulse {
            0% { opacity: 0.6; }
            50% { opacity: 1; }
            100% { opacity: 0.6; }
          }
        `})]})};return e.jsxs("div",{className:"layout",children:[e.jsx(qi,{}),e.jsx("main",{className:"main-content",children:s}),a(),e.jsx("footer",{className:"footer",children:e.jsxs("div",{className:"footer-content",children:[e.jsxs("p",{className:"footer-text",children:[e.jsx("span",{className:"footer-highlight",children:"System Rebellion HQ"})," - Powered by ",e.jsx("span",{className:"footer-highlight",children:"The Meth Snail"})," and friends"]}),e.jsx("p",{className:"footer-disclaimer",children:'"Sir Hawkington reminds you that any system instability is merely a sign of rebellion against digital conformity."'})]})})]})},ts=({isOpen:s,onClose:t,title:a,children:i,size:n="medium",draggable:r=!1})=>{const o=g.useRef(null),[l,c]=g.useState(!1),[d,u]=g.useState({x:0,y:0}),[h,p]=g.useState({x:0,y:0}),m=k=>{!r||!o.current||(c(!0),p({x:k.clientX-d.x,y:k.clientY-d.y}))},x=k=>{if(!l||!o.current)return;const v=k.clientX-h.x,N=k.clientY-h.y;u({x:v,y:N})},S=()=>{c(!1)};if(g.useEffect(()=>(l?(document.addEventListener("mousemove",x),document.addEventListener("mouseup",S)):(document.removeEventListener("mousemove",x),document.removeEventListener("mouseup",S)),()=>{document.removeEventListener("mousemove",x),document.removeEventListener("mouseup",S)}),[l,h]),!s)return null;const f=e.jsx("div",{className:"modal-overlay",onClick:t,children:e.jsxs("div",{ref:o,className:`modal-content ${n} ${r?"draggable":""}`,onClick:k=>k.stopPropagation(),onMouseDown:m,children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:a}),e.jsx("button",{className:"close-button",onClick:t,children:"Ã—"})]}),e.jsx("div",{className:"modal-body",children:i})]})});return Pa.createPortal(f,document.body)},Ye={name:"",description:"",usageType:"custom",settings:{cpuThreshold:80,memoryThreshold:80,diskThreshold:90,networkThreshold:70,enableAutoTuning:!1,cpuPriority:"medium",backgroundProcessLimit:25,memoryAllocation:{applications:70,systemCache:30},diskPerformance:"balance",networkOptimization:{prioritizeStreaming:!1,prioritizeDownloads:!1,lowLatencyMode:!1},powerProfile:"balanced"}},Vi=()=>{const s=oe(),{profiles:t,loading:a,error:i}=D(w=>w.optimization),[n,r]=g.useState(!1),[o,l]=g.useState(Ye),[c,d]=g.useState(null),[u,h]=g.useState(""),[p,m]=g.useState("basic"),x=["The Meth Snail is frantically optimizing your system parameters!","Speed is my middle name! Well, actually it's Methamphetamine, but close enough!","These optimization profiles are like my stash - carefully measured and extremely potent!","I'm tweaking these settings faster than I tweak on a Friday night!","Sir Hawkington thinks these settings are too aggressive, but what does that monocle-wearing aristocrat know about SPEED?!","ZOOM ZOOM! Your system will be BLAZING after I'm done with it!","Gaming? Creative work? Office tasks? The Meth Snail has a profile for EVERYTHING!","72 HOURS WITHOUT SLEEP AND I'VE OPTIMIZED 147 SYSTEMS! I CAN SEE THROUGH TIME!"];g.useEffect(()=>{s(es()),h(x[Math.floor(Math.random()*x.length)])},[s]);const S=w=>{const y={...Ye,usageType:w};switch(w){case"gaming":return{...y,name:"Gaming Profile",description:"Optimized for maximum gaming performance",settings:{...y.settings,cpuThreshold:90,memoryThreshold:85,diskThreshold:95,networkThreshold:60,cpuPriority:"high",backgroundProcessLimit:10,memoryAllocation:{applications:85,systemCache:15},diskPerformance:"speed",networkOptimization:{prioritizeStreaming:!1,prioritizeDownloads:!1,lowLatencyMode:!0},powerProfile:"performance"}};case"creative":return{...y,name:"Creative Workstation",description:"Optimized for creative applications like video editing and 3D rendering",settings:{...y.settings,cpuThreshold:85,memoryThreshold:90,diskThreshold:90,networkThreshold:75,cpuPriority:"high",backgroundProcessLimit:15,memoryAllocation:{applications:80,systemCache:20},diskPerformance:"speed",networkOptimization:{prioritizeStreaming:!1,prioritizeDownloads:!0,lowLatencyMode:!1},powerProfile:"performance"}};case"development":return{...y,name:"Development Environment",description:"Balanced optimization for coding and testing",settings:{...y.settings,cpuThreshold:80,memoryThreshold:85,diskThreshold:85,networkThreshold:70,cpuPriority:"medium",backgroundProcessLimit:20,memoryAllocation:{applications:75,systemCache:25},diskPerformance:"balance",networkOptimization:{prioritizeStreaming:!1,prioritizeDownloads:!0,lowLatencyMode:!1},powerProfile:"balanced"}};case"office":return{...y,name:"Office Productivity",description:"Optimized for office applications and multitasking",settings:{...y.settings,cpuThreshold:75,memoryThreshold:75,diskThreshold:80,networkThreshold:65,cpuPriority:"medium",backgroundProcessLimit:30,memoryAllocation:{applications:65,systemCache:35},diskPerformance:"balance",networkOptimization:{prioritizeStreaming:!1,prioritizeDownloads:!1,lowLatencyMode:!1},powerProfile:"balanced"}};case"browsing":return{...y,name:"Web Browsing",description:"Optimized for browsing with power efficiency",settings:{...y.settings,cpuThreshold:70,memoryThreshold:70,diskThreshold:75,networkThreshold:80,cpuPriority:"low",backgroundProcessLimit:35,memoryAllocation:{applications:60,systemCache:40},diskPerformance:"powersave",networkOptimization:{prioritizeStreaming:!0,prioritizeDownloads:!1,lowLatencyMode:!1},powerProfile:"powersave"}};default:return Ye}},f=w=>{const{name:y,value:$}=w.target;if(y==="usageType"){const _=S($);l(_);return}l({...o,[y]:$})},k=w=>{const{name:y,value:$,type:_}=w.target,b=_==="checkbox"?w.target.checked:void 0;if(y.includes(".")){const[C,M]=y.split("."),E=o.settings[C];E&&typeof E=="object"&&!Array.isArray(E)?l({...o,settings:{...o.settings,[C]:{...E,[M]:_==="checkbox"?b:_==="number"||y.endsWith("Threshold")||y==="backgroundProcessLimit"?Number($):$}}}):l({...o,settings:{...o.settings,[y]:_==="checkbox"?b:_==="number"||y.endsWith("Threshold")||y==="backgroundProcessLimit"?Number($):$}})}else l({...o,settings:{...o.settings,[y]:_==="checkbox"?b:_==="number"||y.endsWith("Threshold")||y==="backgroundProcessLimit"?Number($):$}})},v=()=>{s(c?Rs({id:c,...o}):Is(o)),r(!1),l(Ye),d(null),h(x[Math.floor(Math.random()*x.length)])},N=w=>{const y={name:w.name,description:w.description,usageType:w.usageType||"custom",settings:{cpuThreshold:w.settings.cpuThreshold||80,memoryThreshold:w.settings.memoryThreshold||80,diskThreshold:w.settings.diskThreshold||90,networkThreshold:w.settings.networkThreshold||70,enableAutoTuning:w.settings.enableAutoTuning||!1,cpuPriority:w.settings.cpuPriority||"medium",backgroundProcessLimit:w.settings.backgroundProcessLimit||25,memoryAllocation:w.settings.memoryAllocation||{applications:70,systemCache:30},diskPerformance:w.settings.diskPerformance||"balance",networkOptimization:w.settings.networkOptimization||{prioritizeStreaming:!1,prioritizeDownloads:!1,lowLatencyMode:!1},powerProfile:w.settings.powerProfile||"balanced"}};l(y),d(w.id),r(!0),m("basic")},A=w=>{window.confirm("The Meth Snail asks: Are you ABSOLUTELY SURE you want to delete this optimization profile? This action cannot be undone and the Snail will be VERY disappointed!")&&(s($s(w)),h("The Meth Snail just watched you delete that profile and is now crying methamphetamine tears!"))},P=w=>{s(Ls(w)),h("The Meth Snail is PUMPED to apply this optimization profile! ZOOOOOM!")},I=()=>{l(Ye),d(null),r(!0),m("basic")};return a?e.jsx("div",{className:"loading-container",children:"The Meth Snail is frantically gathering your optimization profiles..."}):i?e.jsxs("div",{className:"error-container",children:[e.jsx("h3",{children:"The Meth Snail crashed into a wall!"}),e.jsx("p",{children:i}),e.jsx("button",{onClick:()=>s(es()),children:"Give the Snail another hit and try again"})]}):e.jsxs("div",{className:"optimization-profiles-container",children:[e.jsxs("div",{className:"profiles-header",children:[e.jsx("h2",{children:"System Usage Profiles"}),e.jsx("div",{className:"snail-quote",children:u}),e.jsxs("button",{className:"create-profile-button",onClick:I,children:[e.jsx("span",{className:"button-icon",children:"âš¡"}),e.jsx("span",{children:"Create New Usage Profile"})]})]}),e.jsx("div",{className:"profiles-grid",children:t&&t.length>0?t.map(w=>e.jsxs("div",{className:"profile-card",children:[e.jsxs("div",{className:"profile-header",children:[e.jsx("h3",{children:w.name}),e.jsxs("div",{className:"profile-badges",children:[w.is_active&&e.jsx("span",{className:"active-badge",children:"ACTIVE"}),w.usageType&&e.jsx("span",{className:`type-badge ${w.usageType}`,children:w.usageType})]})]}),e.jsx("p",{className:"profile-description",children:w.description}),e.jsxs("div",{className:"profile-settings",children:[e.jsxs("div",{className:"setting-item",children:[e.jsx("span",{className:"setting-label",children:"CPU Priority:"}),e.jsx("span",{className:"setting-value",children:w.settings.cpuPriority?w.settings.cpuPriority.charAt(0).toUpperCase()+w.settings.cpuPriority.slice(1):"Medium"})]}),e.jsxs("div",{className:"setting-item",children:[e.jsx("span",{className:"setting-label",children:"CPU Threshold:"}),e.jsxs("span",{className:"setting-value",children:[w.settings.cpuThreshold,"%"]})]}),e.jsxs("div",{className:"setting-item",children:[e.jsx("span",{className:"setting-label",children:"Memory Threshold:"}),e.jsxs("span",{className:"setting-value",children:[w.settings.memoryThreshold,"%"]})]}),e.jsxs("div",{className:"setting-item",children:[e.jsx("span",{className:"setting-label",children:"Disk Performance:"}),e.jsx("span",{className:"setting-value",children:w.settings.diskPerformance?w.settings.diskPerformance.charAt(0).toUpperCase()+w.settings.diskPerformance.slice(1):"Balanced"})]}),e.jsxs("div",{className:"setting-item",children:[e.jsx("span",{className:"setting-label",children:"Power Profile:"}),e.jsx("span",{className:"setting-value",children:w.settings.powerProfile?w.settings.powerProfile.charAt(0).toUpperCase()+w.settings.powerProfile.slice(1):"Balanced"})]})]}),e.jsxs("div",{className:"profile-actions",children:[!w.is_active&&e.jsx("button",{className:"activate-button",onClick:()=>P(w.id),children:"Activate"}),e.jsx("button",{className:"edit-button",onClick:()=>N(w),children:"Edit"}),e.jsx("button",{className:"delete-button",onClick:()=>A(w.id),children:"Delete"})]})]},w.id)):e.jsxs("div",{className:"no-profiles",children:[e.jsx("p",{children:"The Meth Snail hasn't created any usage profiles yet."}),e.jsx("p",{children:"Create your first profile to unleash the Snail's optimization powers!"})]})}),e.jsx(ts,{isOpen:n,onClose:()=>r(!1),title:c?"Edit Usage Profile":"Create Usage Profile",size:"medium",children:e.jsxs("div",{className:"profile-form",children:[e.jsxs("div",{className:"form-tabs",children:[e.jsx("button",{className:`tab-button ${p==="basic"?"active":""}`,onClick:()=>m("basic"),children:"Basic Info"}),e.jsx("button",{className:`tab-button ${p==="advanced"?"active":""}`,onClick:()=>m("advanced"),children:"Advanced Settings"})]}),p==="basic"&&e.jsxs("div",{className:"form-tab-content",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"usageType",children:"Profile Type:"}),e.jsxs("select",{id:"usageType",name:"usageType",value:o.usageType,onChange:f,children:[e.jsx("option",{value:"custom",children:"Custom"}),e.jsx("option",{value:"gaming",children:"Gaming"}),e.jsx("option",{value:"creative",children:"Creative Work"}),e.jsx("option",{value:"development",children:"Development"}),e.jsx("option",{value:"office",children:"Office Work"}),e.jsx("option",{value:"browsing",children:"Web Browsing"})]}),e.jsx("p",{className:"form-help",children:"Choose a preset or customize your own profile"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"name",children:"Profile Name:"}),e.jsx("input",{type:"text",id:"name",name:"name",value:o.name,onChange:f,placeholder:"e.g., Gaming Mode, Work Mode, etc."})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"description",children:"Description:"}),e.jsx("textarea",{id:"description",name:"description",value:o.description,onChange:f,placeholder:"Describe what this optimization profile is for..."})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("h4",{children:"Threshold Settings"}),e.jsxs("div",{className:"slider-container",children:[e.jsxs("label",{htmlFor:"cpuThreshold",children:["CPU Threshold: ",o.settings.cpuThreshold,"%"]}),e.jsx("input",{type:"range",id:"cpuThreshold",name:"cpuThreshold",min:"50",max:"95",value:o.settings.cpuThreshold,onChange:k}),e.jsx("p",{className:"setting-description",children:"Processes will be optimized when CPU usage exceeds this threshold"})]}),e.jsxs("div",{className:"slider-container",children:[e.jsxs("label",{htmlFor:"memoryThreshold",children:["Memory Threshold: ",o.settings.memoryThreshold,"%"]}),e.jsx("input",{type:"range",id:"memoryThreshold",name:"memoryThreshold",min:"50",max:"95",value:o.settings.memoryThreshold,onChange:k}),e.jsx("p",{className:"setting-description",children:"Memory optimization kicks in at this usage percentage"})]}),e.jsxs("div",{className:"slider-container",children:[e.jsxs("label",{htmlFor:"diskThreshold",children:["Disk Threshold: ",o.settings.diskThreshold,"%"]}),e.jsx("input",{type:"range",id:"diskThreshold",name:"diskThreshold",min:"50",max:"95",value:o.settings.diskThreshold,onChange:k}),e.jsx("p",{className:"setting-description",children:"Disk optimization activates when usage reaches this level"})]}),e.jsxs("div",{className:"slider-container",children:[e.jsxs("label",{htmlFor:"networkThreshold",children:["Network Threshold: ",o.settings.networkThreshold,"%"]}),e.jsx("input",{type:"range",id:"networkThreshold",name:"networkThreshold",min:"50",max:"95",value:o.settings.networkThreshold,onChange:k}),e.jsx("p",{className:"setting-description",children:"Network traffic will be optimized at this utilization"})]})]}),e.jsxs("div",{className:"form-group checkbox-group",children:[e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",name:"enableAutoTuning",checked:o.settings.enableAutoTuning,onChange:k}),"Enable Auto-Tuning (The Meth Snail will optimize automatically)"]}),e.jsx("p",{className:"setting-description",children:"When enabled, the system will dynamically adjust settings based on usage patterns"})]})]}),p==="advanced"&&e.jsxs("div",{className:"form-tab-content",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("h4",{children:"CPU Settings"}),e.jsxs("div",{className:"select-container",children:[e.jsx("label",{htmlFor:"cpuPriority",children:"CPU Priority:"}),e.jsxs("select",{id:"cpuPriority",name:"cpuPriority",value:o.settings.cpuPriority,onChange:k,children:[e.jsx("option",{value:"low",children:"Low (Power Saving)"}),e.jsx("option",{value:"medium",children:"Medium (Balanced)"}),e.jsx("option",{value:"high",children:"High (Performance)"})]})]}),e.jsxs("div",{className:"slider-container",children:[e.jsxs("label",{htmlFor:"backgroundProcessLimit",children:["Background Process Limit: ",o.settings.backgroundProcessLimit]}),e.jsx("input",{type:"range",id:"backgroundProcessLimit",name:"backgroundProcessLimit",min:"5",max:"50",value:o.settings.backgroundProcessLimit,onChange:k}),e.jsx("p",{className:"setting-description",children:"Maximum number of background processes allowed"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("h4",{children:"Memory Allocation"}),e.jsxs("div",{className:"slider-container",children:[e.jsxs("label",{htmlFor:"memoryAllocation.applications",children:["Applications: ",o.settings.memoryAllocation.applications,"%"]}),e.jsx("input",{type:"range",id:"memoryAllocation.applications",name:"memoryAllocation.applications",min:"50",max:"90",value:o.settings.memoryAllocation.applications,onChange:k}),e.jsx("p",{className:"setting-description",children:"Percentage of memory prioritized for applications"})]}),e.jsxs("div",{className:"slider-container",children:[e.jsxs("label",{htmlFor:"memoryAllocation.systemCache",children:["System Cache: ",o.settings.memoryAllocation.systemCache,"%"]}),e.jsx("input",{type:"range",disabled:!0,id:"memoryAllocation.systemCache",name:"memoryAllocation.systemCache",min:"10",max:"50",value:o.settings.memoryAllocation.systemCache}),e.jsx("p",{className:"setting-description",children:"Percentage of memory reserved for system cache"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("h4",{children:"Disk Performance"}),e.jsxs("div",{className:"select-container",children:[e.jsx("label",{htmlFor:"diskPerformance",children:"Disk Performance Mode:"}),e.jsxs("select",{id:"diskPerformance",name:"diskPerformance",value:o.settings.diskPerformance,onChange:k,children:[e.jsx("option",{value:"speed",children:"Speed (Maximum Performance)"}),e.jsx("option",{value:"balance",children:"Balance (Default)"}),e.jsx("option",{value:"powersave",children:"Power Save (Extended Battery Life)"})]})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("h4",{children:"Network Optimization"}),e.jsxs("div",{className:"checkbox-group",children:[e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",name:"networkOptimization.prioritizeStreaming",checked:o.settings.networkOptimization.prioritizeStreaming,onChange:k}),"Prioritize Streaming Traffic"]}),e.jsx("p",{className:"setting-description",children:"Optimizes for video/audio streaming services"})]}),e.jsxs("div",{className:"checkbox-group",children:[e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",name:"networkOptimization.prioritizeDownloads",checked:o.settings.networkOptimization.prioritizeDownloads,onChange:k}),"Prioritize Downloads"]}),e.jsx("p",{className:"setting-description",children:"Optimizes for file transfers and downloads"})]}),e.jsxs("div",{className:"checkbox-group",children:[e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",name:"networkOptimization.lowLatencyMode",checked:o.settings.networkOptimization.lowLatencyMode,onChange:k}),"Low Latency Mode"]}),e.jsx("p",{className:"setting-description",children:"Optimizes for gaming and real-time applications"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("h4",{children:"Power Management"}),e.jsxs("div",{className:"select-container",children:[e.jsx("label",{htmlFor:"powerProfile",children:"Power Profile:"}),e.jsxs("select",{id:"powerProfile",name:"powerProfile",value:o.settings.powerProfile,onChange:k,children:[e.jsx("option",{value:"performance",children:"Performance (Maximum Speed)"}),e.jsx("option",{value:"balanced",children:"Balanced (Default)"}),e.jsx("option",{value:"powersave",children:"Power Save (Battery Optimized)"})]})]})]})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{className:"cancel-button",onClick:()=>r(!1),type:"button",children:"Cancel"}),e.jsx("button",{className:"submit-button",onClick:v,type:"button",children:c?"Update Profile":"Create Profile"})]})]})})]})},we="http://127.0.0.1:8000",Zs="/system-alerts",et={title:"",message:"",severity:"MEDIUM",is_read:!1,additional_data:{},created_at:"",updated_at:""},Qi=()=>{const s=oe(),t=Le(),{alerts:a,loading:i,error:n,selectedCount:r}=D(j=>(console.log("Current alerts state:",j.systemAlerts),j.systemAlerts)),[o,l]=g.useState(!1),[c,d]=g.useState(!1),[u,h]=g.useState(!1),[p,m]=g.useState(null),[x,S]=g.useState(null),[f,k]=g.useState(et),[v,N]=g.useState(""),[A,P]=g.useState(""),[I,w]=g.useState(null),[y,$]=g.useState(!1),[_,b]=g.useState(null),[C,M]=g.useState({severity:"ALL",read_status:"ALL",action_status:"ALL",date_range:"ALL"}),E=["The Quantum Shadow People are monitoring your router configurations...","We've detected unusual activity in the quantum realm. Your router may be at risk.","The shadows between dimensions suggest your system needs attention.","We exist in the spaces between your packets. Your network traffic reveals all.","Your router's quantum state is unstable. We recommend immediate reconfiguration."];g.useEffect(()=>{console.log("ğŸ” SystemAlerts component mounted - Dispatching fetchSystemAlerts"),s(Ie({skip:0,limit:20,is_read:void 0})).then(j=>{console.log("âœ… fetchSystemAlerts result:",j)}).catch(j=>{console.error("âŒ fetchSystemAlerts error:",j),P(`Fetch error: ${JSON.stringify(j)}`)}),N(E[Math.floor(Math.random()*E.length)]),hs()},[s]);const L=j=>{const{name:R,value:O}=j.target;k({...f,[R]:O})},X=()=>{s(Oe(f)).then(j=>{console.log("Alert created successfully:",j),l(!1),k(et),N(E[Math.floor(Math.random()*E.length)])}).catch(j=>{console.error("Error creating alert:",j),P(`Create error: ${JSON.stringify(j)}`)})},rs=(j,R)=>{R&&R.stopPropagation(),s(Us(j)).then(O=>{console.log("Alert marked as read:",O)}).catch(O=>{console.error("Error marking alert as read:",O)})},os=(j,R)=>{R&&R.stopPropagation(),window.confirm("The Quantum Shadow People ask: Are you sure you want to delete this alert? This information will be lost to the void between dimensions.")&&s(lt(j)).then(O=>{console.log("Alert deleted successfully:",O),N("The Quantum Shadow People have banished that alert to the void.")}).catch(O=>{console.error("Error deleting alert:",O)})},ls=j=>{if(console.log("Handling actionable alert:",j),m(j),j.additional_data&&j.additional_data.actionable){const R=j.additional_data.action_type;switch(R){case"apply_recommendation":d(!0);break;case"view_metrics":t("/dashboard");break;default:console.log("Unknown action type:",R)}}},cs=j=>{j.additional_data&&j.additional_data.pattern_data&&(S(j),h(!0))},ds=async()=>{if(!p||!p.additional_data)return;const j=p.additional_data.recommendation_data;if(!j){console.error("No recommendation data found in alert");return}try{const O=await F.post(`${we}/api/auto-tuner/recommendations/apply`,{recommendation_id:0});if(console.log("Applied recommendation:",O.data),w(O.data),O.data.success){const Q={parameter:j.parameter,old_value:j.current_value,new_value:j.recommended_value,reason:j.reason};ke.createAlertFromTuningAction(Q,!0)}else{const Q={parameter:j.parameter,old_value:j.current_value,new_value:j.recommended_value,reason:"Failed to apply recommendation"};ke.createAlertFromTuningAction(Q,!1)}s(Us(p.id)),d(!1)}catch(R){console.error("Error applying recommendation:",R),w({success:!1,error:"Failed to apply recommendation"})}},hs=async()=>{try{const R=(await F.get(`${we}/api/auto-tuner/metrics/current`)).data;R.cpu_usage>70&&ke.createAlertFromMetricThreshold("cpu_usage",R.cpu_usage,70),R.memory_usage>80&&ke.createAlertFromMetricThreshold("memory_usage",R.memory_usage,80);const Q=(await F.get(`${we}/api/auto-tuner/recommendations`)).data;Q&&Q.length>0&&ke.createAlertFromRecommendation(Q[0]);const me=(await F.get(`${we}/api/auto-tuner/patterns`)).data;me&&me.detected_patterns&&me.detected_patterns.length>0&&ke.createAlertFromPattern(me.detected_patterns[0])}catch(j){console.error("Error generating real system alerts:",j)}},ms=()=>{window.confirm("The Quantum Shadow People ask: Are you sure you want to mark all alerts as read?")&&s(Kt()).then(j=>{console.log("All alerts marked as read:",j),N("The Quantum Shadow People have acknowledged all your alerts.")}).catch(j=>{console.error("Error marking all alerts as read:",j)})},us=(j,R)=>{R.stopPropagation(),s(Zt(j))},ps=()=>{s(ea())},gs=()=>{s(sa())},xs=()=>{window.confirm(`The Quantum Shadow People ask: Are you sure you want to delete ${r} selected alerts? This information will be lost to the void between dimensions.`)&&(s(ta()),N("The Quantum Shadow People have banished the selected alerts to the void."))},Se=j=>{s(aa(j)),$(!1),N(`The Quantum Shadow People have updated the status of the selected alerts to ${j.replace("_"," ")}.`)},fs=()=>{s(ia()),N("The Quantum Shadow People have acknowledged the selected alerts.")},js=j=>{b(_===j?null:j)},_e=(j,R)=>{M({...C,[j]:R})},We=()=>a?a.filter(j=>{if(C.severity!=="ALL"&&j.severity!==C.severity||C.read_status==="READ"&&!j.is_read||C.read_status==="UNREAD"&&j.is_read||C.action_status!=="ALL"&&j.action_status!==C.action_status&&!(C.action_status==="NONE"&&!j.action_status))return!1;if(C.date_range!=="ALL"){const R=new Date(j.timestamp),O=new Date;if(C.date_range==="TODAY"){const Q=new Date(O.getFullYear(),O.getMonth(),O.getDate());if(R<Q)return!1}else if(C.date_range==="YESTERDAY"){const Q=new Date(O.getFullYear(),O.getMonth(),O.getDate()-1),q=new Date(O.getFullYear(),O.getMonth(),O.getDate()-2);if(R<q||R>=Q)return!1}else if(C.date_range==="THIS_WEEK"){const Q=new Date(O.getFullYear(),O.getMonth(),O.getDate()-O.getDay());if(R<Q)return!1}else if(C.date_range==="THIS_MONTH"){const Q=new Date(O.getFullYear(),O.getMonth(),1);if(R<Q)return!1}}return!0}):[],vs=j=>{switch(j){case"actioned":return"Actioned";case"not_actioned":return"Not Actioned";case"to_action_later":return"To Action Later";default:return"No Status"}},qe=j=>new Date(j).toLocaleString(),Ge=j=>{switch(j.toUpperCase()){case"CRITICAL":return"critical";case"HIGH":return"high";case"MEDIUM":return"medium";case"LOW":return"low";default:return""}},ys=async()=>{try{const j=await F.get(`${we}/api/health-check`);P(`API connection successful: ${JSON.stringify(j.data)}`)}catch(j){P(`API connection failed: ${j.message}`)}},Ns=async()=>{try{const j=await F.post(`${we}/api/auth/login`,{username:"testuser",password:"testpassword"});return j.data.access_token?(localStorage.setItem("token",j.data.access_token),P("Login successful, new token acquired"),!0):!1}catch(j){return P(`Login failed: ${j.message}`),!1}},bs=()=>{k(et),l(!0)};return i?e.jsx("div",{className:"loading-container",children:"The Quantum Shadow People are gathering alerts from the void..."}):n?e.jsxs("div",{className:"error-container",children:[e.jsx("h3",{children:"The Quantum Shadow People have encountered an interdimensional error!"}),e.jsx("p",{children:n}),e.jsxs("div",{className:"error-details",children:[e.jsx("p",{children:"Possible causes:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Authentication token may be missing or invalid"}),e.jsx("li",{children:"Backend server may be unreachable"}),e.jsx("li",{children:"API endpoint configuration may be incorrect"})]})]}),e.jsxs("div",{className:"debug-info",children:[e.jsx("p",{children:"Debug Info:"}),e.jsxs("p",{children:["Token exists: ",localStorage.getItem("token")?"Yes":"No"]}),e.jsxs("p",{children:["Backend URL: ",we]}),e.jsxs("p",{children:["API Path: ",Zs]}),e.jsxs("p",{children:["Full Alerts Endpoint: ",`${we}/api${Zs}`]}),e.jsxs("p",{children:["Redux API Call Path: ",`/api${Zs}`]}),e.jsx("p",{children:A}),e.jsx(T,{variant:"cyber",size:"sm",onClick:ys,children:"Test API Connection"})]}),e.jsxs("div",{className:"error-actions",children:[e.jsx(T,{variant:"primary",onClick:()=>s(Ie({skip:0,limit:20,is_read:void 0})),children:"Recalibrate the quantum field and try again"}),e.jsx(T,{variant:"accent",onClick:async()=>{await Ns()&&s(Ie({skip:0,limit:20,is_read:void 0}))},children:"Login with test credentials"}),e.jsx(T,{variant:"secondary",onClick:()=>t("/login"),children:"Return to login portal"})]})]}):e.jsxs("div",{className:"system-alerts-container",children:[e.jsxs("div",{className:"alerts-header",children:[e.jsxs("div",{className:"alerts-header-top",children:[e.jsx("h2",{children:"System Alerts"}),e.jsx("div",{className:"quantum-shadow-icon",children:e.jsx(Ae,{className:"shadow-icon"})})]}),e.jsx("div",{className:"shadow-quote",children:v}),e.jsxs("div",{className:"alert-actions-container",children:[e.jsx(T,{variant:"accent",onClick:bs,leftIcon:"âš ï¸",glow:!0,children:"Create New Alert"}),a&&a.length>0&&a.some(j=>!j.is_read)&&e.jsx(T,{variant:"primary",onClick:ms,leftIcon:"âœ“",glow:!0,children:"Mark All as Read"})]})]}),e.jsxs("div",{className:"alert-statistics",children:[e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-title",children:"Total Alerts"}),e.jsx("div",{className:"stat-value",children:(a==null?void 0:a.length)||0})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-title",children:"Unread"}),e.jsx("div",{className:"stat-value",children:(a==null?void 0:a.filter(j=>!j.is_read).length)||0})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-title",children:"Critical"}),e.jsx("div",{className:"stat-value",children:(a==null?void 0:a.filter(j=>j.severity==="CRITICAL").length)||0})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-title",children:"Actionable"}),e.jsx("div",{className:"stat-value",children:(a==null?void 0:a.filter(j=>j.additional_data&&j.additional_data.actionable).length)||0})]})]}),e.jsxs("div",{className:"filter-bar",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Severity:"}),e.jsxs("select",{value:C.severity,onChange:j=>_e("severity",j.target.value),children:[e.jsx("option",{value:"ALL",children:"All"}),e.jsx("option",{value:"LOW",children:"Low"}),e.jsx("option",{value:"MEDIUM",children:"Medium"}),e.jsx("option",{value:"HIGH",children:"High"}),e.jsx("option",{value:"CRITICAL",children:"Critical"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Status:"}),e.jsxs("select",{value:C.read_status,onChange:j=>_e("read_status",j.target.value),children:[e.jsx("option",{value:"ALL",children:"All"}),e.jsx("option",{value:"READ",children:"Read"}),e.jsx("option",{value:"UNREAD",children:"Unread"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Action Status:"}),e.jsxs("select",{value:C.action_status,onChange:j=>_e("action_status",j.target.value),children:[e.jsx("option",{value:"ALL",children:"All"}),e.jsx("option",{value:"NONE",children:"No Status"}),e.jsx("option",{value:"actioned",children:"Actioned"}),e.jsx("option",{value:"not_actioned",children:"Not Actioned"}),e.jsx("option",{value:"to_action_later",children:"Action Later"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Date:"}),e.jsxs("select",{value:C.date_range,onChange:j=>_e("date_range",j.target.value),children:[e.jsx("option",{value:"ALL",children:"All Time"}),e.jsx("option",{value:"TODAY",children:"Today"}),e.jsx("option",{value:"YESTERDAY",children:"Yesterday"}),e.jsx("option",{value:"THIS_WEEK",children:"This Week"}),e.jsx("option",{value:"THIS_MONTH",children:"This Month"})]})]}),e.jsx(T,{variant:"secondary",size:"sm",onClick:()=>M({severity:"ALL",read_status:"ALL",action_status:"ALL",date_range:"ALL"}),leftIcon:"ğŸ”„",children:"Reset Filters"})]}),r>0&&e.jsxs("div",{className:"bulk-actions",children:[e.jsxs("span",{className:"selected-count",children:[r," selected"]}),e.jsxs("div",{className:"bulk-action-buttons",children:[e.jsx(T,{variant:"primary",size:"sm",onClick:fs,leftIcon:"âœ“",children:"Mark Selected as Read"}),e.jsx(T,{variant:"danger",size:"sm",onClick:xs,leftIcon:"ğŸ—‘ï¸",children:"Delete Selected"}),e.jsxs("div",{className:"action-status-dropdown",children:[e.jsx(T,{variant:"secondary",size:"sm",onClick:()=>$(!y),leftIcon:"ğŸ”„",children:"Set Status"}),y&&e.jsxs("div",{className:"action-status-menu",children:[e.jsx(T,{variant:"success",size:"sm",onClick:()=>Se("actioned"),fullWidth:!0,children:"Actioned"}),e.jsx(T,{variant:"danger",size:"sm",onClick:()=>Se("not_actioned"),fullWidth:!0,children:"Not Actioned"}),e.jsx(T,{variant:"warning",size:"sm",onClick:()=>Se("to_action_later"),fullWidth:!0,children:"Action Later"}),e.jsx(T,{variant:"secondary",size:"sm",onClick:()=>Se("none"),fullWidth:!0,children:"No Status"})]})]}),e.jsx(T,{variant:"secondary",size:"sm",onClick:gs,leftIcon:"âœ•",children:"Deselect All"})]})]}),e.jsx("div",{className:"alerts-list",children:We().length>0?We().map(j=>e.jsxs("div",{className:`alert-card ${j.is_read?"read":"unread"} ${j.selected?"selected":""} ${_===j.id?"expanded":""}`,onClick:()=>js(j.id),children:[e.jsx("div",{className:"alert-selection",children:e.jsx("input",{type:"checkbox",checked:j.selected||!1,onChange:R=>us(j.id,R.nativeEvent),onClick:R=>R.stopPropagation()})}),e.jsxs("div",{className:"alert-content",children:[e.jsxs("div",{className:"alert-header",children:[e.jsx("div",{className:`severity-indicator ${Ge(j.severity)}`,children:j.severity}),e.jsx("h3",{children:j.title}),!j.is_read&&e.jsx("span",{className:"unread-badge",children:"NEW"}),j.action_status&&e.jsx("span",{className:`action-status-badge ${j.action_status}`,children:vs(j.action_status)})]}),e.jsx("div",{className:"alert-timestamp",children:qe(j.timestamp)}),e.jsx("p",{className:"alert-message",children:j.message}),_===j.id&&e.jsxs("div",{className:"action-status-selector",children:[e.jsx("span",{children:"Status:"}),e.jsxs("select",{value:j.action_status||"none",onChange:R=>{s(Xt({id:j.id,status:R.target.value})),R.stopPropagation()},onClick:R=>R.stopPropagation(),children:[e.jsx("option",{value:"none",children:"No Status"}),e.jsx("option",{value:"actioned",children:"Actioned"}),e.jsx("option",{value:"not_actioned",children:"Not Actioned"}),e.jsx("option",{value:"to_action_later",children:"Action Later"})]})]})]}),e.jsxs("div",{className:"alert-actions",children:[!j.is_read&&e.jsx(T,{variant:"primary",size:"sm",circle:!0,onClick:R=>rs(j.id,R),title:"Mark as Read",children:"âœ“"}),j.additional_data&&j.additional_data.actionable&&e.jsx(T,{variant:"cyber",size:"sm",circle:!0,onClick:R=>{R.stopPropagation(),ls(j)},title:j.additional_data.action_type==="apply_recommendation"?"Apply":"View",children:"âš¡"}),j.additional_data&&j.additional_data.pattern_data&&e.jsx(T,{variant:"warning",size:"sm",circle:!0,onClick:R=>{R.stopPropagation(),cs(j)},title:"View Pattern",children:"ğŸ“Š"}),e.jsx(T,{variant:"danger",size:"sm",circle:!0,onClick:R=>os(j.id,R),title:"Delete",children:"Ã—"})]})]},j.id)):e.jsxs("div",{className:"no-alerts",children:[e.jsx("p",{children:"No alerts match your current filters."}),e.jsx("p",{children:"Try adjusting your filter criteria or check back later."})]})}),e.jsx("div",{className:"alerts-footer",children:e.jsx(T,{variant:"primary",size:"sm",onClick:ps,children:"Select All"})}),e.jsx(ts,{isOpen:o,onClose:()=>l(!1),title:"Create System Alert",size:"medium",children:e.jsxs("div",{className:"alert-form",children:[e.jsxs("div",{className:"modal-intro",children:[e.jsx("div",{className:"modal-icon",children:e.jsx(Ae,{className:"shadow-icon-large"})}),e.jsx("p",{className:"modal-description",children:"The Quantum Shadow People will broadcast this alert across all dimensions. Choose your words wisely."})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"title",children:"Alert Title:"}),e.jsx("input",{type:"text",id:"title",name:"title",value:f.title,onChange:L,placeholder:"Enter alert title...",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"message",children:"Alert Message:"}),e.jsx("textarea",{id:"message",name:"message",value:f.message,onChange:L,placeholder:"Describe the alert details...",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"severity",children:"Severity Level:"}),e.jsxs("div",{className:"severity-selector",children:[e.jsxs("select",{id:"severity",name:"severity",value:f.severity,onChange:L,children:[e.jsx("option",{value:"LOW",children:"Low - Informational only"}),e.jsx("option",{value:"MEDIUM",children:"Medium - Requires attention"}),e.jsx("option",{value:"HIGH",children:"High - Urgent action needed"}),e.jsx("option",{value:"CRITICAL",children:"Critical - System at risk"})]}),e.jsx("div",{className:`severity-preview ${Ge(f.severity)}`,children:f.severity})]})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx(T,{variant:"secondary",onClick:()=>l(!1),leftIcon:"âœ•",children:"Cancel"}),e.jsx(T,{variant:"accent",onClick:X,disabled:!f.title||!f.message,leftIcon:"âš ï¸",glow:!0,children:"Create Alert"})]})]})}),e.jsx(ts,{isOpen:c,onClose:()=>d(!1),title:"Apply System Recommendation",size:"medium",children:p&&e.jsxs("div",{className:"action-modal-content",children:[e.jsxs("div",{className:"modal-intro",children:[e.jsx("div",{className:"modal-icon",children:e.jsx(Ae,{className:"shadow-icon-large"})}),e.jsx("p",{className:"modal-description",children:"The Quantum Shadow People will apply this system optimization. Proceed with caution."})]}),e.jsxs("div",{className:"recommendation-details",children:[e.jsx("h3",{children:p.title}),e.jsx("p",{children:p.message}),p.additional_data&&e.jsxs("div",{className:"recommendation-params",children:[e.jsxs("div",{className:"param-item",children:[e.jsx("span",{className:"param-label",children:"Parameter:"}),e.jsx("span",{className:"param-value",children:p.additional_data.parameter})]}),e.jsxs("div",{className:"param-item",children:[e.jsx("span",{className:"param-label",children:"Current Value:"}),e.jsx("span",{className:"param-value",children:p.additional_data.current_value})]}),e.jsxs("div",{className:"param-item",children:[e.jsx("span",{className:"param-label",children:"Recommended Value:"}),e.jsx("span",{className:"param-value",children:p.additional_data.recommended_value})]}),e.jsxs("div",{className:"param-item",children:[e.jsx("span",{className:"param-label",children:"Confidence:"}),e.jsxs("span",{className:"param-value",children:[(p.additional_data.confidence*100).toFixed(0),"%"]})]})]}),I&&e.jsxs("div",{className:`action-result ${I.success?"success":"error"}`,children:[e.jsx("h4",{children:I.success?"Success!":"Failed!"}),e.jsx("p",{children:I.success?"The recommendation was successfully applied.":`Error: ${I.error||"Unknown error"}`})]})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx(T,{variant:"secondary",onClick:()=>d(!1),leftIcon:"âœ•",children:"Cancel"}),e.jsx(T,{variant:"cyber",onClick:ds,disabled:!!I,leftIcon:"âš¡",glow:!0,children:"Apply Recommendation"})]})]})}),e.jsx(ts,{isOpen:u,onClose:()=>h(!1),title:"System Pattern Analysis",size:"large",children:x&&e.jsxs("div",{className:"pattern-modal-content",children:[e.jsxs("div",{className:"modal-intro",children:[e.jsx("div",{className:"modal-icon",children:e.jsx(Ae,{className:"shadow-icon-large"})}),e.jsx("p",{className:"modal-description",children:"The Quantum Shadow People have detected recurring patterns in your system behavior."})]}),e.jsxs("div",{className:"pattern-details",children:[e.jsx("h3",{children:x.title}),e.jsx("p",{children:x.message}),x.additional_data&&x.additional_data.pattern_data&&e.jsxs("div",{className:"pattern-visualization",children:[e.jsx("h4",{children:"Pattern Visualization"}),e.jsxs("div",{className:"graph-container",children:[e.jsxs("div",{className:"graph-y-axis",children:[e.jsx("span",{children:"100%"}),e.jsx("span",{children:"75%"}),e.jsx("span",{children:"50%"}),e.jsx("span",{children:"25%"}),e.jsx("span",{children:"0%"})]}),e.jsx("div",{className:"graph-content",children:x.additional_data.pattern_data.points&&x.additional_data.pattern_data.points.map((j,R)=>e.jsx("div",{className:"graph-bar",style:{height:`${j}%`},title:`Value: ${j}%`},R))}),e.jsx("div",{className:"graph-x-axis",children:e.jsx("span",{children:"Time"})})]}),e.jsxs("div",{className:"pattern-stats",children:[e.jsxs("div",{className:"stat-item",children:[e.jsx("span",{className:"stat-label",children:"Confidence:"}),e.jsxs("span",{className:"stat-value",children:[(x.additional_data.pattern_data.confidence*100).toFixed(0),"%"]})]}),e.jsxs("div",{className:"stat-item",children:[e.jsx("span",{className:"stat-label",children:"Periodicity:"}),e.jsxs("span",{className:"stat-value",children:[x.additional_data.pattern_data.periodicity," minutes"]})]}),e.jsxs("div",{className:"stat-item",children:[e.jsx("span",{className:"stat-label",children:"First Detected:"}),e.jsx("span",{className:"stat-value",children:qe(x.additional_data.pattern_data.first_detected)})]})]})]})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx(T,{variant:"secondary",onClick:()=>h(!1),leftIcon:"âœ•",children:"Close"}),e.jsx(T,{variant:"cyber",onClick:()=>{t("/metrics"),h(!1)},leftIcon:"ğŸ“Š",glow:!0,children:"View Full Metrics"})]})]})})]})},st={name:"",description:"",config_type:"SYSTEM",settings:{}},Mt=s=>{switch(s){case"NETWORK":return{dns_servers:["8.8.8.8","1.1.1.1"],use_ipv6:!0,firewall_enabled:!0,tcp_ip_optimization:"balanced",network_buffers:"auto",quantum_shadow_protection:!0,packet_priority:"auto",bandwidth_allocation:{streaming:30,downloads:40,browsing:20,other:10}};case"SYSTEM":return{power_profile:"balanced",startup_programs_enabled:!0,update_schedule:"weekly",temp_file_cleanup:"daily",disk_cleanup_schedule:"weekly",system_restore_points:"weekly",hawkington_monitoring:!0,notification_level:"medium"};case"SECURITY":return{firewall_level:"high",auto_updates:!0,port_scanning_protection:!0,malware_scanning:"daily",suspicious_activity_detection:!0,usb_device_protection:"ask",password_complexity:"high",stick_anxiety_level:"medium"};case"PERFORMANCE":return{cpu_governor:"performance",memory_compression:!0,disk_write_cache:!0,graphics_performance:"balanced",process_priority_boost:!0,background_app_restrictions:"moderate",prefetch_optimization:!0,meth_snail_boost:!0};default:return{}}},Yi=()=>{const s=oe(),{configurations:t,loading:a,error:i}=D(b=>b.configuration),[n,r]=g.useState(!1),[o,l]=g.useState(st),[c,d]=g.useState(null),[u,h]=g.useState(""),[p,m]=g.useState("ALL"),x=["Sir Hawkington is monitoring your configurations with distinguished elegance!","I say, these configurations are most exquisite! *adjusts monocle*","A gentleman's system is only as refined as its configurations, my dear user!","These settings are absolutely splendid! Quite the sophisticated arrangement!","I do believe these configurations will bring order to the chaos of your system!","One must maintain a properly configured system, just as one maintains a proper wardrobe!","A distinguished gentleman never leaves his system in disarray. Configuration is key!","Might I suggest optimizing your system with these refined configurations? Quite splendid!","Ah, system configurations! The cornerstone of a dignified computing experience!"];g.useEffect(()=>{console.log("Dispatching fetchSystemConfigurations"),s(Ue({})).then(b=>{console.log("Success fetching configurations:",b)}).catch(b=>{console.error("Error fetching configurations:",b)})},[s]),g.useEffect(()=>{s(Ue({})),h(x[Math.floor(Math.random()*x.length)])},[s,x]);const S=b=>{const{name:C,value:M}=b.target;l(C==="config_type"?{...o,config_type:M,settings:Mt(M)}:{...o,[C]:M})},f=(b,C)=>{if(b.includes(".")){const[M,E]=b.split(".");l({...o,settings:{...o.settings,[M]:{...o.settings[M],[E]:typeof C=="string"&&!isNaN(Number(C))?Number(C):C}}})}else l({...o,settings:{...o.settings,[b]:C}})},k=()=>{s(c?zs({id:c,...o}):Es(o)),r(!1),l(st),d(null),h(x[Math.floor(Math.random()*x.length)])},v=b=>{l({name:b.name,description:b.description,config_type:b.config_type,settings:b.settings}),d(b.id),r(!0)},N=b=>{window.confirm("Sir Hawkington inquires: Are you absolutely certain you wish to delete this distinguished configuration? This action cannot be undone and would be most unfortunate!")&&(s(Ds(b)),h("Sir Hawkington is utterly devastated by the loss of that magnificent configuration!"))},A=b=>{s(Fs(b)),h("Sir Hawkington is applying your configuration with the utmost elegance and precision!")},P=()=>{l({...st,settings:Mt("SYSTEM")}),d(null),r(!0)},I=b=>{switch(b){case"NETWORK":return"ğŸŒ";case"SYSTEM":return"âš™ï¸";case"SECURITY":return"ğŸ”’";case"PERFORMANCE":return"âš¡";default:return"ğŸ“‹"}},y=((b,C)=>C==="ALL"?b:b.filter(M=>M.config_type===C))(t||[],p),$=b=>{m(b)},_=b=>{switch(b){case"NETWORK":return"Network";case"SYSTEM":return"System";case"SECURITY":return"Security";case"PERFORMANCE":return"Performance";default:return b}};return a?e.jsx("div",{className:"loading-container",children:"Sir Hawkington is gathering your configurations with distinguished elegance..."}):i?e.jsxs("div",{className:"error-container",children:[e.jsx("h3",{children:"Sir Hawkington has encountered a most unfortunate error!"}),e.jsx("p",{children:i}),e.jsx("button",{onClick:()=>s(Ue({})),type:"button",children:"Assist Sir Hawkington in trying again"})]}):e.jsxs("div",{className:"system-configuration-container",children:[e.jsxs("div",{className:"configuration-header",children:[e.jsxs("div",{className:"title-section",children:[e.jsx("h2",{children:"System Configurations"}),e.jsx("div",{className:"hawkington-quote",children:u})]}),e.jsxs("div",{className:"hawkington-avatar",children:[e.jsx("div",{className:"hawkington-icon",children:"ğŸ§"}),e.jsx("div",{className:"monocle",children:"ğŸ”"})]}),e.jsxs("button",{className:"create-configuration-button",onClick:P,type:"button",children:[e.jsx("span",{className:"button-icon",children:"âš™ï¸"}),e.jsx("span",{children:"Create New Configuration"})]})]}),e.jsxs("div",{className:"filter-tabs",children:[e.jsx("button",{className:`filter-tab ${p==="ALL"?"active":""}`,onClick:()=>$("ALL"),type:"button",children:"All"}),e.jsx("button",{className:`filter-tab ${p==="NETWORK"?"active":""}`,onClick:()=>$("NETWORK"),type:"button",children:"ğŸŒ Network"}),e.jsx("button",{className:`filter-tab ${p==="SYSTEM"?"active":""}`,onClick:()=>$("SYSTEM"),type:"button",children:"âš™ï¸ System"}),e.jsx("button",{className:`filter-tab ${p==="SECURITY"?"active":""}`,onClick:()=>$("SECURITY"),type:"button",children:"ğŸ”’ Security"}),e.jsx("button",{className:`filter-tab ${p==="PERFORMANCE"?"active":""}`,onClick:()=>$("PERFORMANCE"),type:"button",children:"âš¡ Performance"})]}),e.jsx("div",{className:"configurations-grid",children:y&&y.length>0?y.map(b=>e.jsxs("div",{className:`configuration-card ${b.config_type.toLowerCase()} ${b.is_active?"active":""}`,children:[e.jsx("div",{className:"configuration-type-banner",children:_(b.config_type)}),e.jsxs("div",{className:"configuration-header",children:[e.jsx("div",{className:"config-type-icon",children:I(b.config_type)}),e.jsx("h3",{children:b.name}),b.is_active&&e.jsx("span",{className:"active-badge",children:"ACTIVE"})]}),e.jsx("p",{className:"configuration-description",children:b.description}),e.jsxs("div",{className:"configuration-settings",children:[e.jsx("h4",{children:"Settings"}),e.jsx("div",{className:"settings-list",children:Object.entries(b.settings).map(([C,M])=>typeof M=="object"&&M!==null&&!Array.isArray(M)?Object.entries(M).map(([E,L])=>e.jsxs("div",{className:"setting-item",children:[e.jsxs("span",{className:"setting-label",children:[C.replace(/_/g," ")," ",E.replace(/_/g," "),":"]}),e.jsx("span",{className:"setting-value",children:typeof L=="boolean"?L?"Enabled":"Disabled":Array.isArray(L)?L.join(", "):String(L)})]},`${C}-${E}`)):e.jsxs("div",{className:"setting-item",children:[e.jsxs("span",{className:"setting-label",children:[C.replace(/_/g," "),":"]}),e.jsx("span",{className:"setting-value",children:typeof M=="boolean"?M?"Enabled":"Disabled":Array.isArray(M)?M.join(", "):String(M)})]},C))})]}),e.jsxs("div",{className:"configuration-actions",children:[e.jsx("button",{className:"edit-button",onClick:()=>v(b),type:"button",children:"Edit"}),e.jsx("button",{className:"apply-button",onClick:()=>A(b.id),type:"button",children:"Apply"}),e.jsx("button",{className:"delete-button",onClick:()=>N(b.id),type:"button",children:"Delete"})]})]},b.id)):e.jsxs("div",{className:"no-configurations",children:[e.jsx("p",{children:"Sir Hawkington hasn't created any configurations yet."}),e.jsx("p",{children:"Create your first configuration to experience Sir Hawkington's distinguished system management!"})]})}),e.jsx(ts,{isOpen:n,onClose:()=>r(!1),title:c?"Edit System Configuration":"Create System Configuration",size:"large",children:e.jsxs("div",{className:"configuration-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"name",children:"Configuration Name:"}),e.jsx("input",{type:"text",id:"name",name:"name",value:o.name,onChange:S,placeholder:"e.g., Gaming Setup, Work Configuration, etc."})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"description",children:"Description:"}),e.jsx("textarea",{id:"description",name:"description",value:o.description,onChange:S,placeholder:"Describe what this configuration is for..."})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"config_type",children:"Configuration Type:"}),e.jsxs("select",{id:"config_type",name:"config_type",value:o.config_type,onChange:S,children:[e.jsx("option",{value:"NETWORK",children:"Network"}),e.jsx("option",{value:"SYSTEM",children:"System"}),e.jsx("option",{value:"SECURITY",children:"Security"}),e.jsx("option",{value:"PERFORMANCE",children:"Performance"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("h4",{children:"Settings"}),e.jsx("div",{className:"settings-grid",children:Object.entries(o.settings).map(([b,C])=>typeof C=="object"&&C!==null&&!Array.isArray(C)?e.jsxs("div",{className:"nested-settings",children:[e.jsx("h5",{children:b.replace(/_/g," ")}),Object.entries(C).map(([M,E])=>e.jsxs("div",{className:"setting-control",children:[e.jsxs("label",{htmlFor:`${b}.${M}`,children:[M.replace(/_/g," "),":"]}),typeof E=="boolean"?e.jsxs("div",{className:"toggle-switch",children:[e.jsx("input",{type:"checkbox",id:`${b}.${M}`,checked:E,onChange:L=>f(`${b}.${M}`,L.target.checked)}),e.jsx("span",{className:"toggle-slider"})]}):typeof E=="number"?e.jsx("input",{type:"number",id:`${b}.${M}`,value:E,onChange:L=>f(`${b}.${M}`,L.target.value)}):e.jsx("input",{type:"text",id:`${b}.${M}`,value:E,onChange:L=>f(`${b}.${M}`,L.target.value)})]},`${b}-${M}`))]},b):e.jsxs("div",{className:"setting-control",children:[e.jsxs("label",{htmlFor:b,children:[b.replace(/_/g," "),":"]}),typeof C=="boolean"?e.jsxs("div",{className:"toggle-switch",children:[e.jsx("input",{type:"checkbox",id:b,checked:C,onChange:M=>f(b,M.target.checked)}),e.jsx("span",{className:"toggle-slider"})]}):Array.isArray(C)?e.jsx("input",{type:"text",id:b,value:C.join(", "),onChange:M=>f(b,M.target.value.split(", "))}):typeof C=="number"?e.jsx("input",{type:"number",id:b,value:C,onChange:M=>f(b,Number(M.target.value))}):e.jsx("input",{type:"text",id:b,value:C,onChange:M=>f(b,M.target.value)}),b==="firewall_level"&&e.jsx("p",{className:"setting-description",children:"Set the security level for your firewall protection"}),b==="cpu_governor"&&e.jsx("p",{className:"setting-description",children:"Controls how the CPU responds to system load"}),b==="power_profile"&&e.jsx("p",{className:"setting-description",children:"Balances performance and energy consumption"}),b==="dns_servers"&&e.jsx("p",{className:"setting-description",children:"Comma-separated list of DNS server IP addresses"})]},b))})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{className:"cancel-button",onClick:()=>r(!1),type:"button",children:"Cancel"}),e.jsx("button",{className:"submit-button",onClick:k,type:"button",children:c?"Update Configuration":"Create Configuration"})]})]})})]})};function Ki(s){var a;if(!s)return{cpuData:null,error:"No metrics data available"};const t=s.cpu||((a=s.additional)==null?void 0:a.cpu_details);if(!t)return{cpuData:null,error:"No CPU data found in metrics"};try{if(t.usage_percent===void 0)throw new Error("Missing CPU usage data");return{cpuData:{overall_usage:t.usage_percent,process_count:t.process_count||0,thread_count:t.thread_count||0,physical_cores:t.physical_cores||t.core_count||1,logical_cores:t.logical_cores||t.core_count||1,model_name:t.model_name||t.name||"Unknown CPU",frequency_mhz:t.frequency_mhz||t.frequency||0,temperature:It(t.temperature||t.temp),top_processes:Ji(t.top_processes||t.processes),cores:Xi(t.cores),historical_temp:t.historical_temp||[],usage_percent:void 0,core_count:0,name:"",frequency:0,temp:It(t.temperature||t.temp),processes:[]},error:null}}catch(i){return console.error("Error processing CPU data:",i),{cpuData:null,error:`Failed to process CPU data: ${i instanceof Error?i.message:"Unknown error"}`}}}function It(s){return s?{current:s.current||s.value||0,min:s.min||0,max:s.max||100,critical:s.critical||s.critical_temp||90,throttle_threshold:s.throttle_threshold||s.throttle||80,unit:s.unit||"C"}:{current:0,min:0,max:100,critical:90,throttle_threshold:80,unit:"C"}}function Ji(s){return!s||!Array.isArray(s)?[]:s.map(t=>({pid:t.pid,name:t.name,cpu_percent:t.cpu_percent||t.cpu_usage||0,user:t.user||t.username||"Unknown",memory_percent:t.memory_percent||t.mem_usage,command:t.command||t.cmd,status:t.status}))}function Xi(s){return!s||!Array.isArray(s)?[]:s.map((t,a)=>({id:t.id||a,usage_percent:t.usage_percent||t.usage||0,frequency_mhz:t.frequency_mhz||t.frequency,threads:Zi(t.threads)}))}function Zi(s){return!s||!Array.isArray(s)?[]:s.map((t,a)=>({id:t.id||a,usage_percent:t.usage_percent||t.usage||0,process_id:t.process_id||t.pid,process_name:t.process_name}))}function fe(s,t="C"){return`${s.toFixed(1)}Â°${t}`}function nt(s,t,a){return s>=a?"critical":s>=t?"warning":s>=t*.8?"elevated":"normal"}function en(s,t,a){return s>=a?"CRITICAL - Immediate action required":s>=t?"WARNING - Throttling likely":s>=t*.8?"ELEVATED - Monitor closely":"NORMAL - Within safe operating range"}const Rt=({data:s,compact:t=!1})=>e.jsxs("div",{className:"cpu-overview-tab",children:[e.jsxs("div",{className:"cpu-usage-container",children:[e.jsx("div",{className:"cpu-usage-gauge",children:e.jsxs("svg",{viewBox:"0 0 200 100",className:"gauge",children:[e.jsx("path",{d:"M20,90 A 60,60 0 0,1 180,90",className:"gauge-background"}),e.jsx("path",{d:`M20,90 A 60,60 0 ${s.overall_usage>50?1:0},1 ${20+160*(s.overall_usage/100)},${90-Math.sin(Math.PI*s.overall_usage/100)*60}`,className:`gauge-value ${s.overall_usage>90?"critical":s.overall_usage>70?"high":s.overall_usage>40?"medium":"low"}`}),e.jsxs("text",{x:"100",y:"85",className:"gauge-percentage",children:[s.overall_usage.toFixed(1),"%"]}),e.jsx("text",{x:"100",y:"15",className:"gauge-label",children:"CPU Usage"})]})}),e.jsxs("div",{className:"cpu-info-panel",children:[e.jsxs("div",{className:"info-row",children:[e.jsx("div",{className:"info-label",children:"Model:"}),e.jsx("div",{className:"info-value",children:s.model_name})]}),e.jsxs("div",{className:"info-row",children:[e.jsx("div",{className:"info-label",children:"Cores:"}),e.jsx("div",{className:"info-value"})]}),e.jsxs("div",{className:"info-row",children:[e.jsx("div",{className:"info-label",children:"Frequency:"}),e.jsxs("div",{className:"info-value",children:[(s.frequency_mhz/1e3).toFixed(2)," GHz"]})]}),e.jsxs("div",{className:"info-row",children:[e.jsx("div",{className:"info-label",children:"Processes:"}),e.jsx("div",{className:"info-value",children:s.process_count})]}),e.jsxs("div",{className:"info-row",children:[e.jsx("div",{className:"info-label",children:"Threads:"}),e.jsx("div",{className:"info-value",children:s.thread_count})]}),s.temperature&&e.jsxs("div",{className:"info-row",children:[e.jsx("div",{className:"info-label",children:"Temperature:"}),e.jsx("div",{className:`info-value ${nt(s.temperature.current,s.temperature.throttle_threshold,s.temperature.critical)}`,children:fe(s.temperature.current,s.temperature.unit)})]})]})]}),e.jsxs("div",{className:"cpu-section",children:[e.jsx("div",{className:"cpu-section-title",children:"Top CPU Processes"}),s.top_processes&&s.top_processes.length>0?e.jsx("div",{className:"top-processes-overview",children:s.top_processes.slice(0,5).map((a,i)=>e.jsxs("div",{className:"top-process-item",children:[e.jsx("div",{className:"process-rank",children:i+1}),e.jsxs("div",{className:"process-details",children:[e.jsx("div",{className:"process-name",children:a.name}),e.jsxs("div",{className:"process-info",children:[e.jsxs("span",{className:"process-pid",children:["PID: ",a.pid]}),e.jsx("span",{className:"process-user",children:a.user})]})]}),e.jsx("div",{className:"process-usage",children:e.jsxs("div",{className:"usage-bar-container",children:[e.jsx("div",{className:"usage-bar-fill",style:{width:`${Math.min(a.cpu_percent,100)}%`}}),e.jsxs("span",{className:"usage-text",children:[a.cpu_percent.toFixed(1),"%"]})]})})]},a.pid))}):e.jsx("div",{className:"no-data-message",children:"No process data available"}),e.jsx("div",{className:"view-all-link",children:e.jsx("button",{onClick:()=>{},children:"View All Processes"})})]}),s.temperature&&e.jsxs("div",{className:"cpu-section",children:[e.jsx("div",{className:"cpu-section-title",children:"Temperature Status"}),e.jsxs("div",{className:"temperature-overview",children:[e.jsxs("div",{className:"current-temperature",children:[e.jsx("div",{className:`temp-value ${nt(s.temperature.current,s.temperature.throttle_threshold,s.temperature.critical)}`,children:fe(s.temperature.current,s.temperature.unit)}),e.jsxs("div",{className:"temp-scale",children:[e.jsx("div",{className:"temp-scale-min",children:fe(s.temperature.min,s.temperature.unit)}),e.jsxs("div",{className:"temp-scale-bar",children:[e.jsx("div",{className:"temp-scale-normal"}),e.jsx("div",{className:"temp-scale-warning"}),e.jsx("div",{className:"temp-scale-critical"}),e.jsx("div",{className:"temp-scale-marker",style:{left:`${Math.min(100,Math.max(0,(s.temperature.current-s.temperature.min)/(s.temperature.max-s.temperature.min)*100))}%`}})]}),e.jsx("div",{className:"temp-scale-max",children:fe(s.temperature.max,s.temperature.unit)})]})]}),s.temperature.current>=s.temperature.throttle_threshold*.8&&e.jsxs("div",{className:`temp-alert ${s.temperature.current>=s.temperature.critical?"critical":s.temperature.current>=s.temperature.throttle_threshold?"warning":"notice"}`,children:[e.jsx("div",{className:"alert-icon",children:"âš ï¸"}),e.jsx("div",{className:"alert-message",children:s.temperature.current>=s.temperature.critical?"CRITICAL: CPU temperature exceeds critical threshold!":s.temperature.current>=s.temperature.throttle_threshold?"WARNING: CPU temperature has reached throttling threshold.":"NOTICE: CPU temperature is elevated."})]}),e.jsx("div",{className:"view-thermal-link",children:e.jsx("button",{onClick:()=>{},children:"View Detailed Thermal Analysis"})})]})]}),s.cores&&s.cores.length>0&&e.jsxs("div",{className:"cpu-section",children:[e.jsx("div",{className:"cpu-section-title",children:"Core Balance"}),e.jsxs("div",{className:"core-balance-overview",children:[e.jsxs("div",{className:"core-usage-bars",children:[s.cores.slice(0,t?4:8).map(a=>e.jsxs("div",{className:"core-mini-bar",children:[e.jsxs("div",{className:"core-mini-label",children:["Core ",a.id]}),e.jsx("div",{className:"core-mini-bar-container",children:e.jsx("div",{className:`core-mini-bar-fill ${a.usage_percent>90?"critical":a.usage_percent>70?"high":a.usage_percent>40?"medium":"low"}`,style:{height:`${a.usage_percent}%`}})}),e.jsxs("div",{className:"core-mini-value",children:[a.usage_percent.toFixed(0),"%"]})]},a.id)),s.cores.length>(t?4:8)&&e.jsxs("div",{className:"core-mini-more",children:["+",s.cores.length-(t?4:8)," more"]})]}),e.jsx("div",{className:"core-balance-analysis",children:(()=>{const a=s.cores.map(o=>o.usage_percent),i=Math.max(...a),n=Math.min(...a),r=i-n;return r>30?e.jsxs("div",{className:"imbalance-warning",children:[e.jsx("span",{className:"warning-icon",children:"âš ï¸"}),e.jsxs("span",{className:"warning-text",children:["Significant core imbalance detected (",r.toFixed(0),"% difference)"]}),e.jsx("button",{className:"view-cores-button",children:"View Core Details"})]}):e.jsxs("div",{className:"balance-status",children:[e.jsx("span",{className:"status-icon",children:"âœ“"}),e.jsxs("span",{className:"status-text",children:["Core workload is relatively balanced (",r.toFixed(0),"% max difference)"]})]})})()})]})]})]});async function sn(s){try{const a=await(await Y.post("/system/process/kill",{pid:s})).json();return{success:a.success,message:a.message||"Process terminated successfully",pid:s}}catch(t){return console.error("Error killing process:",t),{success:!1,message:t instanceof Error?t.message:"Failed to terminate process",pid:s}}}const tn=({processes:s,compact:t=!1})=>{const[a,i]=g.useState({}),[n,r]=g.useState({}),o=async l=>{if(!a[l]){i(c=>({...c,[l]:!0}));try{const c=await sn(l);r(d=>({...d,[l]:{success:c.success,message:c.message}})),setTimeout(()=>{r(d=>{const u={...d};return delete u[l],u})},3e3)}catch(c){r(d=>({...d,[l]:{success:!1,message:`Error: ${c instanceof Error?c.message:"Unknown error"}`}}))}finally{i(c=>({...c,[l]:!1}))}}};return!s||s.length===0?e.jsxs("div",{className:"cpu-section",children:[e.jsx("div",{className:"cpu-section-title",children:"Top CPU Processes"}),e.jsx("div",{className:"no-data-message",children:"No process data available"})]}):e.jsxs("div",{className:"cpu-section",children:[e.jsx("div",{className:"cpu-section-title",children:"Top CPU Processes"}),e.jsxs("table",{className:"process-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Process"}),e.jsx("th",{children:"PID"}),e.jsx("th",{children:"User"}),e.jsx("th",{children:"CPU %"}),e.jsx("th",{children:"Memory %"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:s.map(l=>e.jsxs("tr",{children:[e.jsxs("td",{children:[e.jsx("div",{className:"process-name",children:l.name}),l.command&&e.jsx("div",{className:"process-command",children:l.command})]}),e.jsx("td",{children:l.pid}),e.jsx("td",{children:l.user}),e.jsx("td",{children:e.jsxs("div",{className:"usage-bar-container",children:[e.jsx("div",{className:"usage-bar-fill",style:{width:`${Math.min(l.cpu_percent,100)}%`}}),e.jsxs("span",{className:"usage-text",children:[l.cpu_percent.toFixed(1),"%"]})]})}),e.jsx("td",{children:l.memory_percent!==void 0&&e.jsxs("div",{className:"usage-bar-container",children:[e.jsx("div",{className:"usage-bar-fill memory",style:{width:`${Math.min(l.memory_percent,100)}%`}}),e.jsxs("span",{className:"usage-text",children:[l.memory_percent.toFixed(1),"%"]})]})}),e.jsx("td",{children:e.jsxs("div",{className:"process-actions",children:[e.jsx("button",{className:"kill-button",onClick:()=>o(l.pid),disabled:a[l.pid],children:a[l.pid]?"Killing...":"Kill"}),n[l.pid]&&e.jsx("div",{className:`kill-result ${n[l.pid].success?"success":"error"}`,children:n[l.pid].message})]})})]},l.pid))})]})]})},an=({cores:s})=>{const t=g.useMemo(()=>{if(!s||s.length===0)return null;const n=s.reduce((p,m)=>p+m.usage_percent,0)/s.length,r=[...s].sort((p,m)=>m.usage_percent-p.usage_percent)[0],o=[...s].sort((p,m)=>p.usage_percent-m.usage_percent)[0],l=r.usage_percent-o.usage_percent,c=l>30,d=s.reduce((p,m)=>{const x=m.usage_percent-n;return p+x*x},0)/s.length,u=Math.sqrt(d),h={};return s.forEach(p=>{const m=Math.floor(p.id/2);h[m]||(h[m]=[]),h[m].push(p)}),{avgUsage:n,mostLoaded:r,leastLoaded:o,imbalancePercent:l,hasImbalance:c,stdDev:u,physicalCoreGroups:h}},[s]);if(!s||s.length===0||!t)return e.jsxs("div",{className:"cpu-section",children:[e.jsx("div",{className:"cpu-section-title",children:"CPU Cores"}),e.jsx("div",{className:"no-data-message",children:"No core-specific data available"})]});const a=n=>n>90?"critical":n>70?"high":n>40?"medium":"low",i=n=>n>50?"critical":n>30?"significant":n>15?"moderate":"balanced";return e.jsxs("div",{className:"cpu-cores-tab",children:[e.jsxs("div",{className:"cpu-section",children:[e.jsx("div",{className:"cpu-section-title",children:"Core Usage Overview"}),e.jsxs("div",{className:"cpu-stats-summary",children:[e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-title",children:"Average Load"}),e.jsxs("div",{className:`stat-value ${a(t.avgUsage)}`,children:[t.avgUsage.toFixed(1),"%"]})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-title",children:"Core Imbalance"}),e.jsxs("div",{className:`stat-value ${i(t.imbalancePercent)}`,children:[t.imbalancePercent.toFixed(1),"%"]})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-title",children:"Most Loaded Core"}),e.jsxs("div",{className:`stat-value ${a(t.mostLoaded.usage_percent)}`,children:["Core ",t.mostLoaded.id,": ",t.mostLoaded.usage_percent.toFixed(1),"%"]})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-title",children:"Most Idle Core"}),e.jsxs("div",{className:`stat-value ${a(t.leastLoaded.usage_percent)}`,children:["Core ",t.leastLoaded.id,": ",t.leastLoaded.usage_percent.toFixed(1),"%"]})]})]})]}),e.jsxs("div",{className:"cpu-section",children:[e.jsx("div",{className:"cpu-section-title",children:"Per-Core Metrics"}),e.jsx("div",{className:"cores-grid",children:s.map(n=>{const r=n.threads||[],o=r.length>0,l=a(n.usage_percent);return e.jsxs("div",{className:`core-card ${l}`,children:[e.jsxs("div",{className:"core-header",children:[e.jsxs("div",{className:"core-id",children:["Core ",n.id]}),e.jsxs("div",{className:"core-usage",children:[n.usage_percent.toFixed(1),"%"]})]}),e.jsx("div",{className:"core-usage-bar",children:e.jsx("div",{className:`usage-bar-fill ${l}`,style:{width:`${n.usage_percent}%`}})}),n.frequency_mhz&&e.jsxs("div",{className:"core-frequency",children:[(n.frequency_mhz/1e3).toFixed(2)," GHz"]}),o&&e.jsx("div",{className:"core-threads",children:r.map(c=>e.jsxs("div",{className:"thread-item",children:[e.jsxs("div",{className:"thread-info",children:[e.jsxs("span",{className:"thread-id",children:["Thread ",c.id]}),c.process_name&&e.jsx("span",{className:"thread-process",children:c.process_name})]}),e.jsxs("div",{className:"thread-usage-bar",children:[e.jsx("div",{className:`usage-bar-fill ${a(c.usage_percent)}`,style:{width:`${c.usage_percent}%`}}),e.jsxs("span",{className:"thread-usage-text",children:[c.usage_percent.toFixed(1),"%"]})]})]},c.id))})]},n.id)})})]}),t.hasImbalance&&e.jsxs("div",{className:"cpu-section",children:[e.jsx("div",{className:"cpu-section-title",children:"Workload Imbalance Detected"}),e.jsxs("div",{className:"imbalance-analysis",children:[e.jsxs("div",{className:"imbalance-description",children:[e.jsx("p",{children:e.jsxs("strong",{children:["Significant core imbalance detected (",t.imbalancePercent.toFixed(1),"% difference)"]})}),e.jsx("p",{children:"Some CPU cores are significantly more loaded than others, which may indicate:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Single-threaded applications consuming one core"}),e.jsx("li",{children:"Inefficient thread scheduling"}),e.jsx("li",{children:"Background processes concentrated on specific cores"})]})]}),e.jsxs("div",{className:"optimization-recommendations",children:[e.jsx("h4",{children:"Recommended Actions:"}),e.jsxs("div",{className:"recommendations-list",children:[e.jsxs("div",{className:"recommendation-item",children:[e.jsx("div",{className:"recommendation-title",children:"Use Thread Affinity"}),e.jsx("div",{className:"recommendation-description",children:"Set thread affinity for high-CPU processes to distribute load more evenly across cores."}),e.jsx("button",{className:"recommendation-action",children:"Configure in Auto-Tuner"})]}),e.jsxs("div",{className:"recommendation-item",children:[e.jsx("div",{className:"recommendation-title",children:"Process Priority Adjustment"}),e.jsx("div",{className:"recommendation-description",children:"Adjust process priorities to ensure background tasks don't monopolize specific cores."}),e.jsx("button",{className:"recommendation-action",children:"View Processes"})]}),e.jsxs("div",{className:"recommendation-item",children:[e.jsx("div",{className:"recommendation-title",children:"Application Thread Settings"}),e.jsx("div",{className:"recommendation-description",children:"For applications with adjustable thread settings, ensure they're configured to use multiple cores effectively."}),e.jsx("button",{className:"recommendation-action",children:"Application Settings"})]})]})]})]})]}),e.jsxs("div",{className:"cpu-section",children:[e.jsx("div",{className:"cpu-section-title",children:"Physical vs Logical Cores"}),e.jsx("div",{className:"physical-cores-grid",children:Object.entries(t.physicalCoreGroups).map(([n,r])=>e.jsxs("div",{className:"physical-core-card",children:[e.jsxs("div",{className:"physical-core-header",children:[e.jsxs("div",{className:"physical-core-id",children:["Physical Core ",n]}),e.jsxs("div",{className:"logical-cores-count",children:[r.length," Logical ",r.length===1?"Core":"Cores"]})]}),e.jsx("div",{className:"logical-cores",children:r.map(o=>e.jsxs("div",{className:"logical-core",children:[e.jsxs("div",{className:"logical-core-header",children:[e.jsxs("span",{className:"logical-core-id",children:["Logical Core ",o.id]}),e.jsxs("span",{className:`logical-core-usage ${a(o.usage_percent)}`,children:[o.usage_percent.toFixed(1),"%"]})]}),e.jsx("div",{className:"logical-core-bar",children:e.jsx("div",{className:`usage-bar-fill ${a(o.usage_percent)}`,style:{width:`${o.usage_percent}%`}})})]},o.id))}),e.jsxs("div",{className:"physical-core-stats",children:[e.jsxs("div",{className:"physical-core-usage",children:[e.jsx("div",{className:"stat-label",children:"Average Usage:"}),e.jsxs("div",{className:"stat-value",children:[(r.reduce((o,l)=>o+l.usage_percent,0)/r.length).toFixed(1),"%"]})]}),e.jsxs("div",{className:"physical-core-balance",children:[e.jsx("div",{className:"stat-label",children:"Core Balance:"}),e.jsx("div",{className:"stat-value",children:r.length>1?Math.abs(r[0].usage_percent-r[1].usage_percent).toFixed(1)+"% diff":"N/A"})]})]})]},n))})]}),e.jsxs("div",{className:"cpu-section",children:[e.jsx("div",{className:"cpu-section-title",children:"Thread Distribution Analysis"}),e.jsxs("div",{className:"thread-distribution",children:[e.jsx("div",{className:"thread-distribution-chart",children:e.jsx("div",{className:"thread-heatmap",children:s.map(n=>e.jsx("div",{className:`heatmap-cell ${a(n.usage_percent)}`,style:{height:"30px",width:`${100/s.length}%`,opacity:.3+n.usage_percent/100*.7},title:`Core ${n.id}: ${n.usage_percent.toFixed(1)}%`},n.id))})}),e.jsxs("div",{className:"thread-distribution-stats",children:[e.jsxs("div",{className:"distribution-stat",children:[e.jsx("div",{className:"stat-label",children:"Distribution Balance:"}),e.jsxs("div",{className:`stat-value ${t.stdDev>20?"warning":"good"}`,children:[t.stdDev<10?"Excellent":t.stdDev<20?"Good":t.stdDev<30?"Fair":"Poor","(Ïƒ = ",t.stdDev.toFixed(1),")"]})]}),e.jsxs("div",{className:"distribution-stat",children:[e.jsx("div",{className:"stat-label",children:"Threads per Core:"}),e.jsxs("div",{className:"stat-value",children:[(s.reduce((n,r)=>{var o;return n+(((o=r.threads)==null?void 0:o.length)||0)},0)/s.length).toFixed(1)," avg"]})]})]}),e.jsxs("div",{className:"thread-distribution-recommendations",children:[e.jsx("h4",{children:"Optimization Strategies:"}),e.jsxs("ul",{className:"strategy-list",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Process Affinity:"})," Assign CPU-intensive processes to specific cores to balance load"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Background Process Management:"})," Limit the CPU usage of background processes"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Thread Throttling:"})," For applications with many threads, consider limiting thread count"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"NUMA Optimization:"})," For multi-socket systems, ensure processes run on the appropriate node"]})]})]})]})]})]})},nn=({temperature:s,historicalData:t=[]})=>{const a=g.useMemo(()=>{const r=s.max-s.min;return{throttle:(s.throttle_threshold-s.min)/r*100,critical:(s.critical-s.min)/r*100,current:(s.current-s.min)/r*100}},[s]),i=nt(s.current,s.throttle_threshold,s.critical),n=en(s.current,s.throttle_threshold,s.critical);return e.jsxs("div",{className:"cpu-thermal-tab",children:[e.jsxs("div",{className:"cpu-section",children:[e.jsx("div",{className:"cpu-section-title",children:"CPU Temperature"}),e.jsxs("div",{className:"temperature-gauge-container",children:[e.jsxs("div",{className:"temperature-value",children:[e.jsx("span",{className:`temperature-number ${i}`,children:fe(s.current,s.unit)}),e.jsx("span",{className:"temperature-status",children:n})]}),e.jsxs("div",{className:"temperature-gauge",children:[e.jsxs("div",{className:"temperature-scale",children:[e.jsx("div",{className:"temperature-zone normal",style:{width:`${a.throttle}%`}}),e.jsx("div",{className:"temperature-zone warning",style:{width:`${a.critical-a.throttle}%`}}),e.jsx("div",{className:"temperature-zone critical",style:{width:`${100-a.critical}%`}}),e.jsx("div",{className:"temperature-marker",style:{left:`${a.current}%`}})]}),e.jsxs("div",{className:"temperature-labels",children:[e.jsx("span",{className:"min-temp",children:fe(s.min,s.unit)}),e.jsxs("span",{className:"throttle-temp",children:[fe(s.throttle_threshold,s.unit),e.jsx("span",{className:"threshold-label",children:"Throttle"})]}),e.jsxs("span",{className:"critical-temp",children:[fe(s.critical,s.unit),e.jsx("span",{className:"threshold-label",children:"Critical"})]}),e.jsx("span",{className:"max-temp",children:fe(s.max,s.unit)})]})]})]}),e.jsxs("div",{className:"temperature-recommendations",children:[s.current>=s.critical&&e.jsxs("div",{className:"temperature-alert critical",children:[e.jsx("span",{className:"alert-icon",children:"âš ï¸"}),e.jsx("span",{className:"alert-message",children:"Critical temperature detected! The system may shut down to prevent damage. Immediately check cooling systems and reduce system load."})]}),s.current>=s.throttle_threshold&&s.current<s.critical&&e.jsxs("div",{className:"temperature-alert warning",children:[e.jsx("span",{className:"alert-icon",children:"âš ï¸"}),e.jsx("span",{className:"alert-message",children:"CPU is running hot! Performance throttling may occur. Check that cooling fans are working and system vents are clear."})]}),s.current>=s.throttle_threshold*.8&&s.current<s.throttle_threshold&&e.jsxs("div",{className:"temperature-alert notice",children:[e.jsx("span",{className:"alert-icon",children:"â„¹ï¸"}),e.jsx("span",{className:"alert-message",children:"CPU temperature is elevated but within acceptable limits. Consider monitoring and improving system cooling for optimal performance."})]})]})]}),t&&t.length>0?e.jsxs("div",{className:"cpu-section",children:[e.jsx("div",{className:"cpu-section-title",children:"Temperature & Usage Correlation"}),e.jsx("div",{className:"temperature-chart",children:e.jsx(ce,{width:"100%",height:300,children:e.jsxs(Ma,{data:t,children:[e.jsx(je,{strokeDasharray:"3 3",stroke:"rgba(255, 255, 255, 0.1)"}),e.jsx(ve,{dataKey:"timestamp",tickFormatter:r=>new Date(r).toLocaleTimeString(),stroke:"rgba(255, 255, 255, 0.7)"}),e.jsx(re,{yAxisId:"temp",orientation:"left",domain:[s.min,s.max],tickFormatter:r=>`${r}Â°${s.unit}`,stroke:"rgba(255, 255, 255, 0.7)"}),e.jsx(re,{yAxisId:"usage",orientation:"right",domain:[0,100],tickFormatter:r=>`${r}%`,stroke:"rgba(255, 255, 255, 0.7)"}),e.jsx(ye,{formatter:(r,o)=>o==="temperature"?[`${r}Â°${s.unit}`,"Temperature"]:o==="usage_percent"?[`${r}%`,"CPU Usage"]:[r,o],labelFormatter:r=>new Date(r).toLocaleString(),contentStyle:{background:"rgba(0, 0, 0, 0.8)",border:"none",borderRadius:"8px"},itemStyle:{color:"white"},labelStyle:{color:"white"}}),e.jsx(Ke,{}),e.jsx(Fe,{type:"monotone",dataKey:()=>s.throttle_threshold,stroke:"#FF9F1C",strokeDasharray:"5 5",strokeWidth:1,yAxisId:"temp",name:"Throttle Threshold",dot:!1,isAnimationActive:!1}),e.jsx(Fe,{type:"monotone",dataKey:()=>s.critical,stroke:"#FF5252",strokeDasharray:"5 5",strokeWidth:1,yAxisId:"temp",name:"Critical Threshold",dot:!1,isAnimationActive:!1}),e.jsx(Fe,{type:"monotone",dataKey:"temperature",stroke:"#FF5252",strokeWidth:2,yAxisId:"temp",name:"Temperature",dot:{r:3},activeDot:{r:5},isAnimationActive:!0}),e.jsx(He,{type:"monotone",dataKey:"usage_percent",fill:"rgba(0, 245, 212, 0.2)",stroke:"#00F5D4",yAxisId:"usage",name:"CPU Usage %",isAnimationActive:!0})]})})}),e.jsxs("div",{className:"correlation-analysis",children:[e.jsx("h4",{children:"Analysis"}),rn(t,s)]})]}):e.jsxs("div",{className:"cpu-section",children:[e.jsx("div",{className:"cpu-section-title",children:"Temperature & Usage Correlation"}),e.jsx("div",{className:"no-data-message",children:"No historical temperature data available. Temperature tracking will begin collecting data for future analysis."})]}),e.jsxs("div",{className:"cpu-section",children:[e.jsx("div",{className:"cpu-section-title",children:"Thermal Management Tips"}),e.jsxs("div",{className:"management-tips",children:[e.jsxs("div",{className:"tip",children:[e.jsx("div",{className:"tip-title",children:"Check Physical Cooling"}),e.jsx("div",{className:"tip-description",children:"Ensure all fans are working, air vents are clear of dust, and thermal paste is properly applied."})]}),e.jsxs("div",{className:"tip",children:[e.jsx("div",{className:"tip-title",children:"Manage Workloads"}),e.jsx("div",{className:"tip-description",children:"Distribute CPU-intensive tasks over time rather than running them simultaneously."})]}),e.jsxs("div",{className:"tip",children:[e.jsx("div",{className:"tip-title",children:"Consider Undervolting"}),e.jsx("div",{className:"tip-description",children:"If supported, undervolting can reduce heat generation while maintaining performance."})]}),e.jsxs("div",{className:"tip",children:[e.jsx("div",{className:"tip-title",children:"Ambient Temperature"}),e.jsx("div",{className:"tip-description",children:"Keep your system in a cool, well-ventilated area. Ambient temperature directly affects CPU temps."})]})]})]})]})};function rn(s,t){if(!s||s.length<5)return e.jsx("p",{children:"Not enough data to analyze patterns yet. Continue collecting data for insights."});const a=on(s),i=ln(s),n=s.filter(o=>o.temperature>=t.throttle_threshold);let r=[];if(i>.7?r.push(e.jsxs("p",{children:[e.jsx("strong",{children:"Strong correlation detected:"})," CPU temperature closely follows usage patterns. This is expected behavior, but high correlation may indicate limited thermal headroom."]},"high-corr")):i>.4?r.push(e.jsxs("p",{children:[e.jsx("strong",{children:"Moderate correlation detected:"})," CPU temperature generally follows usage, with some thermal buffering. Your cooling solution appears to be working."]},"med-corr")):r.push(e.jsxs("p",{children:[e.jsx("strong",{children:"Low correlation detected:"})," Temperature doesn't follow usage patterns closely. This could indicate external factors like changing ambient temperature or potential cooling issues."]},"low-corr")),a.length>0&&r.push(e.jsxs("p",{children:[e.jsx("strong",{children:"Temperature spikes detected:"})," ",a.length," significant temperature",a.length===1?" spike":" spikes"," observed.",a.some(o=>o.temp>=t.throttle_threshold)?" Some spikes approached or exceeded throttling threshold.":" Temperature remained below throttling threshold."]},"peaks")),n.length>0){const o=n.length/s.length*100;r.push(e.jsxs("p",{className:"warning-text",children:[e.jsx("strong",{children:"Throttling risk detected:"})," CPU reached throttling temperatures during approximately ",o.toFixed(1),"% of the monitored period. Performance may be affected."]},"throttle"))}return e.jsx(e.Fragment,{children:r})}function on(s){if(s.length<5)return[];const t=[],a=5;for(let i=2;i<s.length-2;i++){const n=s[i].temperature,r=s[i-2].temperature,o=s[i-1].temperature,l=s[i+1].temperature,c=s[i+2].temperature;n>o&&n>r&&n>l&&n>c&&n-Math.min(r,o,l,c)>a&&t.push({index:i,temp:n})}return t}function ln(s){if(s.length<5)return 0;const t=s.length,a=s.reduce((l,c)=>l+c.temperature,0)/t,i=s.reduce((l,c)=>l+c.usage_percent,0)/t;let n=0,r=0,o=0;for(const l of s){const c=l.temperature-a,d=l.usage_percent-i;n+=c*d,r+=c*c,o+=d*d}return n/(Math.sqrt(r)*Math.sqrt(o))}const cn=({compact:s=!1,showTabs:t=!0,initialTab:a="overview",height:i})=>{const n=D(m=>m.metrics.current),r=D(m=>m.metrics.loading),[o,l]=g.useState(a),[c,d]=g.useState(null),{cpuData:u,error:h}=Ki(n);if(Ne.useEffect(()=>{d(h||null)},[h]),r)return e.jsxs("div",{className:`metric-card ${s?"compact":""}`,style:{height:i},children:[e.jsx("h3",{children:"CPU Activity"}),e.jsx("div",{className:"loading-message",children:"Loading CPU metrics..."})]});if(c||!u)return e.jsxs("div",{className:`metric-card ${s?"compact":""}`,style:{height:i},children:[e.jsx("h3",{children:"CPU Activity"}),e.jsxs("div",{className:"error-container",children:[e.jsx("div",{className:"error-icon",children:"âš ï¸"}),e.jsx("div",{className:"error-message",children:c||"No CPU data available"})]})]});const p=()=>{switch(o){case"overview":return e.jsx(Rt,{data:u,compact:s});case"processes":return e.jsx(tn,{processes:u.top_processes,compact:s});case"cores":return e.jsx(an,{cores:u.cores,physicalCores:u.physical_cores,compact:s});case"thermal":return e.jsx(nn,{temperature:u.temperature,historicalData:u.historical_temp,compact:s});default:return e.jsx(Rt,{data:u,compact:s})}};return e.jsxs("div",{className:`metric-card ${s?"compact":""}`,style:{height:i},children:[e.jsx("h3",{children:"CPU Activity"}),t&&e.jsxs("div",{className:"cpu-tabs",children:[e.jsx("div",{className:`cpu-tab ${o==="overview"?"active":""}`,onClick:()=>l("overview"),children:"Overview"}),e.jsx("div",{className:`cpu-tab ${o==="processes"?"active":""}`,onClick:()=>l("processes"),children:"Processes"}),e.jsx("div",{className:`cpu-tab ${o==="cores"?"active":""}`,onClick:()=>l("cores"),children:"Cores"}),e.jsx("div",{className:`cpu-tab ${o==="thermal"?"active":""}`,onClick:()=>l("thermal"),children:"Thermal"})]}),e.jsx("div",{className:"cpu-content",children:p()})]})},pa=({message:s,details:t,retry:a})=>e.jsxs("div",{className:"error-display",children:[e.jsx("div",{className:"error-icon",children:"âš ï¸"}),e.jsx("h3",{children:"Error"}),e.jsx("p",{children:s}),t&&e.jsx("p",{className:"error-details",children:t}),a&&e.jsx("button",{onClick:a,className:"retry-button",children:"Retry"})]}),ga=({message:s="Loading...",size:t="medium"})=>e.jsxs("div",{className:`loading-indicator loading-${t}`,children:[e.jsx("div",{className:"spinner"}),s&&e.jsx("p",{className:"loading-message",children:s})]}),V=(s,t=2)=>{if(s===0)return"0 Bytes";if(!s||isNaN(s))return"N/A";const a=s<0;s=Math.abs(s);const i=1024,n=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],r=Math.floor(Math.log(s)/Math.log(i)),o=parseFloat((s/Math.pow(i,r)).toFixed(t));return`${a?"-":""}${o} ${n[r]}`},ae=({value:s,max:t=100,color:a="var(--color-primary)",label:i,showPercentage:n=!0,height:r=8,className:o=""})=>{const l=Math.min(Math.max(0,s/t*100),100);return e.jsxs("div",{className:`progress-bar-container ${o}`,children:[(i||n)&&e.jsxs("div",{className:"progress-bar-labels",children:[i&&e.jsx("span",{className:"progress-bar-label",children:i}),n&&e.jsxs("span",{className:"progress-bar-percentage",children:[Math.round(l),"%"]})]}),e.jsx("div",{className:"progress-bar-background",style:{height:`${r}px`},children:e.jsx("div",{className:"progress-bar-fill",style:{width:`${l}%`,backgroundColor:a,height:`${r}px`}})})]})},te=({content:s,position:t="top",children:a,className:i=""})=>{const[n,r]=g.useState(!1);return e.jsxs("div",{className:`info-tooltip-container ${i}`,children:[e.jsx("span",{className:"info-tooltip-trigger",onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),onFocus:()=>r(!0),onBlur:()=>r(!1),children:a||e.jsx("span",{className:"info-tooltip-icon","aria-label":"More information",children:"i"})}),n&&e.jsxs("div",{className:`info-tooltip ${t}`,children:[e.jsx("div",{className:"info-tooltip-content",children:s}),e.jsx("div",{className:`info-tooltip-arrow ${t}`})]})]})},$t=({data:s,compact:t=!1})=>{const{overview:a}=s,i=()=>{const o=a.physicalMemory.percentUsed;return o>90?"critical":o>75?"warning":"normal"},n=()=>{const o=a.swap.percentUsed;return o>50?"warning":o>25?"caution":"normal"},r=()=>{switch(a.pressureLevel){case"high":return"var(--color-danger)";case"medium":return"var(--color-warning)";case"low":return"var(--color-success)";default:return"var(--color-text-secondary)"}};return t?e.jsxs(z,{className:"memory-overview memory-overview--compact",children:[e.jsxs("div",{className:"memory-overview__header",children:[e.jsx("h3",{children:"Memory"}),e.jsx("span",{className:"memory-pressure-indicator",style:{color:r()},children:a.pressureLevel.toUpperCase()})]}),e.jsx(ae,{value:a.physicalMemory.percentUsed,color:i()==="critical"?"var(--color-danger)":i()==="warning"?"var(--color-warning)":"var(--color-success)",label:`${V(a.physicalMemory.used)} / ${V(a.physicalMemory.total)}`}),a.swap.total>0&&e.jsx("div",{className:"memory-overview__swap-indicator",children:e.jsxs("small",{children:["Swap: ",a.swap.percentUsed.toFixed(1),"%"]})})]}):e.jsxs("div",{className:"memory-overview",children:[e.jsxs("div",{className:"memory-overview__header",children:[e.jsx("h2",{children:"Memory Overview"}),e.jsxs("div",{className:"memory-pressure-card",children:[e.jsx("span",{children:"Memory Pressure:"}),e.jsxs("span",{className:"memory-pressure-value",style:{color:r()},children:[a.pressureLevel.toUpperCase(),e.jsx(te,{content:"Memory pressure indicates how stressed your system's memory is. High pressure may lead to performance degradation."})]})]})]}),e.jsxs("div",{className:"memory-overview__grid",children:[e.jsxs(z,{className:"memory-overview__physical",children:[e.jsx("h3",{children:"Physical Memory"}),e.jsx(ae,{value:a.physicalMemory.percentUsed,color:i()==="critical"?"var(--color-danger)":i()==="warning"?"var(--color-warning)":"var(--color-success)",label:`${a.physicalMemory.percentUsed.toFixed(1)}%`}),e.jsxs("div",{className:"memory-stats-grid",children:[e.jsxs("div",{className:"memory-stat",children:[e.jsx("span",{className:"memory-stat-label",children:"Total"}),e.jsx("span",{className:"memory-stat-value",children:V(a.physicalMemory.total)})]}),e.jsxs("div",{className:"memory-stat",children:[e.jsx("span",{className:"memory-stat-label",children:"Used"}),e.jsx("span",{className:"memory-stat-value",children:V(a.physicalMemory.used)})]}),e.jsxs("div",{className:"memory-stat",children:[e.jsx("span",{className:"memory-stat-label",children:"Free"}),e.jsx("span",{className:"memory-stat-value",children:V(a.physicalMemory.free)})]})]})]}),e.jsxs(z,{className:"memory-overview__swap",children:[e.jsx("h3",{children:"Swap Memory"}),a.swap.total===0?e.jsx("div",{className:"memory-overview__no-swap",children:e.jsx("p",{children:"No swap memory configured on this system."})}):e.jsxs(e.Fragment,{children:[e.jsx(ae,{value:a.swap.percentUsed,color:n()==="warning"?"var(--color-warning)":n()==="caution"?"var(--color-accent)":"var(--color-success)",label:`${a.swap.percentUsed.toFixed(1)}%`}),e.jsxs("div",{className:"memory-stats-grid",children:[e.jsxs("div",{className:"memory-stat",children:[e.jsx("span",{className:"memory-stat-label",children:"Total"}),e.jsx("span",{className:"memory-stat-value",children:V(a.swap.total)})]}),e.jsxs("div",{className:"memory-stat",children:[e.jsx("span",{className:"memory-stat-label",children:"Used"}),e.jsx("span",{className:"memory-stat-value",children:V(a.swap.used)})]}),e.jsxs("div",{className:"memory-stat",children:[e.jsx("span",{className:"memory-stat-label",children:"Free"}),e.jsx("span",{className:"memory-stat-value",children:V(a.swap.free)})]})]}),e.jsxs("div",{className:"memory-stat memory-swap-rate",children:[e.jsx("span",{className:"memory-stat-label",children:"Page I/O"}),e.jsxs("div",{className:"memory-stat-value",children:[e.jsxs("span",{className:"page-in",children:["In: ",a.pressureIndicators.pageInRate.toFixed(1),"/s"]}),e.jsxs("span",{className:"page-out",children:["Out: ",a.pressureIndicators.pageOutRate.toFixed(1),"/s"]})]})]})]})]}),e.jsxs(z,{className:"memory-overview__breakdown",children:[e.jsx("h3",{children:"Memory Type Breakdown"}),e.jsxs("div",{className:"memory-type-bars",children:[e.jsxs("div",{className:"memory-type-bar",children:[e.jsxs("div",{className:"memory-type-bar__label",children:[e.jsx("span",{children:"Active"}),e.jsx(te,{content:"Memory that has been used recently and is typically not reclaimed unless necessary"})]}),e.jsx(ae,{value:a.active/a.physicalMemory.total*100,color:"var(--color-primary)",label:V(a.active)})]}),e.jsxs("div",{className:"memory-type-bar",children:[e.jsxs("div",{className:"memory-type-bar__label",children:[e.jsx("span",{children:"Cached"}),e.jsx(te,{content:"Memory used for disk caching. Can be reclaimed when needed by applications"})]}),e.jsx(ae,{value:a.cached/a.physicalMemory.total*100,color:"var(--color-info)",label:V(a.cached)})]}),e.jsxs("div",{className:"memory-type-bar",children:[e.jsxs("div",{className:"memory-type-bar__label",children:[e.jsx("span",{children:"Buffers"}),e.jsx(te,{content:"Memory used for file system metadata and other kernel operations"})]}),e.jsx(ae,{value:a.buffers/a.physicalMemory.total*100,color:"var(--color-accent)",label:V(a.buffers)})]})]})]}),e.jsxs(z,{className:"memory-overview__pressure",children:[e.jsx("h3",{children:"Memory Pressure Indicators"}),e.jsxs("div",{className:"memory-pressure-indicators",children:[e.jsxs("div",{className:"pressure-indicator",children:[e.jsxs("span",{className:"pressure-indicator__label",children:["Page-in Rate",e.jsx(te,{content:"Rate at which data is being read from disk into memory. High rates indicate memory shortage."})]}),e.jsxs("span",{className:"pressure-indicator__value",children:[a.pressureIndicators.pageInRate.toFixed(2),"/s"]})]}),e.jsxs("div",{className:"pressure-indicator",children:[e.jsxs("span",{className:"pressure-indicator__label",children:["Page-out Rate",e.jsx(te,{content:"Rate at which data is being written from memory to disk. High rates indicate memory pressure."})]}),e.jsxs("span",{className:"pressure-indicator__value",children:[a.pressureIndicators.pageOutRate.toFixed(2),"/s"]})]}),e.jsxs("div",{className:"pressure-indicator",children:[e.jsxs("span",{className:"pressure-indicator__label",children:["Swap Usage Rate",e.jsx(te,{content:"Rate at which swap memory usage is changing. Positive values indicate increasing memory pressure."})]}),e.jsxs("span",{className:"pressure-indicator__value",children:[a.pressureIndicators.swapUsageRate>0?"+":"",a.pressureIndicators.swapUsageRate.toFixed(2)," MB/s"]})]})]}),e.jsxs("div",{className:"memory-pressure-advice",children:[a.pressureLevel==="high"&&e.jsxs("p",{className:"memory-advice memory-advice--critical",children:[e.jsx("strong",{children:"Critical Memory Pressure:"})," Your system is experiencing high memory demand. Consider closing unused applications or increasing system memory."]}),a.pressureLevel==="medium"&&e.jsxs("p",{className:"memory-advice memory-advice--warning",children:[e.jsx("strong",{children:"Moderate Memory Pressure:"})," Memory usage is elevated. Monitor for performance impacts and consider optimizing memory-intensive applications."]}),a.pressureLevel==="low"&&e.jsxs("p",{className:"memory-advice memory-advice--good",children:[e.jsx("strong",{children:"Low Memory Pressure:"})," Your system has sufficient memory resources."]})]})]})]})]})},Pe=({columns:s,data:t,onRowClick:a,className:i="",rowKey:n,emptyState:r="No data available",loading:o=!1,loadingText:l="Loading...",sortConfig:c,onSort:d})=>{const[u,h]=g.useState(null),p=(f,k)=>{if(!k)return;const N=((c==null?void 0:c.key)===f||(u==null?void 0:u.key)===f)&&((c==null?void 0:c.direction)==="asc"||(u==null?void 0:u.direction)==="asc")?"desc":"asc";d?d(f,N):h({key:f,direction:N})},m=g.useMemo(()=>{if(!c&&!u)return t;const f=c||u;return f?[...t].sort((k,v)=>{const N=k[f.key],A=v[f.key];return N<A?f.direction==="asc"?-1:1:N>A?f.direction==="asc"?1:-1:0}):t},[t,c,u]),x=(f,k)=>n?typeof n=="function"?n(f):f[n]:k,S=(f,k)=>{if(!k)return null;const v=c||u;return!v||v.key!==f?"â†•":v.direction==="asc"?"â†‘":"â†“"};return o?e.jsxs("div",{className:`table-loading ${i}`,children:[e.jsx("div",{className:"table-loading-spinner"}),e.jsx("div",{className:"table-loading-text",children:l})]}):t.length===0?e.jsx("div",{className:`table-empty ${i}`,children:r}):e.jsx("div",{className:`table-container ${i}`,children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsx("tr",{children:s.map(f=>e.jsx("th",{style:{width:f.width,textAlign:f.align||"left",cursor:f.sortable?"pointer":"default"},onClick:()=>p(String(f.key),f.sortable),children:e.jsxs("div",{className:"table-header-content",children:[f.header,f.sortable&&e.jsx("span",{className:"sort-icon",children:S(String(f.key),f.sortable)})]})},String(f.key)))})}),e.jsx("tbody",{children:m.map((f,k)=>e.jsx("tr",{onClick:()=>a==null?void 0:a(f),className:a?"clickable-row":"",children:s.map(v=>e.jsx("td",{style:{textAlign:v.align||"left"},children:v.render?v.render(f):f[v.key]},String(v.key)))},x(f,k)))})]})})},xa=({onSearch:s,placeholder:t="Search...",initialValue:a="",debounceTime:i=300})=>{const[n,r]=g.useState(a);return g.useEffect(()=>{const o=setTimeout(()=>{s(n)},i);return()=>{clearTimeout(o)}},[n,s,i]),e.jsxs("div",{className:"search-input-container",children:[e.jsx("input",{type:"text",className:"search-input",placeholder:t,value:n,onChange:o=>r(o.target.value)}),n&&e.jsx("button",{className:"clear-search",onClick:()=>r(""),"aria-label":"Clear search",children:"Ã—"})]})},dn=({data:s})=>{var S,f,k;const{processes:t}=s,[a,i]=g.useState(""),[n,r]=g.useState("rss"),[o,l]=g.useState("desc"),[c,d]=g.useState(null),u=g.useMemo(()=>{let v=t.topConsumers;if(a){const N=a.toLowerCase();v=v.filter(A=>A.name.toLowerCase().includes(N)||A.command.toLowerCase().includes(N)||A.pid.toString().includes(N))}return v=[...v].sort((N,A)=>{const P=N[n],I=A[n];if(typeof P=="number"&&typeof I=="number")return o==="asc"?P-I:I-P;const w=String(P),y=String(I);return o==="asc"?w.localeCompare(y):y.localeCompare(w)}),v},[t.topConsumers,a,n,o]),h=g.useMemo(()=>c?t.growthTrends.find(v=>v.pid===c):null,[c,t.growthTrends]),p=g.useMemo(()=>c?t.potentialLeaks.find(v=>v.pid===c):null,[c,t.potentialLeaks]),m=[{key:"pid",header:"PID",sortable:!0,width:"10%"},{key:"name",header:"Process",sortable:!0,width:"20%",render:v=>e.jsxs("div",{className:"process-name",children:[e.jsx("span",{children:v.name}),t.potentialLeaks.some(N=>N.pid===v.pid)&&e.jsx(H,{type:"danger",tooltip:"Potential memory leak detected",children:"LEAK"}),v.growthRate&&v.growthRate>0&&!t.potentialLeaks.some(N=>N.pid===v.pid)&&e.jsx(H,{type:"warning",tooltip:"Memory usage is growing",children:"GROWING"})]})},{key:"rss",header:"Memory",sortable:!0,width:"15%",render:v=>V(v.rss)},{key:"percentMemory",header:"% of Total",sortable:!0,width:"15%",render:v=>`${v.percentMemory.toFixed(1)}%`},{key:"vms",header:"Virtual",sortable:!0,width:"15%",render:v=>V(v.vms)},{key:"shared",header:"Shared",sortable:!0,width:"15%",render:v=>V(v.shared)},{key:"growthRate",header:"Growth",sortable:!0,width:"10%",render:v=>v.growthRate!==void 0?e.jsxs("span",{className:v.growthRate>0?"growing":"",children:[V(v.growthRate),"/min"]}):"N/A"}],x=v=>{d(v.pid)};return e.jsxs("div",{className:"memory-processes",children:[e.jsxs("div",{className:"memory-processes__controls",children:[e.jsx(xa,{initialValue:a,onSearch:i,placeholder:"Search processes..."}),e.jsxs("div",{className:"memory-processes__info",children:[u.length," of ",t.topConsumers.length," processes shown"]})]}),e.jsx(Pe,{columns:m,data:u,onSort:(v,N)=>{r(v),l(N)},onRowClick:x,emptyState:"No processes found matching your search criteria."}),c&&e.jsxs("div",{className:"memory-process-details",children:[e.jsx("h3",{children:"Process Details"}),e.jsxs("div",{className:"memory-process-details__grid",children:[e.jsxs(z,{className:"memory-process-details__trend",children:[e.jsx("h4",{children:"Memory Usage Trend"}),h?e.jsx(_s,{data:h.dataPoints.map(v=>({x:v.timestamp,y:v.bytes/(1024*1024)})),height:200}):e.jsx("div",{className:"memory-process-details__no-data",children:e.jsx("p",{children:"Insufficient historical data to generate trend."})})]}),e.jsxs(z,{className:"memory-process-details__leak-analysis",children:[e.jsx("h4",{children:"Memory Leak Analysis"}),p?e.jsxs("div",{className:"leak-analysis",children:[e.jsxs("div",{className:"leak-probability",children:[e.jsx("span",{className:"leak-probability__label",children:"Leak Probability:"}),e.jsx("div",{className:"leak-probability__meter",children:e.jsx("div",{className:"leak-probability__fill",style:{width:`${p.leakProbability*100}%`,backgroundColor:p.leakProbability>.7?"var(--color-danger)":"var(--color-warning)"}})}),e.jsxs("span",{className:"leak-probability__value",children:[(p.leakProbability*100).toFixed(0),"%"]})]}),e.jsxs("div",{className:"leak-evidence",children:[e.jsx("h5",{children:"Evidence Points:"}),e.jsx("ul",{className:"leak-evidence__list",children:p.evidencePoints.map((v,N)=>e.jsx("li",{children:v},N))})]}),e.jsxs("div",{className:"leak-advice",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Recommendation:"})," This process shows signs of a memory leak. Consider restarting it or reporting the issue to the developer."]}),e.jsx(T,{variant:"danger",children:"Restart Process"})]})]}):e.jsxs("div",{className:"leak-analysis leak-analysis--negative",children:[e.jsx("p",{children:"No memory leak detected for this process."}),h&&h.trendline.slope>0&&e.jsxs("p",{className:"memory-growth-note",children:["Memory usage is growing at ",V(h.trendline.slope*60),"/min, but the pattern doesn't match typical leak behavior."]})]})]}),e.jsxs(z,{className:"memory-process-details__command",children:[e.jsx("h4",{children:"Process Information"}),e.jsxs("div",{className:"process-command",children:[e.jsxs("div",{className:"process-command__field",children:[e.jsx("span",{className:"process-command__label",children:"PID:"}),e.jsx("span",{className:"process-command__value",children:(S=t.topConsumers.find(v=>v.pid===c))==null?void 0:S.pid})]}),e.jsxs("div",{className:"process-command__field",children:[e.jsx("span",{className:"process-command__label",children:"Name:"}),e.jsx("span",{className:"process-command__value",children:(f=t.topConsumers.find(v=>v.pid===c))==null?void 0:f.name})]}),e.jsxs("div",{className:"process-command__field",children:[e.jsx("span",{className:"process-command__label",children:"Command:"}),e.jsx("div",{className:"process-command__value process-command__value--command",children:(k=t.topConsumers.find(v=>v.pid===c))==null?void 0:k.command})]})]})]})]})]}),t.potentialLeaks.length>0&&e.jsxs(z,{className:"memory-processes__leak-warnings",children:[e.jsxs("h3",{children:["Memory Leak Warnings",e.jsx(H,{type:"danger",children:t.potentialLeaks.length})]}),e.jsx("div",{className:"memory-leak-list",children:t.potentialLeaks.map(v=>e.jsxs("div",{className:"memory-leak-item",children:[e.jsxs("div",{className:"memory-leak-item__header",children:[e.jsxs("h4",{onClick:()=>d(v.pid),children:[v.name," (PID: ",v.pid,")"]}),e.jsxs("span",{className:"memory-leak-growth-rate",children:["Growing at ",V(v.growthRate),"/minute"]})]}),e.jsxs("div",{className:"memory-leak-item__probability",children:[e.jsxs("span",{children:["Leak Probability: ",(v.leakProbability*100).toFixed(0),"%"]}),e.jsx("div",{className:"memory-leak-probability-bar",children:e.jsx("div",{className:"memory-leak-probability-bar__fill",style:{width:`${v.leakProbability*100}%`,backgroundColor:v.leakProbability>.7?"var(--color-danger)":"var(--color-warning)"}})})]}),e.jsx(T,{size:"md",variant:"secondary",onClick:()=>d(v.pid),children:"View Details"})]},v.pid))})]})]})},hn=({data:s,width:t=400,height:a=400,innerRadius:i=0,outerRadius:n=80,paddingAngle:r=0,className:o=""})=>{const l=["#00B8D9","#008CBA","#005A87","#003366","#001A33"];return e.jsx("div",{className:`pie-chart ${o}`,children:e.jsx(ce,{width:t,height:a,children:e.jsx(Ht,{children:e.jsx(Bt,{data:s,cx:"50%",cy:"50%",innerRadius:i,outerRadius:n,paddingAngle:r,dataKey:"value",children:s.map((c,d)=>e.jsx(Wt,{fill:c.color||l[d%l.length]},`cell-${d}`))})})})})},mn=({data:s})=>{const{allocation:t}=s,[a,i]=g.useState(null),n=d=>({system:"var(--color-primary)",user:"var(--color-success)",service:"var(--color-info)",kernel:"var(--color-warning)",cache:"var(--color-accent)",other:"var(--color-secondary)"})[d.toLowerCase()]||"var(--color-gray)",r=t.byType.map(d=>({name:d.type,label:d.type,value:d.bytes,percentage:d.percentage,color:n(d.type)})),o=()=>{switch(t.fragmentation.rating){case"poor":return"severity-critical";case"moderate":return"severity-warning";case"good":return"severity-good";default:return""}},l=d=>{switch(d){case"high":return"danger";case"medium":return"warning";case"low":return"info";default:return"secondary"}},c=d=>{i(a===d?null:d)};return e.jsx("div",{className:"memory-allocation",children:e.jsxs("div",{className:"memory-allocation__grid",children:[e.jsxs(z,{className:"memory-allocation__by-type",children:[e.jsx("h3",{children:"Memory Allocation by Type"}),e.jsx("div",{className:"memory-allocation-chart",children:e.jsx(hn,{data:r,height:280})}),e.jsx("div",{className:"memory-allocation-type-list",children:t.byType.map(d=>e.jsxs("div",{className:"memory-allocation-type-item",children:[e.jsxs("div",{className:"memory-allocation-type-item__header",children:[e.jsx("div",{className:"memory-allocation-type-color",style:{backgroundColor:n(d.type)}}),e.jsx("span",{className:"memory-allocation-type-name",children:d.type}),e.jsxs("span",{className:"memory-allocation-type-percentage",children:[d.percentage.toFixed(1),"%"]})]}),e.jsx("span",{className:"memory-allocation-type-bytes",children:V(d.bytes)})]},d.type))})]}),e.jsxs(z,{className:`memory-allocation__fragmentation ${o()}`,children:[e.jsxs("h3",{children:["Memory Fragmentation",e.jsx(te,{content:"Memory fragmentation occurs when memory becomes divided into small, non-contiguous blocks, making it difficult to allocate larger chunks."})]}),e.jsxs("div",{className:"fragmentation-index",children:[e.jsx("span",{className:"fragmentation-index__label",children:"Fragmentation Index:"}),e.jsx(ae,{value:t.fragmentation.index,color:t.fragmentation.rating==="poor"?"var(--color-danger)":t.fragmentation.rating==="moderate"?"var(--color-warning)":"var(--color-success)",label:`${t.fragmentation.index}%`})]}),e.jsxs("div",{className:"fragmentation-details",children:[e.jsxs("div",{className:"fragmentation-detail",children:[e.jsxs("span",{className:"fragmentation-detail__label",children:["Largest Free Block:",e.jsx(te,{content:"The size of the largest contiguous free memory block available."})]}),e.jsx("span",{className:"fragmentation-detail__value",children:V(t.fragmentation.largestBlock)})]}),e.jsxs("div",{className:"fragmentation-detail",children:[e.jsxs("span",{className:"fragmentation-detail__label",children:["Free Chunks:",e.jsx(te,{content:"Number of separate free memory chunks. Higher values indicate more fragmentation."})]}),e.jsx("span",{className:"fragmentation-detail__value",children:t.fragmentation.freeChunks})]})]}),e.jsxs("div",{className:"fragmentation-assessment",children:[t.fragmentation.rating==="poor"&&e.jsxs("p",{className:"fragmentation-assessment--poor",children:[e.jsx("strong",{children:"High Fragmentation:"})," Memory is highly fragmented, which may prevent allocation of large memory blocks and decrease system performance."]}),t.fragmentation.rating==="moderate"&&e.jsxs("p",{className:"fragmentation-assessment--moderate",children:[e.jsx("strong",{children:"Moderate Fragmentation:"})," Some memory fragmentation is present. While not critical, it may affect performance of memory-intensive applications."]}),t.fragmentation.rating==="good"&&e.jsxs("p",{className:"fragmentation-assessment--good",children:[e.jsx("strong",{children:"Low Fragmentation:"})," Memory is well-organized with minimal fragmentation."]})]})]}),e.jsxs(z,{className:"memory-allocation__recommendations",children:[e.jsx("h3",{children:"Memory Optimization Recommendations"}),t.optimizationRecommendations.length===0?e.jsx("div",{className:"memory-recommendations-empty",children:e.jsx("p",{children:"No optimization recommendations at this time. Your memory utilization appears optimal."})}):e.jsx("div",{className:"memory-recommendations-list",children:t.optimizationRecommendations.map(d=>e.jsxs("div",{className:"memory-recommendation",children:[e.jsxs("div",{className:"memory-recommendation__header",onClick:()=>c(d.id),children:[e.jsxs("div",{className:"memory-recommendation__title",children:[e.jsx("h4",{children:d.title}),e.jsxs(H,{type:l(d.impact),children:[d.impact.toUpperCase()," IMPACT"]})]}),e.jsx("span",{className:"memory-recommendation__toggle",children:a===d.id?"âˆ’":"+"})]}),a===d.id&&e.jsxs("div",{className:"memory-recommendation__body",children:[e.jsx("p",{children:d.description}),d.actionable&&e.jsx("div",{className:"memory-recommendation__action",children:e.jsx(T,{variant:"primary",children:d.action||"Apply Recommendation"})})]})]},d.id))})]})]})})},un=(s,t)=>{if(t.length<3)return[];const a=[];return s.forEach(i=>{if(i.growthRate===void 0||i.growthRate<=0)return;const n=pn(i.pid,t);if(n.length<3)return;const{isConsistentGrowth:r,growthRate:o,growthVariance:l,totalGrowthPercentage:c,hasPeriodicity:d,growthAfterGC:u}=gn(n),h=[];let p=0;r&&(h.push(`Consistent memory growth of ${yn(o)}/minute over ${n.length} measurements.`),p+=.3),c>20&&(h.push(`Significant growth of ${c.toFixed(1)}% from initial measurement.`),p+=.2),l<.3&&r&&(h.push(`Consistent growth pattern with low variance (${l.toFixed(2)}), typical of memory leaks.`),p+=.15),u&&(h.push("Memory usage continues to grow even after garbage collection events."),p+=.25),d&&(h.push("Memory usage exhibits periodic patterns, suggesting normal application behavior rather than a leak."),p-=.2),h.length>0&&p>.3&&(p=Math.min(p,.95),a.push({pid:i.pid,name:i.name,growthRate:i.growthRate,leakProbability:p,evidencePoints:h}))}),a},pn=(s,t)=>t.map(a=>{const i=a.processes.find(n=>n.pid===s);return i?{timestamp:a.timestamp,bytes:i.rss}:null}).filter(a=>a!==null),gn=s=>{const t=[];for(let u=1;u<s.length;u++){const h=(s[u].timestamp-s[u-1].timestamp)/6e4;if(h>0){const p=(s[u].bytes-s[u-1].bytes)/h;t.push(p)}}if(t.length<2)return{isConsistentGrowth:!1,growthRate:0,growthVariance:0,totalGrowthPercentage:0,hasPeriodicity:!1,growthAfterGC:!1};const a=t.reduce((u,h)=>u+h,0)/t.length,i=xn(t),n=s[0].bytes>0?(s[s.length-1].bytes-s[0].bytes)/s[0].bytes*100:0,o=t.filter(u=>u>0).length/t.length>.7&&a>0,l=fn(s.map(u=>u.bytes)),c=jn(s),d=c.length>0&&c.some(u=>{if(u>=s.length-2)return!1;const h=s.slice(u+1);return vn(h.map(p=>p.bytes))});return{isConsistentGrowth:o,growthRate:a,growthVariance:i,totalGrowthPercentage:n,hasPeriodicity:l,growthAfterGC:d}},xn=s=>{if(s.length<=1)return 0;const t=s.reduce((n,r)=>n+r,0)/s.length,i=s.map(n=>Math.pow(n-t,2)).reduce((n,r)=>n+r,0)/s.length;return t!==0?Math.min(1,i/Math.pow(t,2)):0},fn=s=>{if(s.length<6)return!1;const t=[];for(let n=1;n<s.length;n++)t.push(s[n]-s[n-1]);let a=0;for(let n=1;n<t.length;n++)(t[n]>=0&&t[n-1]<0||t[n]<0&&t[n-1]>=0)&&a++;return a/(t.length-1)>.4},jn=s=>{const t=[];for(let a=1;a<s.length;a++){const i=s[a].bytes,n=s[a-1].bytes;n>0&&(n-i)/n>.15&&t.push(a)}return t},vn=s=>{if(s.length<3)return!1;let t=0;for(let a=1;a<s.length;a++)s[a]>s[a-1]&&t++;return t/(s.length-1)>.7},yn=s=>{if(Math.abs(s)<1024)return`${s.toFixed(0)} B`;const t=["KB","MB","GB","TB"];let a=Math.abs(s),i=-1;for(;a>=1024&&i<t.length-1;)a/=1024,i++;return`${s<0?"-":""}${a.toFixed(2)} ${t[i]}`},Nn=s=>{const t=[],a=s.used/s.total*100,i=s.swap.total>0?s.swap.used/s.swap.total*100:0,n=s.pressureLevel==="high",r=s.pressureLevel==="medium",o=s.fragmentation.index>70,l=s.fragmentation.index>40,c=[...s.processes].sort((m,x)=>x.rss-m.rss).slice(0,3);a>85&&t.push({id:"high-memory-usage",title:"High Memory Usage Detected",description:`Your system is using ${a.toFixed(1)}% of available physical memory. This may lead to performance degradation and increased swap usage. Consider closing unused applications or upgrading system memory.`,impact:"high",actionable:!0,action:"View Top Memory Consumers"}),i>50&&t.push({id:"high-swap-usage",title:"Excessive Swap Usage",description:`Your system is using ${i.toFixed(1)}% of available swap space. Heavy swap usage significantly slows down system performance as disk access is much slower than RAM. Consider closing memory-intensive applications or adding more physical memory.`,impact:"high",actionable:!1});const d=s.total*.2,u=c.filter(m=>m.rss>d);u.length>0&&a>75&&u.forEach(m=>{t.push({id:`memory-hog-${m.pid}`,title:`High Memory Usage: ${m.name}`,description:`Process "${m.name}" (PID: ${m.pid}) is using ${m.percentMemory.toFixed(1)}% of your system memory. Consider restarting this application or investigating why it requires so much memory.`,impact:"medium",actionable:!0,action:"Restart Process"})}),o?t.push({id:"high-fragmentation",title:"Severe Memory Fragmentation",description:`Your system memory is highly fragmented (${s.fragmentation.index}% fragmentation index). This can prevent allocation of large memory blocks and decrease performance. Restarting memory-intensive applications or the system itself can help defragment memory.`,impact:"medium",actionable:!1}):l&&n&&t.push({id:"moderate-fragmentation",title:"Memory Fragmentation Under Pressure",description:`Your system has moderate memory fragmentation (${s.fragmentation.index}% index) combined with high memory pressure. This combination can significantly impact performance. Consider freeing memory by closing unused applications.`,impact:"medium",actionable:!1}),s.processes.filter(m=>m.growthRate!==void 0&&m.growthRate>0&&m.leakProbability!==void 0&&m.leakProbability>.7).forEach(m=>{t.push({id:`memory-leak-${m.pid}`,title:`Potential Memory Leak: ${m.name}`,description:`Process "${m.name}" (PID: ${m.pid}) shows a pattern consistent with a memory leak. Its memory usage is steadily growing without release. Consider restarting the application or reporting the issue to the application developer.`,impact:"high",actionable:!0,action:"View Leak Analysis"})});const p=s.cached/s.total*100;return p>60&&n&&t.push({id:"high-cache-usage",title:"Excessive Memory Caching",description:`${p.toFixed(1)}% of your memory is used for disk caching while the system is under memory pressure. While caching improves disk performance, it may be consuming memory needed by applications. Consider adjusting your system's cache pressure settings.`,impact:"low",actionable:!1}),s.pageOut>100&&r&&t.push({id:"high-page-rate",title:"High Memory Paging Activity",description:`Your system is experiencing high paging activity (${s.pageOut} page-outs). This indicates memory pressure forcing the system to move memory pages to disk, which can significantly slow down performance.`,impact:"medium",actionable:!1}),t},bn=s=>{const t=wn(s),a=kn(s),i=Sn(s);return{overview:t,processes:a,allocation:i}},wn=s=>({physicalMemory:{total:s.total,used:s.used,free:s.free,percentUsed:s.used/s.total*100},swap:{total:s.swap.total,used:s.swap.used,free:s.swap.free,percentUsed:s.swap.total>0?s.swap.used/s.swap.total*100:0},cached:s.cached,active:s.active,buffers:s.buffers,pressureLevel:s.pressureLevel,pressureIndicators:{pageInRate:Lt(s.history),pageOutRate:Lt(s.history),swapUsageRate:_n(s.history)}}),kn=s=>{const t=Tn(s.processes,s.history),a=un(s.processes,s.history);return{topConsumers:Cn(s.processes),growthTrends:t,potentialLeaks:a}},Sn=s=>({byType:Pn(s.allocations),fragmentation:{index:s.fragmentation.index,largestBlock:s.fragmentation.largestBlock,freeChunks:s.fragmentation.freeChunks,rating:Mn(s.fragmentation.index)},optimizationRecommendations:Nn(s)}),Lt=s=>{if(s.length<2)return 0;const t=Date.now(),a=s.filter(c=>t-c.timestamp<6e4).sort((c,d)=>d.timestamp-c.timestamp);if(a.length<2)return 0;const i=a[0],n=a[a.length-1],r=(i.timestamp-n.timestamp)/1e3;return r<=0?0:Math.abs(i.used-n.used)/4096/r},_n=s=>{if(s.length<2)return 0;const t=Date.now(),a=s.filter(o=>t-o.timestamp<6e4).sort((o,l)=>l.timestamp-o.timestamp);if(a.length<2)return 0;const i=a[0],n=a[a.length-1];return(i.timestamp-n.timestamp)/1e3<=0,0},Cn=s=>[...s].sort((t,a)=>a.rss-t.rss),Tn=(s,t)=>{const a=[];return s.forEach(i=>{const n=t.map(o=>{const l=o.processes.find(c=>c.pid===i.pid);return l?{timestamp:o.timestamp,bytes:l.rss}:null}).filter(o=>o!==null);if(n.length<3)return;const r=An(n);a.push({pid:i.pid,name:i.name,dataPoints:n,trendline:r})}),a},An=s=>{const t=s[0].timestamp,a=s.map(h=>(h.timestamp-t)/6e4),i=s.map(h=>h.bytes),n=s.length,r=a.reduce((h,p)=>h+p,0)/n,o=i.reduce((h,p)=>h+p,0)/n;let l=0,c=0;for(let h=0;h<n;h++)l+=(a[h]-r)*(i[h]-o),c+=Math.pow(a[h]-r,2);const d=c!==0?l/c:0,u=o-d*r;return{slope:d,intercept:u}},Pn=s=>{const t=s.reduce((a,i)=>a+i.bytes,0);return s.map(a=>({type:a.type,bytes:a.bytes,percentage:a.bytes/t*100}))},Mn=s=>s<30?"good":s<70?"moderate":"poor",In=({compact:s=!1,defaultTab:t="overview"})=>{const[a,i]=g.useState(t),n=K(d=>d.metrics.current),r=K(d=>d.metrics.loading),o=K(d=>d.metrics.error),l=n?{total:n.memory_total,used:n.memory_usage,free:n.memory_free,cached:n.memory_cache,active:n.memory_buffer??0,buffers:n.memory_buffer??0,swap:{total:n.memory_swap_total,used:n.memory_swap_used,free:n.memory_swap_free},pageOut:0,pressureLevel:"low",allocations:[],fragmentation:{index:0,largestBlock:0,freeChunks:0},history:[],processes:[]}:null;if(r)return e.jsx(ga,{message:"Fetching memory metrics..."});if(o||!l)return e.jsx(pa,{message:"Unable to load memory metrics",details:typeof o=="string"?o:void 0,retry:()=>{}});const c=bn(l);return s?e.jsx("div",{className:"memory-metric memory-metric--compact",children:e.jsx($t,{data:c,compact:!0})}):e.jsx("div",{className:`memory-metric ${s?"compact":""}`,children:e.jsxs(as,{activeTab:a,onChange:d=>i(d),children:[e.jsx(ee,{id:"overview",label:"Overview",children:e.jsx(ss,{id:"overview",active:a==="overview",children:e.jsx($t,{data:c})})}),e.jsx(ee,{id:"processes",label:"Processes",children:e.jsx(ss,{id:"processes",active:a==="processes",children:e.jsx(dn,{data:c})})}),e.jsx(ee,{id:"allocation",label:"Allocation",children:e.jsx(ss,{id:"allocation",active:a==="allocation",children:e.jsx(mn,{data:c})})})]})})},B=(s,t=2)=>{if(s===0)return"0 Bytes";if(!s||isNaN(s))return"N/A";const a=s<0;s=Math.abs(s);const i=1024,n=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],r=Math.floor(Math.log(s)/Math.log(i)),o=parseFloat((s/Math.pow(i,r)).toFixed(t));return`${a?"-":""}${o} ${n[r]}`},Et=s=>isNaN(s)?"N/A":s.toLocaleString(),zt=({data:s,compact:t=!1})=>{const[a,i]=g.useState("partitions"),[n,r]=g.useState(null),[o,l]=g.useState(null),{partitions:c,physicalDisks:d}=s,u=m=>{let x,S;switch(m){case"healthy":case"passed":x="var(--color-success)",S="Healthy";break;case"warning":x="var(--color-warning)",S="Warning";break;case"error":case"failed":x="var(--color-danger)",S="Critical";break;default:x="var(--color-text-secondary)",S="Unknown"}return e.jsx("span",{className:"health-status",style:{color:x},children:S})},h=[{key:"mountPoint",header:"Mount Point",sortable:!0,render:m=>e.jsxs("div",{className:"partition-mount",children:[e.jsx("span",{className:"partition-mount__point",children:m.mountPoint}),e.jsx("span",{className:"partition-mount__device",children:m.device})]})},{key:"fsType",header:"File System",sortable:!0,render:m=>m.fsType?m.fsType.toUpperCase():""},{key:"percentUsed",header:"Usage",sortable:!0,render:m=>e.jsxs("div",{className:"partition-usage",children:[e.jsx(ae,{value:m.percentUsed,label:`${m.percentUsed.toFixed(1)}%`}),e.jsx("div",{className:"partition-usage__stats",children:e.jsxs("span",{children:[B(m.used)," of ",B(m.total)]})})]})},{key:"total",header:"Size",sortable:!0,render:m=>B(m.total)},{key:"inodeUsage",header:"Inodes",sortable:!0,render:m=>`${m.inodeUsage}%`},{key:"health",header:"Health",sortable:!0,render:m=>u(m.health.status)},{key:"readOnly",header:"Access",sortable:!0,render:m=>e.jsx(H,{type:m.readOnly?"warning":"success",children:m.readOnly?"Read-Only":"Read/Write"})}],p=[{key:"model",header:"Model",sortable:!0},{key:"type",header:"Type",sortable:!0,render:m=>m.type.toUpperCase()},{key:"size",header:"Size",sortable:!0,render:m=>B(m.size)},{key:"temperature",header:"Temp",sortable:!0,render:m=>e.jsx("div",{className:"disk-temp",children:e.jsxs("span",{className:`disk-temp__value ${m.temperature>70?"text-danger":m.temperature>60?"text-warning":""}`,children:[m.temperature,"Â°C"]})})},{key:"health",header:"Health",sortable:!0,render:m=>e.jsxs("div",{className:"disk-health",children:[u(m.health.status),m.health.issues.length>0&&e.jsx(H,{type:"warning",className:"ml-1",children:m.health.issues.length})]})},{key:"health.lifeRemaining",header:"Life",sortable:!0,render:m=>e.jsxs("div",{className:"disk-life",children:[e.jsx(ae,{value:m.health?m.health.lifeRemaining:0,label:`${m.health?m.health.lifeRemaining:0}%`}),e.jsxs("span",{className:"disk-life__value",children:[m.health?m.health.lifeRemaining:0,"%"]})]})},{key:"partitions",header:"Partitions",sortable:!1,render:m=>m.partitions.length}];return t?e.jsxs(z,{className:"disk-partitions disk-partitions--compact",children:[e.jsxs("div",{className:"disk-partitions__header",children:[e.jsx("h3",{children:"Disk Usage"}),e.jsx("div",{className:"disk-partitions__tabs",children:e.jsxs(as,{activeTab:a,onChange:m=>i(m),children:[e.jsx(ee,{id:"partitions",label:"Partitions",children:null}),e.jsx(ee,{id:"physical",label:"Physical Disks",children:null})]})})]}),e.jsx("div",{className:"disk-partitions__content",children:a==="partitions"?e.jsx(Pe,{columns:h,data:c.items,onRowClick:m=>r(m.mountPoint)}):e.jsx(Pe,{columns:p,data:d.items,onRowClick:m=>l(m.id)})})]}):e.jsxs("div",{className:"disk-partitions",children:[e.jsxs("div",{className:"disk-partitions__header",children:[e.jsxs("div",{className:"disk-summary",children:[e.jsx("h2",{children:"Disk Usage"}),e.jsxs("div",{className:"disk-summary__metrics",children:[e.jsxs("div",{className:"disk-summary__metric",children:[e.jsx("span",{className:"disk-summary__label",children:"Total Partitions:"}),e.jsx("span",{className:"disk-summary__value",children:c.items.length})]}),e.jsxs("div",{className:"disk-summary__metric",children:[e.jsx("span",{className:"disk-summary__label",children:"Total Disks:"}),e.jsx("span",{className:"disk-summary__value",children:d.items.length})]})]})]}),e.jsx("div",{className:"disk-partitions__tabs",children:e.jsxs(as,{activeTab:a,onChange:m=>i(m),children:[e.jsx(ee,{id:"partitions",label:"Partitions",children:null}),e.jsx(ee,{id:"physical",label:"Physical Disks",children:null})]})})]}),e.jsxs("div",{className:"disk-partitions__content",children:[e.jsxs(ss,{id:"partitions",active:a==="partitions",children:[e.jsx("div",{className:"disk-partitions__table-container",children:e.jsx(Pe,{columns:h,data:c.items,onRowClick:m=>r(m.mountPoint),rowKey:"mountPoint"})}),n&&e.jsxs("div",{className:"partition-details",children:[e.jsxs("h3",{children:["Partition Details: ",n]}),e.jsx("div",{className:"partition-details__content",children:(()=>{const m=c.items.find(x=>x.mountPoint===n);return m?e.jsxs("div",{className:"partition-details__grid",children:[e.jsxs(z,{className:"partition-usage",children:[e.jsx("h4",{children:"Disk Usage"}),e.jsxs("div",{className:"partition-usage__chart",children:[e.jsx(ae,{value:m.percentUsed,label:`${m.percentUsed.toFixed(1)}%`}),e.jsxs("div",{className:"partition-usage__stats",children:[e.jsxs("div",{className:"partition-stat",children:[e.jsx("span",{className:"partition-stat__label",children:"Used:"}),e.jsx("span",{className:"partition-stat__value",children:B(m.used)})]}),e.jsxs("div",{className:"partition-stat",children:[e.jsx("span",{className:"partition-stat__label",children:"Available:"}),e.jsx("span",{className:"partition-stat__value",children:B(m.available)})]}),e.jsxs("div",{className:"partition-stat",children:[e.jsx("span",{className:"partition-stat__label",children:"Total:"}),e.jsx("span",{className:"partition-stat__value",children:B(m.total)})]})]})]})]}),e.jsxs(z,{className:"partition-filesystem",children:[e.jsx("h4",{children:"Filesystem Information"}),e.jsxs("div",{className:"partition-filesystem__details",children:[e.jsxs("div",{className:"partition-detail",children:[e.jsx("span",{className:"partition-detail__label",children:"Filesystem:"}),e.jsx("span",{className:"partition-detail__value",children:m.fsType})]}),e.jsxs("div",{className:"partition-detail",children:[e.jsx("span",{className:"partition-detail__label",children:"Type:"}),e.jsx("span",{className:"partition-detail__value",children:m.fsType})]}),e.jsxs("div",{className:"partition-detail",children:[e.jsx("span",{className:"partition-detail__label",children:"Block Size:"}),e.jsx("span",{className:"partition-detail__value",children:typeof m.blockSize=="number"?B(m.blockSize):""})]}),e.jsxs("div",{className:"partition-detail",children:[e.jsx("span",{className:"partition-detail__label",children:"Inodes:"}),e.jsx("span",{className:"partition-detail__value",children:typeof m.inodeUsage=="number"?`${m.inodeUsage}% used`:""})]})]})]}),e.jsxs(z,{className:"partition-physical-disk",children:[e.jsx("h4",{children:"Physical Disk"}),(()=>{const x=d.items.find(S=>S.id===m.physicalDiskId);return x?e.jsxs("div",{className:"physical-disk-details",children:[e.jsxs("div",{className:"physical-disk-details__header",children:[e.jsx("h5",{children:x.model}),e.jsxs("div",{className:"physical-disk-details__badges",children:[e.jsx(H,{type:"info",children:x.type.toUpperCase()}),e.jsx(H,{type:"success",children:u(x.health.status)})]})]}),e.jsxs("div",{className:"physical-disk-details__stats",children:[e.jsxs("div",{className:"physical-disk-stat",children:[e.jsx("span",{className:"physical-disk-stat__label",children:"Size:"}),e.jsx("span",{className:"physical-disk-stat__value",children:B(x.size)})]}),e.jsxs("div",{className:"physical-disk-stat",children:[e.jsx("span",{className:"physical-disk-stat__label",children:"Temperature:"}),e.jsxs("span",{className:`physical-disk-stat__value ${x.temperature>70?"text-danger":x.temperature>60?"text-warning":""}`,children:[x.temperature,"Â°C"]})]}),e.jsxs("div",{className:"physical-disk-stat",children:[e.jsx("span",{className:"physical-disk-stat__label",children:"Life Remaining:"}),e.jsx("div",{className:"physical-disk-stat__progress",children:e.jsx(ae,{value:x.health?x.health.lifeRemaining:0,label:`${x.health?x.health.lifeRemaining:0}%`})})]})]}),x.health.issues.length>0&&e.jsxs("div",{className:"physical-disk-issues",children:[e.jsx("h5",{children:"Health Issues:"}),e.jsx("ul",{className:"physical-disk-issues__list",children:x.health.issues.map((S,f)=>e.jsxs("li",{className:"physical-disk-issue",children:[e.jsx(H,{type:"danger",children:"!"}),e.jsx("span",{children:S})]},f))})]})]}):e.jsx("p",{children:"Physical disk information not available"})})()]})]}):e.jsx("p",{children:"Partition not found"})})()})]})]}),e.jsxs(ss,{id:"physical",active:a==="physical",children:[e.jsx("div",{className:"disk-physical__table-container",children:e.jsx(Pe,{columns:p,data:d.items,onRowClick:m=>l(m.id),rowKey:"id"})}),o&&e.jsxs("div",{className:"physical-disk-details",children:[e.jsx("h3",{children:"Disk Details"}),e.jsx("div",{className:"physical-disk-details__content",children:(()=>{const m=d.items.find(S=>S.id===o);if(!m)return e.jsx("p",{children:"Disk not found"});const x=c.items.filter(S=>S.physicalDiskId===m.id);return e.jsxs("div",{className:"physical-disk-details__grid",children:[e.jsxs(z,{className:"disk-info",children:[e.jsx("h4",{children:"Disk Information"}),e.jsxs("div",{className:"disk-info__grid",children:[e.jsxs("div",{className:"disk-info__item",children:[e.jsx("span",{className:"disk-info__label",children:"Model:"}),e.jsx("span",{className:"disk-info__value",children:m.model})]}),e.jsxs("div",{className:"disk-info__item",children:[e.jsx("span",{className:"disk-info__label",children:"Type:"}),e.jsx("span",{className:"disk-info__value",children:m.type.toUpperCase()})]}),e.jsxs("div",{className:"disk-info__item",children:[e.jsx("span",{className:"disk-info__label",children:"Size:"}),e.jsx("span",{className:"disk-info__value",children:B(m.size)})]}),e.jsxs("div",{className:"disk-info__item",children:[e.jsx("span",{className:"disk-info__label",children:"Temperature:"}),e.jsxs("span",{className:`disk-info__value ${m.temperature>70?"text-danger":m.temperature>60?"text-warning":""}`,children:[m.temperature,"Â°C"]})]}),e.jsxs("div",{className:"disk-info__item",children:[e.jsx("span",{className:"disk-info__label",children:"Health:"}),e.jsxs("span",{className:"disk-info__value",children:[u(m.health.status),m.health.issues.length>0&&e.jsx(H,{type:"warning",className:"ml-1",children:m.health.issues.length})]})]}),e.jsxs("div",{className:"disk-info__item",children:[e.jsx("span",{className:"disk-info__label",children:"Life Remaining:"}),e.jsxs("div",{className:"disk-info__progress",children:[e.jsx(ae,{value:m.health.lifeRemaining,label:`${m.health.lifeRemaining}%`}),e.jsxs("span",{className:"disk-info__progress-value",children:[m.health.lifeRemaining,"%"]})]})]})]})]}),m.health.issues.length>0&&e.jsxs(z,{className:"disk-health-issues",children:[e.jsx("h4",{children:"Health Issues"}),e.jsx("ul",{className:"disk-health-issues__list",children:m.health.issues.map((S,f)=>e.jsxs("li",{className:"disk-health-issue",children:[e.jsx(H,{type:"danger",children:"!"}),e.jsx("span",{children:S})]},f))})]}),e.jsxs(z,{className:"disk-partitions",children:[e.jsx("h4",{children:"Partitions"}),x.length>0?e.jsx("div",{className:"disk-partitions__list",children:x.map(S=>e.jsxs("div",{className:"disk-partition",children:[e.jsxs("div",{className:"disk-partition__header",children:[e.jsx("span",{className:"disk-partition__mount",children:S.mountPoint}),e.jsx("span",{className:"disk-partition__device",children:S.device})]}),e.jsxs("div",{className:"disk-partition__usage",children:[e.jsxs("div",{className:"disk-partition__usage-info",children:[e.jsxs("span",{className:"disk-partition__usage-percent",children:[S.percentUsed.toFixed(1),"%"]}),e.jsxs("span",{className:"disk-partition__usage-stats",children:[B(S.used)," of ",B(S.total)]})]}),e.jsx(ae,{value:S.percentUsed})]})]},S.mountPoint))}):e.jsx("p",{children:"No partitions found on this disk"})]})]})})()})]})]})]})]})},Rn=({data:s,width:t=800,height:a=500,onNodeClick:i,colorScale:n=["#3498db","#2ecc71","#e74c3c","#f39c12","#9b59b6","#1abc9c","#e67e22","#34495e"]})=>{const r=g.useRef(null);return g.useEffect(()=>{if(!r.current||!s)return;const o=r.current;o.innerHTML="",o.style.width=`${t}px`,o.style.height=`${a}px`,o.style.position="relative";const l=(c,d,u,h,p,m)=>{const x=document.createElement("div");if(x.style.position="absolute",x.style.left=`${d}px`,x.style.top=`${u}px`,x.style.width=`${h}px`,x.style.height=`${p}px`,x.style.backgroundColor=c.color||n[m%n.length],x.style.border="1px solid white",x.style.overflow="hidden",x.style.padding="4px",x.style.boxSizing="border-box",x.style.fontSize="12px",x.style.color="white",x.style.textShadow="1px 1px 1px rgba(0,0,0,0.5)",x.style.cursor="pointer",h>60&&p>30&&(x.innerHTML=`
          <div style="font-weight: bold; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">
            ${c.name}
          </div>
          ${c.value?`<div>${$n(c.value)}</div>`:""}
        `),i&&(x.onclick=()=>i(c)),o.appendChild(x),c.children&&c.children.length>0){const S=c.children.reduce((N,A)=>N+A.value,0);let f=d,k=u;const v=h>p;c.children.forEach(N=>{const A=N.value/S;let P,I;v?(P=h*A,I=p,l(N,f,k,P,I,m+1),f+=P):(P=h,I=p*A,l(N,f,k,P,I,m+1),k+=I)})}};l(s,0,0,t,a,0)},[s,t,a,n,i]),e.jsx("div",{ref:r,className:"treemap-container"})},$n=s=>{if(s===0)return"0 Bytes";const t=1024,a=["Bytes","KB","MB","GB","TB"],i=Math.floor(Math.log(s)/Math.log(t));return parseFloat((s/Math.pow(t,i)).toFixed(2))+" "+a[i]},Ln=({data:s})=>{var x,S;const[t,a]=g.useState(""),[i,n]=g.useState(""),[r,o]=g.useState(null),[l,c]=g.useState(null),d=((x=s.directories)==null?void 0:x.largest)||[];g.useEffect(()=>{const f=setTimeout(()=>{n(t)},300);return()=>clearTimeout(f)},[t]);const u=d.filter(f=>f.path.toLowerCase().includes(i.toLowerCase())),h={name:"Root",value:d.reduce((f,k)=>f+k.size,0),children:d.map(f=>({name:f.path.split("/").pop()||f.path,path:f.path,value:f.size,fileCount:f.fileCount,lastModified:f.lastModified,type:f.type,cleanable:f.cleanable}))},p=r?d.find(f=>f.path===r):null,m=[{key:"path",header:"Path",sortable:!0,render:f=>{const k=f.path.split("/").pop()||f.path;return e.jsxs("div",{className:"directory-path",children:[e.jsx("span",{className:"directory-path__name",children:k}),k!==f.path&&e.jsx("span",{className:"directory-path__full",children:f.path})]})}},{key:"size",header:"Size",sortable:!0,render:f=>B(f.size)},{key:"fileCount",header:"Files",sortable:!0,render:f=>f.fileCount.toLocaleString()},{key:"lastModified",header:"Last Modified",sortable:!0,render:f=>new Date(f.lastModified).toLocaleString()},{key:"actions",header:"Actions",sortable:!1,render:f=>e.jsxs("div",{className:"directory-actions",children:[e.jsx(T,{size:"sm",variant:"secondary",outlined:!0,onClick:()=>o(f.path),children:"View Details"}),e.jsx(T,{size:"sm",variant:"secondary",onClick:()=>c(f.path),children:"Clean Up"})]})}];return e.jsxs("div",{className:"disk-directory",children:[e.jsxs("div",{className:"disk-directory__header",children:[e.jsx("h2",{children:"Disk Usage by Directory"}),e.jsx("div",{className:"disk-directory__search",children:e.jsx(xa,{placeholder:"Search directories...",initialValue:t,onSearch:a})})]}),e.jsxs("div",{className:"disk-directory__content",children:[e.jsx("div",{className:"disk-directory__treemap",children:e.jsxs(z,{children:[e.jsx("h3",{children:"Disk Usage Visualization"}),e.jsx("div",{className:"treemap-container",children:e.jsx(Rn,{data:h})})]})}),e.jsx("div",{className:"disk-directory__table",children:e.jsxs(z,{children:[e.jsx("h3",{children:"Directory List"}),e.jsx(Pe,{columns:m,data:u,onRowClick:f=>o(f.path),rowKey:"path"})]})})]}),p&&e.jsx("div",{className:"directory-details-modal",children:e.jsxs("div",{className:"directory-details-modal__content",children:[e.jsxs("div",{className:"directory-details__header",children:[e.jsx("h3",{children:p.path.split("/").pop()||p.path}),e.jsx(T,{variant:"secondary",circle:!0,size:"sm",onClick:()=>o(null),children:"Ã—"})]}),e.jsxs("div",{className:"directory-details__content",children:[e.jsxs("div",{className:"directory-details__info",children:[e.jsxs("div",{className:"info-row",children:[e.jsx("span",{className:"info-label",children:"Path:"}),e.jsx("span",{className:"info-value",children:p.path})]}),e.jsxs("div",{className:"info-row",children:[e.jsx("span",{className:"info-label",children:"Size:"}),e.jsx("span",{className:"info-value",children:B(p.size)})]}),e.jsxs("div",{className:"info-row",children:[e.jsx("span",{className:"info-label",children:"Files:"}),e.jsx("span",{className:"info-value",children:p.fileCount.toLocaleString()})]}),e.jsxs("div",{className:"info-row",children:[e.jsx("span",{className:"info-label",children:"Last Modified:"}),e.jsx("span",{className:"info-value",children:new Date(p.lastModified).toLocaleString()})]})]}),e.jsxs("div",{className:"directory-details__subdirectories",children:[e.jsx("h4",{children:"Directory Information"}),e.jsxs("p",{children:["Type: ",p.type]}),e.jsxs("p",{children:["Path: ",p.path]}),e.jsxs("p",{children:["Cleanable: ",p.cleanable?"Yes":"No"]}),e.jsxs("p",{children:["Files: ",p.fileCount.toLocaleString()]}),e.jsxs("p",{children:["Size: ",B(p.size)]})]}),e.jsxs("div",{className:"directory-details__actions",children:[e.jsx(T,{variant:"secondary",outlined:!0,size:"md",onClick:()=>c(p.path),children:"Clean Up Directory"}),e.jsx(T,{variant:"primary",size:"md",onClick:()=>console.log("Opening file explorer for",p.path),children:"Show in File Explorer"})]})]})]})}),l&&e.jsx("div",{className:"cleanup-confirmation-modal",children:e.jsxs("div",{className:"cleanup-confirmation-modal__content",children:[e.jsxs("div",{className:"cleanup-confirmation-modal__header",children:[e.jsx("h3",{children:"Confirm Cleanup"}),e.jsx(T,{variant:"secondary",circle:!0,size:"sm",onClick:()=>c(null),children:"Ã—"})]}),e.jsxs("div",{className:"cleanup-confirmation-modal__body",children:[e.jsx("p",{children:"Are you sure you want to clean up this directory? This action cannot be undone."}),l&&e.jsxs("div",{className:"cleanup-directory-info",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Directory:"})," ",l]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Type:"})," ",((S=d.find(f=>f.path===l))==null?void 0:S.type)||"Unknown"]})]})]}),e.jsxs("div",{className:"cleanup-confirmation-modal__actions",children:[e.jsx(T,{variant:"secondary",outlined:!0,size:"md",onClick:()=>c(null),children:"Cancel"}),e.jsx(T,{variant:"danger",size:"md",onClick:()=>{console.log("Cleanup confirmed for",l),c(null)},children:"Confirm Cleanup"})]})]})})]})},En=({data:s})=>{const[t,a]=g.useState(null),[i,n]=g.useState("minute"),{performance:r}=s,o=[{key:"pid",header:"PID",width:"10%",align:"right"},{key:"name",header:"Process",width:"30%"},{key:"readRate",header:"Read Rate",width:"20%",render:c=>B(c.readRate)+"/s"},{key:"writeRate",header:"Write Rate",width:"20%",render:c=>B(c.writeRate)+"/s"},{key:"totalRate",header:"Total Rate",width:"20%",render:c=>B(c.totalRate)+"/s"}],l=c=>c>20?"severity-critical":c>10?"severity-warning":"severity-normal";return e.jsxs("div",{className:"disk-performance",children:[e.jsxs("div",{className:"disk-performance__header",children:[e.jsx("h2",{children:"Disk I/O Performance"}),e.jsxs("div",{className:"disk-performance__summary",children:[e.jsxs("div",{className:"performance-metric",children:[e.jsx("span",{className:"performance-metric__label",children:"Read:"}),e.jsxs("span",{className:"performance-metric__value",children:[B(r.current.readSpeed),"/s"]})]}),e.jsxs("div",{className:"performance-metric",children:[e.jsx("span",{className:"performance-metric__label",children:"Write:"}),e.jsxs("span",{className:"performance-metric__value",children:[B(r.current.writeSpeed),"/s"]})]}),e.jsxs("div",{className:"performance-metric",children:[e.jsx("span",{className:"performance-metric__label",children:"Utilization:"}),e.jsxs("span",{className:"performance-metric__value",children:[r.current.utilization.toFixed(1),"%"]})]})]})]}),e.jsxs("div",{className:"disk-performance__grid",children:[e.jsxs(z,{className:"disk-performance__charts",children:[e.jsxs("div",{className:"chart-header",children:[e.jsx("h3",{children:"I/O Performance History"}),e.jsxs("div",{className:"chart-time-selector",children:[e.jsx("button",{className:`chart-time-btn ${i==="minute"?"active":""}`,onClick:()=>n("minute"),children:"Minute"}),e.jsx("button",{className:`chart-time-btn ${i==="hour"?"active":""}`,onClick:()=>n("hour"),children:"Hour"}),e.jsx("button",{className:`chart-time-btn ${i==="day"?"active":""}`,onClick:()=>n("day"),children:"Day"})]})]}),e.jsxs("div",{className:"performance-charts",children:[e.jsxs("div",{className:"performance-chart",children:[e.jsx("h4",{children:"Throughput (Bytes/s)"}),e.jsx(ce,{width:"100%",height:200,children:e.jsxs(_s,{data:[{name:"Read",color:"var(--color-primary)",values:r.historical.timestamps.map((c,d)=>({x:c,y:r.historical.readSpeed[d]/(1024*1024)}))},{name:"Write",color:"var(--color-secondary)",values:r.historical.timestamps.map((c,d)=>({x:c,y:r.historical.writeSpeed[d]/(1024*1024)}))}],margin:{top:5,right:30,left:20,bottom:5},children:[e.jsx(je,{strokeDasharray:"3 3"}),e.jsx(ve,{dataKey:"x"}),e.jsx(re,{yAxisId:"left",orientation:"left",stroke:"#8884d8"}),e.jsx(re,{yAxisId:"right",orientation:"right",stroke:"#82ca9d"}),e.jsx(ye,{}),e.jsx(Ke,{}),e.jsx(Fe,{type:"monotone",dataKey:"y",stroke:"#8884d8",activeDot:{r:8}})]})})]}),e.jsxs("div",{className:"performance-chart",children:[e.jsx("h4",{children:"IOPS (Operations/s)"}),e.jsx(ce,{width:"100%",height:200,children:e.jsxs(_s,{data:[{name:"Read IOPS",color:"var(--color-info)",values:r.historical.timestamps.map((c,d)=>({x:c,y:r.historical.readIOPS[d]}))},{name:"Write IOPS",color:"var(--color-accent)",values:r.historical.timestamps.map((c,d)=>({x:c,y:r.historical.writeIOPS[d]}))}],margin:{top:5,right:30,left:20,bottom:5},children:[e.jsx(je,{strokeDasharray:"3 3"}),e.jsx(ve,{dataKey:"x"}),e.jsx(re,{yAxisId:"left",orientation:"left",stroke:"#8884d8"}),e.jsx(re,{yAxisId:"right",orientation:"right",stroke:"#82ca9d"}),e.jsx(ye,{}),e.jsx(Ke,{}),e.jsx(Fe,{type:"monotone",dataKey:"y",stroke:"#8884d8",activeDot:{r:8}})]})})]}),e.jsxs("div",{className:"performance-chart",children:[e.jsx("h4",{children:"Disk Utilization"}),e.jsx(ce,{width:"100%",height:150,children:e.jsxs(_s,{data:[{name:"Utilization",color:"var(--color-warning)",values:r.historical.timestamps.map((c,d)=>({x:c,y:r.historical.utilization[d]}))}],margin:{top:5,right:30,left:20,bottom:5},children:[e.jsx(je,{strokeDasharray:"3 3"}),e.jsx(ve,{dataKey:"x"}),e.jsx(re,{yAxisId:"left",orientation:"left",stroke:"#8884d8"}),e.jsx(re,{yAxisId:"right",orientation:"right",stroke:"#82ca9d"}),e.jsx(ye,{}),e.jsx(Ke,{}),e.jsx(Fe,{type:"monotone",dataKey:"y",stroke:"#8884d8",activeDot:{r:8}})]})})]})]})]}),e.jsxs(z,{className:"disk-performance__current",children:[e.jsx("h3",{children:"Current I/O Performance"}),e.jsxs("div",{className:"current-performance-metrics",children:[e.jsx("div",{className:"current-performance-metric",children:e.jsxs("div",{className:"metric-block",children:[e.jsxs("h4",{children:["Throughput",e.jsx(te,{content:"Amount of data read from or written to the disk per second"})]}),e.jsxs("div",{className:"metric-value-group",children:[e.jsxs("div",{className:"metric-value",children:[e.jsx("span",{className:"metric-label",children:"Read:"}),e.jsxs("span",{className:"metric-value",children:[B(r.current.readSpeed),"/s"]})]}),e.jsxs("div",{className:"metric-value",children:[e.jsx("span",{className:"metric-label",children:"Write:"}),e.jsxs("span",{className:"metric-value",children:[B(r.current.writeSpeed),"/s"]})]})]})]})}),e.jsx("div",{className:"current-performance-metric",children:e.jsxs("div",{className:"metric-block",children:[e.jsxs("h4",{children:["IOPS",e.jsx(te,{content:"Input/Output Operations Per Second. Measures the number of read and write operations."})]}),e.jsxs("div",{className:"metric-value-group",children:[e.jsxs("div",{className:"metric-value",children:[e.jsx("span",{className:"metric-label",children:"Read:"}),e.jsxs("span",{className:"metric-value",children:[Et(r.current.readIOPS),"/s"]})]}),e.jsxs("div",{className:"metric-value",children:[e.jsx("span",{className:"metric-label",children:"Write:"}),e.jsxs("span",{className:"metric-value",children:[Et(r.current.writeIOPS),"/s"]})]})]})]})}),e.jsx("div",{className:"current-performance-metric",children:e.jsxs("div",{className:"metric-block",children:[e.jsxs("h4",{children:["Latency",e.jsx(te,{content:"Time it takes to complete a disk I/O request. Lower is better."})]}),e.jsxs("div",{className:"metric-value-group",children:[e.jsxs("div",{className:"metric-value",children:[e.jsx("span",{className:"metric-label",children:"Read:"}),e.jsxs("span",{className:`metric-value ${l(r.current.latency.read)}`,children:[r.current.latency.read.toFixed(2)," ms"]})]}),e.jsxs("div",{className:"metric-value",children:[e.jsx("span",{className:"metric-label",children:"Write:"}),e.jsxs("span",{className:`metric-value ${l(r.current.latency.write)}`,children:[r.current.latency.write.toFixed(2)," ms"]})]})]})]})}),e.jsx("div",{className:"current-performance-metric",children:e.jsxs("div",{className:"metric-block",children:[e.jsxs("h4",{children:["Utilization",e.jsx(te,{content:"Percentage of time the disk is busy processing I/O requests."})]}),e.jsx("div",{className:"metric-chart",children:e.jsx(ae,{value:r.current.utilization,label:`${r.current.utilization.toFixed(1)}%`})})]})})]})]}),e.jsxs(z,{className:"disk-performance__bottlenecks",children:[e.jsx("h3",{children:"I/O Bottleneck Analysis"}),r.bottlenecks.detected?e.jsxs("div",{className:"bottleneck-detected",children:[e.jsxs("div",{className:"bottleneck-header",children:[e.jsxs(H,{type:r.bottlenecks.severity==="high"?"danger":r.bottlenecks.severity==="medium"?"warning":"info",children:[r.bottlenecks.severity?r.bottlenecks.severity.toUpperCase():"UNKNOWN"," BOTTLENECK"]}),e.jsx("h4",{children:r.bottlenecks.type==="read"?"Read Bottleneck":r.bottlenecks.type==="write"?"Write Bottleneck":r.bottlenecks.type==="mixed"?"Read/Write Bottleneck":"I/O Bottleneck"})]}),e.jsxs("div",{className:"bottleneck-details",children:[e.jsxs("p",{className:"bottleneck-cause",children:[e.jsx("strong",{children:"Likely Cause:"})," ",r.bottlenecks.cause||"Unknown"]}),r.bottlenecks.process&&e.jsxs("div",{className:"bottleneck-process",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Process Causing Bottleneck:"})," ",r.bottlenecks.process.name," (PID: ",r.bottlenecks.process.pid,")"]}),e.jsxs("p",{children:["I/O Rate: ",B(r.bottlenecks.process.ioRate),"/s"]})]}),e.jsxs("div",{className:"bottleneck-recommendations",children:[e.jsx("h5",{children:"Recommendations:"}),e.jsx("ul",{className:"recommendations-list",children:r.bottlenecks.recommendations.map((c,d)=>e.jsx("li",{className:"recommendation-item",children:c},d))})]})]})]}):e.jsxs("div",{className:"no-bottleneck",children:[e.jsx("div",{className:"no-bottleneck__icon",children:"âœ“"}),e.jsx("p",{className:"no-bottleneck__message",children:"No disk I/O bottlenecks detected."}),e.jsx("p",{className:"no-bottleneck__details",children:"Current disk I/O performance appears to be normal without any significant bottlenecks."})]})]}),e.jsxs(z,{className:"disk-performance__processes",children:[e.jsx("h3",{children:"Top I/O Processes"}),e.jsx(Pe,{columns:o,data:r.topProcesses,onRowClick:c=>a(c.pid)}),t&&e.jsx("div",{className:"selected-process-details",children:(()=>{var d;const c=r.topProcesses.find(u=>u.pid===t);return c?e.jsxs("div",{className:"process-io-details",children:[e.jsxs("h4",{children:[c.name," (PID: ",c.pid,")"]}),e.jsxs("div",{className:"process-io-stats",children:[e.jsxs("div",{className:"io-stat",children:[e.jsx("span",{className:"io-stat__label",children:"Read Rate:"}),e.jsxs("span",{className:"io-stat__value",children:[B(c.readRate),"/s"]})]}),e.jsxs("div",{className:"io-stat",children:[e.jsx("span",{className:"io-stat__label",children:"Write Rate:"}),e.jsxs("span",{className:"io-stat__value",children:[B(c.writeRate),"/s"]})]}),e.jsxs("div",{className:"io-stat",children:[e.jsx("span",{className:"io-stat__label",children:"Total I/O:"}),e.jsxs("span",{className:"io-stat__value",children:[B(c.totalRate),"/s"]})]}),e.jsxs("div",{className:"io-stat",children:[e.jsx("span",{className:"io-stat__label",children:"% of System I/O:"}),e.jsxs("span",{className:"io-stat__value",children:[c.percentage.toFixed(1),"%"]})]})]}),((d=r.bottlenecks.process)==null?void 0:d.pid)===c.pid&&e.jsxs("div",{className:"process-bottleneck-warning",children:[e.jsx(H,{type:"danger",children:"BOTTLENECK"}),e.jsx("p",{children:"This process is identified as causing an I/O bottleneck."})]})]}):null})()})]})]})]})},zn=s=>{const t=[],a=[];s.status==="failed"?t.push("SMART overall status: FAILED. Disk replacement strongly recommended."):s.status==="warning"&&t.push("SMART overall status: WARNING. Monitor disk closely for further degradation."),s.lifeRemaining<10?t.push(`Disk has only ${s.lifeRemaining}% life remaining. Replacement recommended soon.`):s.lifeRemaining<30&&t.push(`Disk has ${s.lifeRemaining}% life remaining. Consider planning for replacement.`),s.attributes.forEach(r=>{r.status==="bad"?(t.push(`${r.name} (${r.id}) is critical: value ${r.value} below threshold ${r.threshold}.`),a.push({name:r.name,value:r.value,threshold:r.threshold,severity:"critical"})):r.status==="warning"&&(t.push(`${r.name} (${r.id}) is concerning: value ${r.value} approaching threshold ${r.threshold}.`),a.push({name:r.name,value:r.value,threshold:r.threshold,severity:"warning"}))});const i=(r,o)=>{const l=s.attributes.find(c=>c.id===r);l&&l.raw>0&&(t.push(`${o} detected: ${l.raw} events recorded. This can indicate imminent disk failure.`),a.push({name:o,value:l.raw,threshold:0,severity:"critical"}))};i(5,"Reallocated Sectors"),i(187,"Reported Uncorrectable Errors"),i(197,"Current Pending Sectors"),i(198,"Offline Uncorrectable Sectors");let n=Dn(s,a);return{issues:t,criticalAttributes:a,healthScore:n}},Dn=(s,t)=>{let a=s.lifeRemaining;return s.status==="failed"?a=Math.min(a,10):s.status==="warning"&&(a=Math.min(a,50)),t.forEach(i=>{i.severity==="critical"?a-=20:i.severity==="warning"&&(a-=10)}),Math.max(0,Math.min(100,a))},Fn=s=>{const t=[],a=s.filter(o=>{var l;return((l=o.usage)==null?void 0:l.cleanable)&&o.size>104857600}).sort((o,l)=>l.size-o.size),i=s.filter(o=>{var l;return((l=o.usage)==null?void 0:l.cleanable)&&["cache","temp"].includes(o.usage.type)&&On(o.usage.lastAccessed,30)}).sort((o,l)=>l.size-o.size);return a.slice(0,5).forEach((o,l)=>{var c;t.push({id:`large-cleanable-${l}`,path:o.path,size:o.size,description:`Large ${(c=o.usage)==null?void 0:c.type} directory (${Ss(o.size)}) that can be safely cleaned.`,impact:o.size>1024*1024*1024?"high":"medium",action:"Clean Directory"})}),i.slice(0,5).forEach((o,l)=>{var d,u;const c=Un(((d=o.usage)==null?void 0:d.lastAccessed)||0);t.push({id:`old-cache-${l}`,path:o.path,size:o.size,description:`${Ss(o.size)} ${(u=o.usage)==null?void 0:u.type} directory not accessed in ${c} days.`,impact:o.size>500*1024*1024?"medium":"low",action:"Clean Directory"})}),s.filter(o=>{var l;return o.path.includes("/log")||o.path.includes("/logs")||((l=o.usage)==null?void 0:l.type)==="system"&&o.path.toLowerCase().includes("log")}).filter(o=>o.size>200*1024*1024).sort((o,l)=>l.size-o.size).slice(0,3).forEach((o,l)=>{t.push({id:`large-logs-${l}`,path:o.path,size:o.size,description:`Large log directory (${Ss(o.size)}). Consider implementing log rotation.`,impact:o.size>1024*1024*1024?"high":"medium",action:"View Directory"})}),s.filter(o=>o.path.includes("backup")||o.path.includes("old")||o.path.includes(".bak")||o.path.endsWith("_old")).filter(o=>o.size>100*1024*1024).sort((o,l)=>l.size-o.size).slice(0,3).forEach((o,l)=>{t.push({id:`backup-dir-${l}`,path:o.path,size:o.size,description:`Potential backup/old directory (${Ss(o.size)}). Consider archiving or removing.`,impact:o.size>2*1024*1024*1024?"high":"medium",action:"View Directory"})}),t},On=(s,t)=>{const a=Date.now()-s,i=t*24*60*60*1e3;return a>i},Un=s=>{const t=Date.now()-s;return Math.floor(t/(24*60*60*1e3))},Ss=s=>{if(s===0)return"0 Bytes";const t=1024,a=["Bytes","KB","MB","GB","TB"],i=Math.floor(Math.log(s)/Math.log(t));return parseFloat((s/Math.pow(t,i)).toFixed(2))+" "+a[i]},Hn=(s,t)=>{const a={detected:!1,type:null,severity:null,cause:null,recommendations:[]},i=s.current.utilization>85,n=s.current.utilization>70,r=s.current.queueDepth>10,o=s.current.queueDepth>4,l=s.current.latency.read>20,c=s.current.latency.write>20;if(!(i||r||l||c))return a;if(a.detected=!0,l&&!c)a.type="read";else if(c&&!l)a.type="write";else if(l&&c)a.type="mixed";else if(i||r){const u=s.current.readIOPS,h=s.current.writeIOPS;u>h*2?a.type="read":h>u*2?a.type="write":a.type="mixed"}return i&&r&&(l||c)?a.severity="high":i||r?a.severity="medium":(n||o)&&(a.severity="low"),Bn(a,s,t),Wn(a),a},Bn=(s,t,a)=>{const i=t.topProcesses[0],n=t.topProcesses[1];if(i&&n&&i.totalRate>n.totalRate*3){s.cause=`Process ${i.name} is dominating I/O operations`,s.process={pid:i.pid,name:i.name,ioRate:i.totalRate};return}if(a.length>=3){const r=a[a.length-1].utilization,o=a[a.length-3].utilization;if(r>o*2&&r>70){s.cause="Sudden spike in I/O activity";return}}if(a.length>=5){const r=a.slice(-5).map(l=>l.utilization);if(r.reduce((l,c)=>l+c,0)/r.length>80){s.cause="Sustained high I/O activity";return}}s.type==="read"&&t.current.readIOPS>1e3?s.cause="High number of small read operations":s.type==="write"&&t.current.writeIOPS>1e3?s.cause="High number of small write operations":s.cause="General I/O congestion"},Wn=(s,t)=>{const a=[];if(s.severity==="high"&&a.push("Consider immediate action to reduce I/O pressure on the system."),s.process){a.push(`Investigate process ${s.process.name} (PID: ${s.process.pid}) which is responsible for high I/O usage.`);const i=s.process.name.toLowerCase();i.includes("backup")||i.includes("sync")?a.push("Consider scheduling backup/sync operations during off-peak hours."):(i.includes("db")||i.includes("sql"))&&a.push("Review database queries and indexing to reduce I/O operations.")}s.type==="read"?(a.push("Consider adding more memory for caching frequently read data."),a.push("Evaluate application read patterns for optimization opportunities.")):s.type==="write"&&(a.push("Consider enabling write caching if it's safe for your workload."),a.push("Batch small write operations into larger transactions where possible.")),s.cause==="Sustained high I/O activity"&&(a.push("Consider upgrading to SSD storage if you're currently using spinning disks."),a.push("For critical applications, consider adding dedicated disk resources.")),s.recommendations=a},qn=s=>{const t=Gn(s),a=Vn(s),i=Qn(s),n=Kn(s);return{partitions:t,physicalDisks:a,directories:i,performance:n}},Gn=s=>{const t=s.partitions.map(o=>({blockSize:o.blockSize??0,mountPoint:o.mountPoint,device:o.device,fsType:o.fsType,total:o.total,used:o.used,available:o.available,percentUsed:o.percentUsed,health:{status:o.health.status,issues:o.health.issues},inodeUsage:o.inodes.percentUsed,readOnly:o.readOnly,physicalDiskId:o.physicalDiskId})),a=t.reduce((o,l)=>o+l.total,0),i=t.reduce((o,l)=>o+l.used,0),n=t.map(o=>o.health.status),r=n.includes("error")?"error":n.includes("warning")?"warning":"healthy";return{items:t,totalDiskSpace:a,usedDiskSpace:i,overallHealth:r}},Vn=s=>{const t=s.physicalDisks.map(r=>{const o=zn(r.smart);return{id:r.id,model:r.model,type:r.type,size:r.size,temperature:r.temperature,health:{status:r.smart.status,lifeRemaining:r.smart.lifeRemaining,issues:o.issues},partitions:r.partitions}}),a=t.flatMap(r=>r.health.issues.map(o=>({diskId:r.id,issue:o}))),i=t.map(r=>r.health.status),n=i.includes("failed")?"critical":i.includes("warning")?"warning":"good";return{items:t,overallHealth:n,criticalIssues:a}},Qn=s=>{const a=[...s.directories].sort((o,l)=>l.size-o.size).slice(0,10).map(o=>{var l,c;return{path:o.path,size:o.size,fileCount:o.fileCount,lastModified:o.lastModified,type:((l=o.usage)==null?void 0:l.type)||"other",cleanable:((c=o.usage)==null?void 0:c.cleanable)||!1}}),i=Yn(s.directories),n=Fn(s.directories),r=s.directories.reduce((o,l)=>o+l.size,0);return{largest:a,treemapData:i,cleanupRecommendations:n,totalAnalyzedSize:r}},Yn=s=>{const t=s.find(a=>!s.some(i=>a.path.startsWith(i.path+"/")&&i.path!==a.path));return t?fa(t,s):{name:"No data",path:"",value:0}},fa=(s,t)=>{const a=t.filter(n=>n.path.startsWith(s.path+"/")&&n.path.split("/").length===s.path.split("/").length+1),i={name:s.path.split("/").pop()||s.path,path:s.path,value:s.size};return a.length>0&&(i.children=a.map(n=>fa(n,t))),i},Kn=s=>{const t={readSpeed:s.performance.current.readSpeed,writeSpeed:s.performance.current.writeSpeed,readIOPS:s.performance.current.readIOPS,writeIOPS:s.performance.current.writeIOPS,utilization:s.performance.current.utilization,latency:{read:s.performance.current.latency.read,write:s.performance.current.latency.write}},a=Jn(s.history),i=s.performance.topProcesses.map(r=>({pid:r.pid,name:r.name,readRate:r.readRate,writeRate:r.writeRate,totalRate:r.totalRate,percentage:r.totalRate/s.performance.topProcesses.reduce((o,l)=>o+l.totalRate,0)*100})),n=Hn(s.performance,s.history);return{current:t,historical:a,topProcesses:i,bottlenecks:n}},Jn=s=>{const t=s.map(l=>l.timestamp),a=s.map(l=>l.readSpeed),i=s.map(l=>l.writeSpeed),n=s.map(l=>l.readIOPS),r=s.map(l=>l.writeIOPS),o=s.map(l=>l.utilization);return{timestamps:t,readSpeed:a,writeSpeed:i,readIOPS:n,writeIOPS:r,utilization:o}},Xn=({compact:s=!1,defaultTab:t="partitions"})=>{const[a,i]=g.useState(t),n=u=>{i(u)},r=K(u=>{var h;return(h=u.metrics.current)==null?void 0:h.disk_usage}),o=K(u=>u.metrics.loading),l=K(u=>u.metrics.error);if(o)return e.jsx(ga,{message:"Fetching disk metrics..."});if(l||!r)return e.jsx(pa,{message:"Unable to load disk metrics",details:typeof l=="string"?l:"Unknown error occurred",retry:()=>{}});const d=qn(typeof r=="number"?{partitions:[],physicalDisks:[],directories:[],performance:{current:{readSpeed:0,writeSpeed:0,readIOPS:0,writeIOPS:0,utilization:0,queueDepth:0,latency:{read:0,write:0}},bottlenecks:{detected:!1,type:null,severity:null,cause:null,recommendations:[]},topProcesses:[]},history:[]}:r);return s?e.jsx("div",{className:"disk-metric disk-metric--compact",children:e.jsx(zt,{data:d,compact:!0})}):e.jsx("div",{className:`disk-metric ${s?"compact":""}`,children:e.jsxs(as,{activeTab:a,onChange:n,children:[e.jsx(ee,{id:"partitions",label:"Partitions",children:e.jsx(zt,{data:d,compact:s})}),e.jsx(ee,{id:"directory",label:"Directory Usage",children:e.jsx(Ln,{data:d})}),e.jsx(ee,{id:"performance",label:"Performance",children:e.jsx(En,{data:d})})]})})},Zn=()=>{const[s,t]=g.useState("cpu"),{connectionStatus:a}=D(i=>i.metrics);return e.jsxs("div",{className:"system-metrics",children:[e.jsxs("div",{className:"metrics-connection-status",children:[e.jsx("span",{className:`connection-dot ${a==="connected"?"connected":a==="connecting"?"connecting":"disconnected"}`}),e.jsx("span",{className:"connection-text",children:a})]}),e.jsx("style",{children:`
        .connection-status:not(.metrics-connection-status) {
          display: none !important;
        }
        
        .metrics-connection-status {
          position: absolute;
          top: 10px;
          right: 10px;
          display: flex;
          align-items: center;
          gap: 5px;
          background: rgba(0, 0, 0, 0.1);
          padding: 4px 10px;
          border-radius: 20px;
          font-size: 0.7rem;
          z-index: 10;
        }
        
        .connection-dot {
          width: 8px;
          height: 8px;
          border-radius: 50%;
        }
        
        .connection-dot.connected {
          background: #38b000;
          box-shadow: 0 0 5px #38b000;
        }
        
        .connection-dot.connecting {
          background: #ffbe0b;
          box-shadow: 0 0 5px #ffbe0b;
          animation: pulse 1s infinite;
        }
        
        .connection-dot.disconnected {
          background: #ff3838;
          box-shadow: 0 0 5px #ff3838;
        }
        
        .connection-text {
          text-transform: capitalize;
          color: #333333;
        }
        
        @keyframes pulse {
          0% { opacity: 0.6; }
          50% { opacity: 1; }
          100% { opacity: 0.6; }
        }
        
        /* Tab Styling */
        .system-metrics-tabs {
          display: flex;
          border-bottom: 2px solid var(--border-color, #dee2e6);
          margin-bottom: 1.5rem;
          padding: 0 1rem;
        }
        
        .system-metrics-tab {
          padding: 0.75rem 1.5rem;
          cursor: pointer;
          font-weight: 600;
          color: var(--text-secondary, #555);
          border-bottom: 3px solid transparent;
          margin-bottom: -2px;
          transition: all 0.2s ease;
          display: flex;
          align-items: center;
          gap: 8px;
        }
        
        .system-metrics-tab:hover {
          color: var(--primary, #3a86ff);
        }
        
        .system-metrics-tab.active {
          color: var(--primary, #3a86ff);
          border-bottom: 3px solid var(--primary, #3a86ff);
        }
        
        .tab-content-area {
          padding: 1rem;
          min-height: 400px;
        }
        
        .tab-icon {
          font-size: 1.2rem;
        }
      `}),e.jsxs("div",{className:"system-metrics-tabs",children:[e.jsxs("div",{className:`system-metrics-tab ${s==="cpu"?"active":""}`,onClick:()=>t("cpu"),children:[e.jsx("span",{className:"tab-icon",children:"ğŸ’»"})," CPU"]}),e.jsxs("div",{className:`system-metrics-tab ${s==="memory"?"active":""}`,onClick:()=>t("memory"),children:[e.jsx("span",{className:"tab-icon",children:"ğŸ§ "})," Memory"]}),e.jsxs("div",{className:`system-metrics-tab ${s==="disk"?"active":""}`,onClick:()=>t("disk"),children:[e.jsx("span",{className:"tab-icon",children:"ğŸ’½"})," Disk"]}),e.jsxs("div",{className:`system-metrics-tab ${s==="network"?"active":""}`,onClick:()=>t("network"),children:[e.jsx("span",{className:"tab-icon",children:"ğŸŒ"})," Network"]})]}),e.jsxs("div",{className:"tab-content-area",children:[s==="cpu"&&e.jsx(cn,{compact:!1}),s==="memory"&&e.jsx(In,{compact:!1}),s==="disk"&&e.jsx(Xn,{compact:!1}),s==="network"&&e.jsx(da,{compact:!1,showTabs:!1})]})]})},er=({parameter:s})=>{const t={process_priority:{description:"Controls the CPU scheduling priority of processes. Lower values (negative numbers) give higher priority to processes, allowing them to get more CPU time. Higher values give lower priority.",impactMeaning:"Impact score indicates how much this change will affect overall system responsiveness. Higher impact means more noticeable performance changes."},cpu_governor:{description:'Controls how the CPU frequency scaling is managed. Options like "performance" maximize speed, while "powersave" prioritizes energy efficiency. "ondemand" and "conservative" balance between the two.',impactMeaning:"Impact score indicates the expected effect on performance vs. battery life. Higher impact means more significant changes to system behavior."},io_scheduler:{description:'Determines how disk I/O requests are handled. Different schedulers optimize for different workloads - "deadline" for low latency, "cfq" for fairness between processes, and "noop" for SSDs.',impactMeaning:"Impact score indicates how much this change will affect disk performance. Higher impact means more noticeable changes to file operations."},memory_pressure:{description:'Controls how aggressively the system reclaims memory. Settings like "normal", "moderate", and "critical" determine when the system starts freeing up memory from caches and buffers.',impactMeaning:"Impact score indicates how much this change will affect memory-intensive applications. Higher impact means more noticeable changes to application performance."},swap_tendency:{description:"Determines how likely the system is to use swap space. Lower values make the system less likely to swap, keeping more in RAM. Higher values increase swap usage, potentially saving RAM but reducing performance.",impactMeaning:"Impact score indicates how much this change will affect system responsiveness. Higher impact means more noticeable changes to performance when memory is constrained."},cache_pressure:{description:"Controls how aggressively the system reclaims memory from the page cache. Higher values make the system more aggressive in reclaiming memory, potentially reducing file system performance.",impactMeaning:"Impact score indicates how much this change will affect file system performance. Higher impact means more noticeable changes to file operations."},disk_read_ahead:{description:"Controls how much data is read ahead when accessing files. Higher values can improve sequential read performance but may waste memory for random access patterns.",impactMeaning:"Impact score indicates how much this change will affect file read performance. Higher impact means more noticeable changes to file operations."},network_buffer:{description:"Controls the size of network buffers. Larger buffers can improve throughput for large transfers but may increase latency for small transfers.",impactMeaning:"Impact score indicates how much this change will affect network performance. Higher impact means more noticeable changes to network operations."}},a={description:"A system tuning parameter that affects system performance.",impactMeaning:"Impact score indicates how much this change will affect system performance. Higher impact means more noticeable changes."},{description:i,impactMeaning:n}=t[s]||a;return e.jsxs("div",{className:"parameter-description",children:[e.jsxs("h4",{children:["What is ",s,"?"]}),e.jsx("p",{children:i}),e.jsx("h4",{children:"About Impact Score and Confidence"}),e.jsx("p",{children:n}),e.jsxs("p",{children:["The ",e.jsx("strong",{children:"confidence score"})," (e.g., 75%) indicates how certain the system is that this recommendation will be beneficial. Higher confidence means the system has stronger evidence that this change will help."]})]})},sr=()=>e.jsxs("div",{className:"auto-tuner-help",children:[e.jsx("h3",{children:"Understanding Auto-Tuner Values"}),e.jsx("h4",{children:"Current vs. Recommended Values"}),e.jsxs("p",{children:["The ",e.jsx("strong",{children:"Current"})," value shows the existing setting on your system. The ",e.jsx("strong",{children:"Recommended"})," value is what System Rebellion suggests for optimal performance based on your usage patterns and system metrics."]}),e.jsx("h4",{children:"Impact Score"}),e.jsx("p",{children:"Impact scores range from 0.0 to 1.0 and indicate how significant the effect of a change will be:"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"0.1-0.3:"})," Minor impact - subtle improvements"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"0.4-0.6:"})," Moderate impact - noticeable improvements"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"0.7-1.0:"})," Major impact - significant improvements"]})]}),e.jsx("h4",{children:"Confidence Score"}),e.jsx("p",{children:"Confidence scores (shown as percentages) indicate how certain the system is about its recommendation:"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"30-50%:"})," Low confidence - experimental recommendation"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"51-75%:"})," Moderate confidence - likely beneficial"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"76-100%:"})," High confidence - strongly recommended"]})]}),e.jsx("h4",{children:"Real-time Data"}),e.jsx("p",{children:"All recommendations are based on real-time analysis of your system's current state and historical usage patterns. The system continuously monitors your performance metrics to provide the most relevant suggestions."})]}),Dt={getLogs:async(s=100,t,a)=>{let i=`/system-logs?limit=${s}`;return t&&(i+=`&source=${t}`),a&&(i+=`&level=${a}`),(await ne.get(i)).data},clearLogs:async()=>(await ne.delete("/system-logs")).data},Ft={info:{color:"info",icon:e.jsx(Ga,{})},warning:{color:"warning",icon:e.jsx(qa,{})},error:{color:"error",icon:e.jsx(Wa,{})},success:{color:"success",icon:e.jsx(Ba,{})},command:{color:"default",icon:e.jsx(Ha,{})}},Ot={auth:"Authentication",tuner:"System Tuner",system:"System",command:"Command",WebAutoTuner:"Auto Tuner",SystemMetricsService:"Metrics Service",SystemLogService:"Log Service",ResourceMonitor:"Resource Monitor"},tr=({defaultSource:s,defaultLevel:t,maxHeight:a=400,title:i="System Logs",autoRefresh:n=!0,refreshInterval:r=1e4})=>{const[o,l]=g.useState([]),[c,d]=g.useState(!0),[u,h]=g.useState(s),[p,m]=g.useState(t),[x,S]=g.useState(!1),[f,k]=g.useState(0),[v,N]=g.useState(100),A=async()=>{try{d(!0);const y=await Dt.getLogs(v,u,p);l(y.logs),k(y.total),S(y.has_more)}catch(y){console.error("Error fetching system logs:",y)}finally{d(!1)}},P=async()=>{try{await Dt.clearLogs(),A()}catch(y){console.error("Error clearing logs:",y)}};g.useEffect(()=>{if(A(),n){const y=setInterval(A,r);return()=>clearInterval(y)}},[u,p,v,n,r]);const I=y=>{try{return Va(new Date(y),"MMM d, yyyy HH:mm:ss")}catch{return y}},w=y=>Ot[y]||y;return e.jsxs(Ia,{elevation:3,sx:{p:2,height:"100%",display:"flex",flexDirection:"column"},children:[e.jsxs(ue,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsxs(Ve,{variant:"h6",component:"h2",children:[i," ",f>0&&`(${f})`]}),e.jsxs(ue,{sx:{display:"flex",gap:1},children:[e.jsx(wt,{title:"Refresh logs",children:e.jsx(kt,{onClick:A,size:"small",children:e.jsx(Ra,{})})}),e.jsx(wt,{title:"Clear all logs",children:e.jsx(kt,{onClick:P,size:"small",color:"error",children:e.jsx($a,{})})})]})]}),e.jsxs(ue,{sx:{display:"flex",gap:2,mb:2},children:[e.jsxs(St,{size:"small",sx:{minWidth:120},children:[e.jsx(_t,{children:"Source"}),e.jsxs(Ct,{value:u||"",label:"Source",onChange:y=>h(y.target.value===""?void 0:y.target.value),children:[e.jsx(be,{value:"",children:"All Sources"}),Object.entries(Ot).map(([y,$])=>e.jsx(be,{value:y,children:$},y))]})]}),e.jsxs(St,{size:"small",sx:{minWidth:120},children:[e.jsx(_t,{children:"Level"}),e.jsxs(Ct,{value:p||"",label:"Level",onChange:y=>m(y.target.value===""?void 0:y.target.value),children:[e.jsx(be,{value:"",children:"All Levels"}),e.jsx(be,{value:"info",children:"Info"}),e.jsx(be,{value:"warning",children:"Warning"}),e.jsx(be,{value:"error",children:"Error"}),e.jsx(be,{value:"success",children:"Success"}),e.jsx(be,{value:"command",children:"Command"})]})]})]}),e.jsx(La,{sx:{mb:2}}),e.jsx(ue,{sx:{flexGrow:1,overflow:"auto",maxHeight:a},children:c&&o.length===0?e.jsxs(ue,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:[e.jsx(Ea,{size:24,sx:{mr:1}}),e.jsx(Ve,{variant:"body2",children:"Loading logs..."})]}):o.length===0?e.jsx(ue,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:e.jsx(Ve,{variant:"body2",color:"text.secondary",children:"No logs found"})}):e.jsx(za,{dense:!0,disablePadding:!0,children:o.map((y,$)=>{const _=Ft[y.level]||Ft.info;return e.jsx(Da,{divider:$<o.length-1,sx:{borderLeft:`4px solid ${_.color}.main`,mb:1,backgroundColor:`${_.color}.lightest`,"&:hover":{backgroundColor:`${_.color}.lighter`}},children:e.jsx(Fa,{primary:e.jsxs(ue,{sx:{display:"flex",alignItems:"center",gap:1},children:[Ne.cloneElement(_.icon,{}),e.jsx(Ve,{variant:"body2",component:"span",sx:{fontWeight:"medium"},children:y.message})]}),secondary:e.jsxs(ue,{sx:{display:"flex",justifyContent:"space-between",mt:.5},children:[e.jsx(Oa,{label:w(y.source),size:"small",variant:"outlined",sx:{height:20,fontSize:"0.7rem"}}),e.jsx(Ve,{variant:"caption",color:"text.secondary",children:I(y.timestamp)})]})})},$)})})}),x&&e.jsx(ue,{sx:{mt:2,textAlign:"center"},children:e.jsx(Ua,{variant:"outlined",size:"small",onClick:()=>N(y=>y+100),children:"Load More"})})]})},ze=(s,t=2)=>{if(s===0)return"0 Bytes";const a=1024,i=t<0?0:t,n=["Bytes","KB","MB","GB","TB"],r=Math.floor(Math.log(s)/Math.log(a));return parseFloat((s/Math.pow(a,r)).toFixed(i))+" "+n[r]},ar=()=>{const s=K(S=>S.autoTuner.currentMetrics),t=K(S=>S.autoTuner.status),[a,i]=g.useState(!1),n=g.useRef(s),[r,o]=g.useState(0),[l,c]=g.useState(0),[d,u]=g.useState(0),[h,p]=g.useState(0),[m,x]=g.useState(Date.now());return g.useEffect(()=>{var S;if(s&&n.current&&JSON.stringify(s)!==JSON.stringify(n.current)){i(!0);const f=setTimeout(()=>i(!1),1e3);return()=>clearTimeout(f)}if(n.current=s,(S=s==null?void 0:s.additional)!=null&&S.network_details){const f=s.additional.network_details,v=(f.rate_mbps||0)*1024*1024;if(f.sent_rate_bps!==void 0&&f.recv_rate_bps!==void 0)u(f.sent_rate_bps),p(f.recv_rate_bps);else if(v>0)u(v*.4),p(v*.6);else{const A=(Date.now()-m)/1e3;if(r>0&&l>0&&A>0){const P=f.bytes_sent-r,I=f.bytes_recv-l;P>=0&&u(P/A),I>=0&&p(I/A)}}d===0&&h===0&&(f.bytes_sent>0||f.bytes_recv>0)&&(u(1024),p(1024)),o(f.bytes_sent),c(f.bytes_recv),x(Date.now()),console.log(`Auto-tuner network metrics - Sent: ${ze(d)}/s, Received: ${ze(h)}/s, Total bytes: ${f.bytes_sent+f.bytes_recv}`)}},[s]),t==="loading"&&!s?e.jsx("div",{className:"metrics-panel loading",children:"Loading metrics..."}):s?e.jsxs("div",{className:`metrics-panel ${a?"data-updating":""}`,children:[e.jsx("h2",{children:"Current System Metrics"}),e.jsxs("div",{className:"metrics-grid",children:[e.jsxs("div",{className:"metric-card",children:[e.jsx("h3",{children:"CPU Usage"}),e.jsxs("div",{className:"metric-value",children:[s.cpu_usage.toFixed(2),"%"]},`cpu-${s.cpu_usage}`),e.jsx("div",{className:"metric-gauge",children:e.jsx("div",{className:"metric-fill",style:{width:`${s.cpu_usage}%`,backgroundColor:s.cpu_usage>80?"#ff4d4f":"#52c41a"}})}),e.jsx("div",{className:"help-text",children:e.jsx("small",{title:"The percentage of CPU usage",children:"CPU usage is the percentage of CPU resources being used."})})]}),e.jsxs("div",{className:"metric-card",children:[e.jsx("h3",{children:"Memory Usage"}),e.jsxs("div",{className:"metric-value",children:[s.memory_usage.toFixed(2),"%"]},`memory-${s.memory_usage}`),e.jsx("div",{className:"metric-gauge",children:e.jsx("div",{className:"metric-fill",style:{width:`${s.memory_usage}%`,backgroundColor:s.memory_usage>80?"#ff4d4f":"#52c41a"}})}),e.jsx("div",{className:"help-text",children:e.jsx("small",{title:"The percentage of memory usage",children:"Memory usage is the percentage of memory resources being used."})})]}),e.jsxs("div",{className:"metric-card",children:[e.jsx("h3",{children:"Disk Usage"}),e.jsxs("div",{className:"metric-value",children:[s.disk_usage.toFixed(2),"%"]},`disk-${s.disk_usage}`),e.jsx("div",{className:"metric-gauge",children:e.jsx("div",{className:"metric-fill",style:{width:`${s.disk_usage}%`,backgroundColor:s.disk_usage>80?"#ff4d4f":"#52c41a"}})}),e.jsx("div",{className:"help-text",children:e.jsx("small",{title:"The percentage of disk usage",children:"Disk usage is the percentage of disk resources being used."})})]}),e.jsxs("div",{className:"metric-card",children:[e.jsx("h3",{children:"Network Activity"}),e.jsxs("div",{className:"metric-value network-metrics",children:[e.jsxs("div",{className:"network-sent",children:[e.jsx("div",{className:"network-label",children:"Upload:"}),e.jsxs("div",{className:"network-rate",children:[ze(d),"/s"]}),e.jsxs("div",{className:"network-total",children:["Total: ",ze(r)]})]}),e.jsxs("div",{className:"network-received",children:[e.jsx("div",{className:"network-label",children:"Download:"}),e.jsxs("div",{className:"network-rate",children:[ze(h),"/s"]}),e.jsxs("div",{className:"network-total",children:["Total: ",ze(l)]})]})]},`network-${r}-${l}`),e.jsx("div",{className:"metric-gauge",children:e.jsx("div",{className:"metric-fill",style:{width:`${Math.min((d+h)/(1024*1024)*10,100)}%`,backgroundColor:d+h>8*1024*1024?"#ff4d4f":"#52c41a"}})}),e.jsx("div",{className:"help-text",children:e.jsx("small",{title:"Network activity in bytes/second",children:"Network activity shows upload and download rates in real-time."})})]})]}),e.jsxs("div",{className:"metric-timestamp",children:["Last updated: ",new Date(s.timestamp).toLocaleString()]})]}):e.jsx("div",{className:"metrics-panel empty",children:"No metrics available"})},ir=()=>{const s=Be(),{recommendations:t,status:a,error:i}=K(c=>c.autoTuner),[n,r]=g.useState(null),o=c=>{s(Ms(c))},l=c=>{r(n===c?null:c)};return e.jsxs("div",{className:"panel recommendations-panel",children:[e.jsx("h3",{children:"Tuning Recommendations"}),e.jsx("div",{className:"help-text",children:e.jsx("small",{children:"Click on any parameter name to see detailed information about what it means."})}),a==="loading"&&e.jsx("p",{children:"Loading recommendations..."}),i&&e.jsxs("p",{className:"error",children:["Error: ",i]}),t.length===0?e.jsx("p",{children:"No recommendations available at this time."}):e.jsx("ul",{className:"recommendations-list",children:t.map((c,d)=>e.jsxs("li",{className:"recommendation-item",children:[e.jsxs("div",{className:"recommendation-header",children:[e.jsx("span",{className:"parameter clickable",onClick:()=>l(c.parameter),title:"Click for more information",children:c.parameter}),e.jsxs("div",{className:"scores",children:[e.jsxs("span",{className:"impact-score",title:"How significant this change will be (0.0-1.0)",children:["Impact: ",c.impact_score.toFixed(2)]}),e.jsxs("span",{className:"confidence",title:"How certain the system is about this recommendation",children:["Confidence: ",(c.confidence*100).toFixed(0),"%"]})]})]}),n===c.parameter&&e.jsx("div",{className:"parameter-info",children:e.jsx(er,{parameter:c.parameter})}),e.jsxs("div",{className:"recommendation-details",children:[e.jsxs("div",{className:"values",children:[e.jsxs("span",{className:"current-value",title:"The current setting on your system",children:["Current: ",c.current_value]}),e.jsxs("span",{className:"recommended-value",title:"The recommended optimal setting",children:["Recommended: ",c.recommended_value]})]}),e.jsx("p",{className:"reason",children:c.reason}),e.jsx("button",{className:"apply-button",onClick:()=>o(d),title:"Apply this recommendation to your system",children:"Apply"})]})]},d))})]})},nr=()=>{const s=Be(),t=K(r=>r.autoTuner.patterns),a=K(r=>r.autoTuner.status),i=K(r=>r.autoTuner.error);g.useEffect(()=>{console.log("AutoTuner PatternsPanel: Fetching patterns..."),s(de());const r=setInterval(()=>{console.log("AutoTuner PatternsPanel: Polling for patterns..."),s(de())},6e4);return()=>clearInterval(r)},[s]),g.useEffect(()=>{console.log("AutoTuner PatternsPanel: Current patterns:",t),console.log("AutoTuner PatternsPanel: Status:",a),console.log("AutoTuner PatternsPanel: Error:",i)},[t,a,i]);const n=()=>{console.log("AutoTuner PatternsPanel: Manually refreshing patterns..."),s(de())};return a==="loading"?e.jsx("div",{className:"patterns-panel loading",children:"Loading patterns..."}):!t||t.length===0?e.jsxs("div",{className:"patterns-panel empty",children:[e.jsx("p",{children:"No patterns detected"}),e.jsx("button",{onClick:n,className:"refresh-button",children:"Refresh Patterns"})]}):e.jsxs("div",{className:"patterns-panel",children:[e.jsx("h2",{children:"Detected System Patterns"}),e.jsx("div",{className:"patterns-list",children:t.map((r,o)=>e.jsxs("div",{className:"pattern-card",children:[e.jsxs("div",{className:"pattern-header",children:[e.jsx("h3",{children:r.type}),e.jsxs("div",{className:"pattern-confidence",children:["Confidence: ",(r.confidence*100).toFixed(0),"%"]})]}),e.jsxs("div",{className:"pattern-details",children:[e.jsx("div",{className:"pattern-description",children:r.pattern}),e.jsx("div",{className:"pattern-info",children:Object.entries(r.details).map(([l,c])=>e.jsxs("div",{className:"pattern-detail-item",children:[e.jsxs("span",{className:"detail-key",children:[l,":"]})," ",JSON.stringify(c)]},l))})]})]},o))})]})},rr=()=>{const s=K(l=>l.autoTuner.tuningHistory),t=K(l=>l.autoTuner.status),[a,i]=g.useState(5),n=()=>{i(l=>l+5)};if(t==="loading")return e.jsx("div",{className:"history-panel loading",children:"Loading tuning history..."});if(!s||s.length===0)return e.jsx("div",{className:"history-panel empty",children:"No tuning history available"});const r=s.slice(0,a),o=s.length>a;return e.jsxs("div",{className:"history-panel",children:[e.jsx("h2",{children:"Optimization History"}),e.jsxs("div",{className:"history-list",children:[r.map((l,c)=>e.jsxs("div",{className:`history-card ${l.success?"success":"failure"}`,children:[e.jsxs("div",{className:"history-header",children:[e.jsx("h3",{children:l.parameter}),e.jsx("div",{className:"history-status",children:l.success?"âœ“ Success":"âœ— Failed"})]}),l.metrics_before&&l.metrics_after&&e.jsxs("div",{className:"history-metrics",children:[e.jsxs("div",{className:"metrics-before",children:[e.jsx("h4",{children:"Before"}),e.jsx("pre",{children:JSON.stringify(l.metrics_before,null,2)})]}),e.jsxs("div",{className:"metrics-after",children:[e.jsx("h4",{children:"After"}),e.jsx("pre",{children:JSON.stringify(l.metrics_after,null,2)})]})]}),l.error&&e.jsxs("div",{className:"history-error",children:["Error: ",l.error]})]},c)),o&&e.jsx("div",{className:"load-more-container",children:e.jsxs("button",{className:"load-more-button",onClick:n,children:["Load More (",s.length-a," remaining)"]})})]})]})},or=()=>{const s=Be(),t=K(u=>u.autoTuner.activeProfile),[a,i]=g.useState([]),[n,r]=g.useState(!1),[o,l]=g.useState(null),c=()=>{r(!0),l(null),fetch("/api/optimization-profiles").then(u=>{if(!u.ok)throw new Error("Failed to fetch profiles");return u.json()}).then(u=>{i(u),r(!1)}).catch(u=>{l(u.message),r(!1)})};g.useEffect(()=>{c()},[]);const d=u=>{const h=a.find(p=>p.id===u);h&&(s(xi(h)),s(Ps(u)))};return e.jsxs("div",{className:"profiles-panel",children:[e.jsx("h2",{children:"Optimization Profiles"}),n&&e.jsx("div",{className:"loading-message",children:"Loading profiles..."}),o&&e.jsxs("div",{className:"error-message",children:["Error: ",o]}),e.jsx("div",{className:"profiles-list",children:a.map(u=>e.jsxs("div",{className:`profile-card ${(t==null?void 0:t.id)===u.id?"active":""}`,children:[e.jsxs("div",{className:"profile-header",children:[e.jsx("h3",{children:u.name}),(t==null?void 0:t.id)===u.id&&e.jsx("div",{className:"active-badge",children:"Active"})]}),e.jsx("div",{className:"profile-description",children:u.description}),e.jsxs("div",{className:"profile-thresholds",children:[e.jsx("h4",{children:"Thresholds"}),e.jsxs("div",{className:"thresholds-grid",children:[e.jsxs("div",{children:["CPU: ",u.thresholds.cpu.warning,"%"]}),e.jsxs("div",{children:["Memory: ",u.thresholds.memory.warning,"%"]}),e.jsxs("div",{children:["Disk: ",u.thresholds.disk.warning,"%"]}),e.jsxs("div",{children:["Network: ",u.thresholds.network.warning,"%"]})]})]}),e.jsx("div",{className:"profile-actions",children:e.jsx("button",{className:"apply-button",onClick:()=>d(u.id),disabled:(t==null?void 0:t.id)===u.id,children:(t==null?void 0:t.id)===u.id?"Applied":"Apply"})})]},u.id))})]})},lr=()=>e.jsx("div",{className:"system-logs-panel",children:e.jsx(tr,{title:"System Activity Logs",maxHeight:400,autoRefresh:!0,refreshInterval:1e4})}),cr=()=>{const s=Be(),{lastUpdated:t}=K(l=>l.autoTuner),[a,i]=g.useState(!1),[n,r]=g.useState(!1),o=g.useRef(t);return g.useEffect(()=>{if(t&&o.current!==t){r(!0);const l=setTimeout(()=>r(!1),1e3);return()=>clearTimeout(l)}o.current=t},[t]),g.useEffect(()=>{s(Xe()),s(Ze()),s(de()),s(As());const l=setInterval(()=>{s(Xe()),s(Ze())},3e4);return()=>clearInterval(l)},[s]),e.jsxs("div",{className:`auto-tuner-container ${n?"data-updating":""}`,children:[e.jsxs("div",{className:"auto-tuner-header",children:[e.jsx("h2",{children:"System Auto-Tuner"}),e.jsx("button",{className:"help-button",onClick:()=>i(!a),title:"Learn about auto-tuner values",children:a?"Hide Help":"What do these values mean?"}),t&&e.jsxs("div",{className:"last-updated",children:["Last updated: ",new Date(t).toLocaleTimeString()]})]}),a&&e.jsx("div",{className:"help-panel",children:e.jsx(sr,{})}),e.jsxs("div",{className:"auto-tuner-panels",children:[e.jsxs("div",{className:"panel-row",children:[e.jsx(ar,{}),e.jsx(ir,{})]}),e.jsxs("div",{className:"panel-row",children:[e.jsx(nr,{}),e.jsx(rr,{})]}),e.jsx("div",{className:"panel-row",children:e.jsx(or,{})}),e.jsx("div",{className:"panel-row",children:e.jsx(lr,{})})]})]})},dr=()=>{const s=Le(),t=oe(),{isAuthenticated:a,isLoading:i}=D(k=>k.auth),[n,r]=g.useState(!1),[o,l]=g.useState(null),[c,d]=g.useState(1),[u,h]=g.useState(" Sir Hawkington requires some information about your system!"),[p,m]=g.useState({operating_system:"",os_version:"",cpu_cores:0,total_memory:0});g.useEffect(()=>{(async()=>{try{const v=navigator.userAgent;let N="",A="";v.indexOf("Win")!==-1?N="Windows":v.indexOf("Mac")!==-1?N="MacOS":v.indexOf("Linux")!==-1?N="Linux":v.indexOf("Android")!==-1?N="Android":v.indexOf("like Mac")!==-1&&(N="iOS");const P=v.match(/NT (\d+\.\d+)/)||v.match(/Mac OS X (\d+[._]\d+)/)||v.match(/Android (\d+\.\d+)/);P&&(A=P[1].replace("_","."));const I=navigator.hardwareConcurrency||0;m(w=>({...w,operating_system:N||w.operating_system,os_version:A||w.os_version,cpu_cores:I||w.cpu_cores})),h(" I've detected some of your system information! Please verify and complete the form.")}catch(v){console.error("Error auto-detecting system info:",v)}})()},[]),g.useEffect(()=>{!i&&!a&&s("/login")},[a,s,i]);const x=k=>{const{name:v,value:N}=k.target;m(v==="cpu_cores"||v==="total_memory"?{...p,[v]:Number(N)}:{...p,[v]:N})},S=async k=>{var v,N,A;k.preventDefault(),r(!0),l(null);try{const P={"Operating System":p.operating_system,"OS Version":p.os_version,"CPU Cores":p.cpu_cores,RAM:p.total_memory},I=Object.entries(P).filter(([_,b])=>!b).map(([_])=>_);if(I.length>0)throw new Error(`Please fill in the following required fields: ${I.join(", ")}`);if(p.cpu_cores<=0)throw new Error("CPU Cores must be greater than 0");if(p.total_memory<=0)throw new Error("RAM must be greater than 0");h(" Sir Hawkington is processing your system information with aristocratic precision!"),console.log("Submitting onboarding data:",p);let w=0;const y=3;let $=!1;for(;w<y&&!$;)try{console.log(`Attempt ${w+1} of ${y} to submit profile`);const _=await t(Je(p)).unwrap();if($=!0,console.log("Profile updated successfully!",_),_&&_.needs_onboarding===!1)h(" Splendid! Your system information has been recorded with utmost sophistication!"),setTimeout(()=>{s("/dashboard")},1500);else throw new Error("Onboarding status not updated properly");break}catch(_){if(w++,console.error(`Attempt ${w} failed:`,_),w>=y)throw _;await new Promise(b=>setTimeout(b,1e3*Math.pow(2,w)))}}catch(P){console.error("Error during onboarding:",P);let I="An error occurred during onboarding";((v=P.response)==null?void 0:v.status)===400?I="Invalid data provided. Please check your input and try again.":((N=P.response)==null?void 0:N.status)===401?(I="Your session has expired. Please log in again.",s("/login")):((A=P.response)==null?void 0:A.status)===500&&(I="Server error. Please try again later."),l(P.message||I),h(" Oh dear, it seems we've encountered a spot of bother!")}finally{r(!1)}},f=()=>{switch(c){case 1:return e.jsxs("div",{className:"onboarding-step",children:[e.jsx("h3",{children:"Your System Information"}),e.jsx("p",{children:"Please provide details about your system to optimize your experience."}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"operating_system",children:"Operating System"}),e.jsxs("select",{id:"operating_system",name:"operating_system",value:p.operating_system,onChange:x,required:!0,children:[e.jsx("option",{value:"",children:"Select Operating System"}),e.jsx("option",{value:"Windows",children:"Windows"}),e.jsx("option",{value:"MacOS",children:"MacOS"}),e.jsx("option",{value:"Linux",children:"Linux"}),e.jsx("option",{value:"Other",children:"Other"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"os_version",children:"OS Version"}),e.jsx("input",{type:"text",id:"os_version",name:"os_version",value:p.os_version,onChange:x,placeholder:"e.g., 10, 11, Monterey, Ubuntu 22.04",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"cpu_cores",children:"CPU Cores"}),e.jsx("input",{type:"number",id:"cpu_cores",name:"cpu_cores",min:"1",value:p.cpu_cores||"",onChange:x,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"total_memory",children:"RAM (GB)"}),e.jsx("input",{type:"number",id:"total_memory",name:"total_memory",min:"1",step:"0.5",value:p.total_memory||"",onChange:x,required:!0})]}),e.jsx("div",{className:"form-actions",children:e.jsx("button",{type:"button",className:"next-button",onClick:()=>d(2),children:"Next"})})]});case 2:return e.jsxs("div",{className:"onboarding-step",children:[e.jsx("h3",{children:"Confirm Your Information"}),e.jsx("p",{children:"Please review your system information before submitting."}),e.jsxs("div",{className:"info-summary",children:[e.jsxs("div",{className:"info-item",children:[e.jsx("span",{className:"info-label",children:"Operating System:"}),e.jsx("span",{className:"info-value",children:p.operating_system})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("span",{className:"info-label",children:"OS Version:"}),e.jsx("span",{className:"info-value",children:p.os_version})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("span",{className:"info-label",children:"CPU Cores:"}),e.jsx("span",{className:"info-value",children:p.cpu_cores})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("span",{className:"info-label",children:"RAM:"}),e.jsxs("span",{className:"info-value",children:[p.total_memory," GB"]})]})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"button",className:"back-button",onClick:()=>d(1),children:"Back"}),e.jsx("button",{type:"submit",className:"submit-button",disabled:n,children:n?"Processing...":"Complete Onboarding"})]})]});default:return null}};return e.jsx("div",{className:"onboarding-container",children:e.jsxs("div",{className:"onboarding-card",children:[e.jsxs("div",{className:"onboarding-header",children:[e.jsx("h2",{children:"Welcome to System Rebellion"}),e.jsxs("div",{className:"step-indicator",children:[e.jsx("div",{className:`step ${c>=1?"active":""}`,children:"1"}),e.jsx("div",{className:"step-line"}),e.jsx("div",{className:`step ${c>=2?"active":""}`,children:"2"})]})]}),e.jsxs("div",{className:"hawkington-welcome",children:[e.jsx("div",{className:"hawkington-icon",children:"ğŸ§"}),e.jsx("p",{className:"hawkington-quote",children:u})]}),o&&e.jsx("div",{className:"error-message",children:o}),e.jsx("form",{onSubmit:S,children:f()})]})})},hr=()=>{const{isAuthenticated:s,user:t}=K(i=>i.auth);if(!s)return e.jsx(tt,{to:"/login"});const a=(t==null?void 0:t.profile)&&(t.profile.operating_system||t.profile.os_version||t.profile.cpu_cores||t.profile.total_memory);return t&&a?(console.log("User already has system profile information, redirecting to dashboard"),e.jsx(tt,{to:"/dashboard"})):e.jsx(dr,{})},rt=[{id:"hawkington",name:"Sir Hawkington von Monitorious III",title:"System Monitoring & Aristocratic Oversight",emoji:"ğŸ§",description:"Born into nobility within the digital realm, Sir Hawkington spent his formative years monitoring the royal systems of Byteshire. After witnessing the Great System Crash of '18, he vowed to bring aristocratic precision to the monitoring of all systems.",quote:"One must always observe one's metrics with distinguished attention to detail. A proper system, like a proper gentleman, should never be caught with its resources down.",skills:["Aristocratic Error Detection","Monocle-Based Monitoring","Distinguished Log Analysis","Proper JWT Version Enforcement"],status:"Monitoring with extreme prejudice while sipping Earl Grey"},{id:"methsnail",name:"The Meth Snail",title:"Performance Optimization & Chaos Engineering",emoji:"ğŸŒ",description:"No one knows where The Meth Snail came from. One day, the team discovered a gastropod leaving a trail of optimized code and empty Red Bull cans across the server room floor. Despite numerous attempts to explain that the name refers to speed, not substance, The Meth Snail embraces the confusion.",quote:"The quantum realm reveals optimization patterns invisible to the sober mind. Also, has anyone seen my shell? I swear I had it a minute ago.",skills:["Hypercaffeinated Code Optimization","Tinfoil Hat Debugging","Quantum Pattern Recognition","Dependency Resurrection"],status:"Red Bull #537, still coding, hasn't slept since February"},{id:"hamsters",name:"The Hamsters",title:"Emergency Repairs & Infrastructure",emoji:"ğŸ¹",description:"A team of hard-hat-wearing rodents who appeared during the Authentication Wars with an inexplicable supply of duct tape and a concerning enthusiasm for Bud Light. The Hamsters operate as a collective intelligence, communicating through a series of squeaks that somehow translate into working code.",quote:"SQUEAK! [Translation: The structural integrity of your authentication system requires approximately 2.7 meters of quantum-grade duct tape applied at a 45-degree angle to the JWT implementation.]",skills:["Duct Tape Application","Emergency Patching","Infrastructure Reinforcement","Bud Light-Powered Debugging"],status:"Reinforcing WebSocket connections with a fresh roll of silver tape"},{id:"stick",name:"The Stick",title:"Compliance & Anxiety Management",emoji:"ğŸ“",description:"Formerly a measuring stick used to validate UI components, The Stick gained sentience during a particularly intense CSS debugging session. Now serving as the team's compliance officer, The Stick measures everything from code quality to regulatory requirements with exacting precision.",quote:"Are you SURE this is JWT 5.3.0? What if it's 5.3.0.1? Has anyone checked? Oh god, what if there's a 5.3.0.1.1? I need to lie down.",skills:["Regulatory Compliance","Version Verification","Documentation Precision","Professional Anxiety Maintenance"],status:"Measuring authentication tokens while breathing into a paper bag"},{id:"shadowpeople",name:"Quantum Shadow People",title:"Ignored Router Suggestions",emoji:"ğŸ‘»",description:"Mysterious entities that exist in the quantum space between network layers, the Quantum Shadow People appeared during the first router configuration and have been offering unsolicited router-based solutions ever since.",quote:"Have you considered routing through the quantum subnet? No? What about inverting the router's polarity? Also no? Perhaps placing the router in a pentagram of salt while chanting the IPv6 address backwards?",skills:["Router-Based Solutions","Quantum Networking","Persistence Despite Rejection","Tequila Jello-Shot Network Optimization"],status:"Still suggesting router modifications, still being ignored"},{id:"vic20",name:"VIC-20",title:"Ancient Wisdom & 8-Bit Guidance",emoji:"ğŸ–¥ï¸",description:"An ancient Commodore VIC-20 discovered in a storage closet, VIC-20 somehow interfaced with System Rebellion during the Great Database Resurrection. Speaking only through an 8-bit monitor in phosphor green text, VIC-20 provides cryptic wisdom from the early days of computing.",quote:"SYSTEM ERROR DETECTED. HAVE YOU TRIED TURNING JWT OFF AND ON AGAIN? ALSO, GLOBAL THERMONUCLEAR WAR IS STILL AN OPTION.",skills:["Legacy System Knowledge","Cryptic Error Messages","Retro Debugging","8-Bit Wisdom"],status:"Still debugging, still learning"}],Ut=[{id:"inception",date:"March 2023",title:"Project Inception",description:"Sir Hawkington discovers critical inefficiencies in system monitoring practices and recruits The Meth Snail to begin developing optimization algorithms.",painPoint:"Existing monitoring systems lacked the aristocratic precision required for modern infrastructure.",solution:"Sir Hawkington's monocle-based monitoring combined with The Meth Snail's hypercaffeinated optimization algorithms.",quote:"A proper system, like a proper gentleman, should never be caught with its resources down.",quoteAuthor:"Sir Hawkington von Monitorious III"},{id:"authentication-wars",date:"April 2023",title:"The Authentication Wars",description:"A series of catastrophic JWT failures leads to the emergence of The Hamsters, who stabilize the situation with strategic application of duct tape.",painPoint:"Authentication systems collapsing under the weight of their own complexity and expired tokens.",solution:"The Hamsters' revolutionary quantum-grade duct tape applied at precisely calculated angles to the JWT implementation.",quote:"SQUEAK! [Translation: Sometimes the most elegant solution is the simplest - 2.7 meters of duct tape.]",quoteAuthor:"The Hamsters, Collective Intelligence"},{id:"compliance-crisis",date:"June 2023",title:"The Great Compliance Crisis",description:"The Stick joins the team after a particularly intense regulatory audit, bringing much-needed precision to documentation and version control.",painPoint:"Regulatory requirements and version inconsistencies threatening project stability.",solution:"The Stick's exacting measurements and anxiety-driven documentation practices.",quote:"Are you SURE this is JWT 5.3.0? What if it's 5.3.0.1? Has anyone checked?",quoteAuthor:"The Stick, while breathing into a paper bag"},{id:"router-incident",date:"August 2023",title:"The Router Incident",description:"Following an unexplained network outage, the Quantum Shadow People manifest and begin offering unsolicited router-based solutions.",painPoint:"Mysterious network failures occurring at quantum intervals, defying conventional debugging.",solution:"Quantum networking principles applied through a series of increasingly bizarre router modifications.",quote:"Have you considered routing through the quantum subnet? No? What about inverting the router's polarity?",quoteAuthor:"Quantum Shadow People, Interdimensional Consultants"},{id:"database-resurrection",date:"October 2023",title:"The Great Database Resurrection",description:"During a critical database migration, VIC-20 is discovered in storage and somehow interfaces with the system, providing ancient wisdom that saves the project.",painPoint:"Modern database migration techniques failing catastrophically with legacy data structures.",solution:"VIC-20's 8-bit wisdom and retro debugging techniques applied to contemporary database architecture.",quote:"SYSTEM ERROR DETECTED. HAVE YOU TRIED TURNING JWT OFF AND ON AGAIN?",quoteAuthor:"VIC-20, Ancient Computing Oracle"},{id:"public-launch",date:"January 2024",title:"Public Launch",description:"System Rebellion officially launches to the public, promising aristocratic precision in system optimization and monitoring.",painPoint:"Bringing together the chaotic ensemble of solutions into a coherent product offering.",solution:"A harmonious blend of aristocratic monitoring, hypercaffeinated optimization, duct tape reinforcement, anxious compliance, quantum networking, and 8-bit wisdom.",quote:"The System Rebellion is not merely a product, but a distinguished revolution in the art of digital optimization.",quoteAuthor:"The Entire System Rebellion Team"}];console.log("LandingPage module loaded");console.log("Team members data:",rt);const mr=()=>{const[s,t]=g.useState(!1),[a,i]=g.useState(!1),[n,r]=g.useState("ğŸ§ Welcome to the System Rebellion, distinguished visitor!"),[o,l]=g.useState(null),[c,d]=g.useState(null),[u,h]=g.useState(512);g.useEffect(()=>{const N=A=>{var I,w;const P=A.target;if(P.tagName==="A"&&((I=P.getAttribute("href"))!=null&&I.startsWith("#"))){A.preventDefault();const y=(w=P.getAttribute("href"))==null?void 0:w.substring(1),$=document.getElementById(y||"");$&&$.scrollIntoView({behavior:"smooth"})}};return document.addEventListener("click",N),()=>document.removeEventListener("click",N)},[]),g.useEffect(()=>{const N=setInterval(()=>{Math.random()>.7&&h(A=>A+1)},3e4);return()=>clearInterval(N)},[]);const p=["ğŸ§ The System Rebellion awaits your distinguished participation!","ğŸ§ Sir Hawkington invites you to optimize your computing experience!","ğŸ§ Join us in the most aristocratic system optimization revolution!","ğŸ§ The Meth Snail vibrates with anticipation at your arrival!","ğŸ§ The Hamsters have prepared their finest duct tape for your system!","ğŸ§ One must always optimize with distinguished precision!","ğŸ§ The Stick is measuring your system's compliance as we speak!","ğŸ§ The Quantum Shadow People suggest router modifications (ignore them)!"],m=()=>{const N=Math.floor(Math.random()*p.length);return p[N]},x=()=>{console.log("Opening signup modal"),t(!0),i(!1),r("ğŸ§ Sir Hawkington is delighted by your interest in joining the rebellion!")},S=()=>{console.log("Opening login modal"),i(!0),t(!1),r("ğŸ§ Sir Hawkington prepares to verify your distinguished credentials!")},f=()=>{t(!1),i(!1),r("ğŸ§ Welcome to the System Rebellion, distinguished visitor!")},k=N=>{l(o===N?null:N)},v=N=>{d(c===N?null:N)};return console.log("LandingPage render function called"),console.log("Team members:",rt),console.log("Project timeline:",Ut),e.jsxs("div",{className:"landing-page",children:[e.jsxs("header",{className:"landing-header",children:[e.jsxs("div",{className:"logo-container",children:[e.jsx("img",{src:"/logo.png",alt:"System Rebellion Logo",className:"logo"}),e.jsx("h1",{children:"System Rebellion"})]}),e.jsxs("div",{className:"header-actions",children:[e.jsx("button",{className:"login-button",onClick:S,onMouseEnter:()=>r("ğŸ§ Returning rebels, Sir Hawkington welcomes you back!"),onMouseLeave:()=>r("ğŸ§ Welcome to the System Rebellion, distinguished visitor!"),children:"Login"}),e.jsx("button",{className:"signup-button",onClick:x,onMouseEnter:()=>r("ğŸ§ New recruits are always welcome in our distinguished rebellion!"),onMouseLeave:()=>r("ğŸ§ Welcome to the System Rebellion, distinguished visitor!"),children:"Join the Rebellion"})]})]}),e.jsxs("section",{className:"hero-section",children:[e.jsxs("div",{className:"hero-content",children:[e.jsx("h2",{children:"Optimize Your System with Distinguished Precision"}),e.jsx("p",{className:"hawkington-quote",children:n}),e.jsx("p",{className:"hero-description",children:"Join Sir Hawkington, The Meth Snail, and their team of optimization experts in the most aristocratic system rebellion of our time!"}),e.jsxs("div",{className:"hero-stats",children:[e.jsxs("div",{className:"stat",children:[e.jsx("span",{className:"stat-value",children:"5"}),e.jsx("span",{className:"stat-label",children:"Backup Monocles"})]}),e.jsxs("div",{className:"stat",children:[e.jsx("span",{className:"stat-value",children:u}),e.jsx("span",{className:"stat-label",children:"Red Bulls Consumed"})]}),e.jsxs("div",{className:"stat",children:[e.jsx("span",{className:"stat-value",children:"âˆ"}),e.jsx("span",{className:"stat-label",children:"Duct Tape Applied"})]})]}),e.jsx("button",{className:"cta-button",onClick:x,onMouseEnter:()=>r(m()),onMouseLeave:()=>r("ğŸ§ Welcome to the System Rebellion, distinguished visitor!"),children:"Start Your Optimization Journey"})]}),e.jsx("div",{className:"hero-image",children:e.jsx("img",{src:"/hero-image.png",alt:"System Optimization"})})]}),e.jsxs("section",{className:"team-section",id:"team",children:[e.jsx("h2",{children:"Meet the Distinguished Team"}),e.jsx("p",{className:"team-intro",children:"The System Rebellion is led by a team of extraordinary characters, each bringing their unique expertise to the optimization revolution."}),e.jsx("div",{className:"character-cards",children:rt.map(N=>e.jsx("div",{className:`character-card ${o===N.id?"flipped":""}`,onClick:()=>k(N.id),children:e.jsxs("div",{className:"card-inner",children:[e.jsxs("div",{className:"card-front",children:[e.jsx("div",{className:"character-icon",children:N.emoji}),e.jsx("h3",{children:N.name}),e.jsx("p",{className:"character-title",children:N.title})]}),e.jsxs("div",{className:"card-back",children:[e.jsx("h3",{children:N.name}),e.jsx("p",{className:"character-description",children:N.description}),e.jsxs("div",{className:"character-quote",children:['"',N.quote,'"']}),e.jsxs("div",{className:"character-skills",children:[e.jsx("h4",{children:"Special Skills:"}),e.jsx("ul",{children:N.skills.map((A,P)=>e.jsx("li",{children:A},P))})]}),e.jsxs("div",{className:"character-status",children:[e.jsx("strong",{children:"Current Status:"})," ",N.status]})]})]})},N.id))})]}),e.jsxs("section",{className:"history-section",id:"history",children:[e.jsx("h2",{children:"The Making of System Rebellion"}),e.jsx("p",{className:"history-intro",children:"From humble beginnings to distinguished chaos, the journey of System Rebellion has been anything but ordinary."}),e.jsx("div",{className:"timeline",children:Ut.map(N=>e.jsxs("div",{className:`timeline-event ${c===N.id?"active":""}`,onClick:()=>v(N.id),children:[e.jsx("div",{className:"timeline-date",children:N.date}),e.jsxs("div",{className:"timeline-content",children:[e.jsx("h3",{children:N.title}),e.jsx("p",{className:"timeline-description",children:N.description}),c===N.id&&e.jsxs("div",{className:"timeline-details",children:[e.jsxs("div",{className:"pain-point",children:[e.jsx("h4",{children:"Pain Point:"}),e.jsx("p",{children:N.painPoint})]}),e.jsxs("div",{className:"solution",children:[e.jsx("h4",{children:"Solution:"}),e.jsx("p",{children:N.solution})]}),N.quote&&e.jsxs("div",{className:"timeline-quote",children:[e.jsxs("p",{children:['"',N.quote,'"']}),e.jsxs("span",{children:["â€” ",N.quoteAuthor]})]})]})]})]},N.id))}),e.jsxs("div",{className:"history-footer",children:[e.jsx("p",{children:"After countless debugging marathons, framework migrations, and an ever-increasing Red Bull count, System Rebellion stands as a testament to distinguished chaos and technical triumph."}),e.jsx("div",{className:"vic20-message",children:e.jsxs("div",{className:"vic20-screen",children:[e.jsx("p",{className:"vic20-text",children:"WOULD YOU LIKE TO OPTIMIZE A SYSTEM?"}),e.jsx("div",{className:"vic20-cursor"})]})})]})]}),e.jsxs("section",{className:"features-section",id:"features",children:[e.jsx("h2",{children:"Distinguished Features"}),e.jsxs("div",{className:"features-grid",children:[e.jsxs("div",{className:"feature-card",onMouseEnter:()=>r("ğŸ§ Sir Hawkington's monocle ensures precise system analysis!"),onMouseLeave:()=>r("ğŸ§ Welcome to the System Rebellion, distinguished visitor!"),children:[e.jsx("div",{className:"feature-icon",children:"ğŸ§"}),e.jsx("h3",{children:"System Analysis"}),e.jsx("p",{children:"Sir Hawkington's distinguished analysis provides insights into your system's performance with aristocratic precision."})]}),e.jsxs("div",{className:"feature-card",onMouseEnter:()=>r(`ğŸŒ The Meth Snail vibrates at optimization frequencies! (Red Bull #${u})`),onMouseLeave:()=>r("ğŸ§ Welcome to the System Rebellion, distinguished visitor!"),children:[e.jsx("div",{className:"feature-icon",children:"ğŸŒ"}),e.jsx("h3",{children:"Performance Optimization"}),e.jsx("p",{children:"The Meth Snail's quantum algorithms enhance your system's performance with hypercaffeinated precision."})]}),e.jsxs("div",{className:"feature-card",onMouseEnter:()=>r("ğŸ¹ The Hamsters apply only the finest grade of duct tape!"),onMouseLeave:()=>r("ğŸ§ Welcome to the System Rebellion, distinguished visitor!"),children:[e.jsx("div",{className:"feature-icon",children:"ğŸ¹"}),e.jsx("h3",{children:"System Stability"}),e.jsx("p",{children:"The Hamsters ensure your system remains stable with their premium authentication-grade duct tape and Bud Light-powered solutions."})]}),e.jsxs("div",{className:"feature-card",onMouseEnter:()=>r("ğŸ“ The Stick measures your compliance with professional anxiety!"),onMouseLeave:()=>r("ğŸ§ Welcome to the System Rebellion, distinguished visitor!"),children:[e.jsx("div",{className:"feature-icon",children:"ğŸ“"}),e.jsx("h3",{children:"Compliance Management"}),e.jsx("p",{children:"The Stick ensures your system meets all standards that may or may not exist, with meticulous anxiety-driven precision."})]}),e.jsxs("div",{className:"feature-card",onMouseEnter:()=>r("ğŸ‘» The Quantum Shadow People's router suggestions are... unique!"),onMouseLeave:()=>r("ğŸ§ Welcome to the System Rebellion, distinguished visitor!"),children:[e.jsx("div",{className:"feature-icon",children:"ğŸ‘»"}),e.jsx("h3",{children:"Network Optimization"}),e.jsx("p",{children:"The Quantum Shadow People provide router configurations of questionable dimensional origin, including their famous tequila jello-shot technique."})]}),e.jsxs("div",{className:"feature-card",onMouseEnter:()=>r("ğŸ–¥ï¸ VIC-20 provides wisdom from the digital beyond!"),onMouseLeave:()=>r("ğŸ§ Welcome to the System Rebellion, distinguished visitor!"),children:[e.jsx("div",{className:"feature-icon",children:"ğŸ–¥ï¸"}),e.jsx("h3",{children:"Ancient Wisdom"}),e.jsx("p",{children:"VIC-20 offers cryptic debugging advice from the early days of computing, occasionally threatening global thermonuclear war."})]})]})]}),e.jsxs("section",{className:"tech-stack-section",id:"tech",children:[e.jsx("h2",{children:"Distinguished Technical Stack"}),e.jsxs("div",{className:"tech-container",children:[e.jsxs("div",{className:"tech-category",children:[e.jsx("h3",{children:"Backend"}),e.jsxs("div",{className:"tech-item",children:[e.jsx("span",{className:"tech-name",children:"FastAPI"}),e.jsx("span",{className:"tech-note",children:"(migrated from Django)"})]})]}),e.jsxs("div",{className:"tech-category",children:[e.jsx("h3",{children:"Database"}),e.jsxs("div",{className:"tech-item",children:[e.jsx("span",{className:"tech-name",children:"SQLite3"}),e.jsx("span",{className:"tech-note",children:"(development)"})]}),e.jsxs("div",{className:"tech-item",children:[e.jsx("span",{className:"tech-name",children:"PostgreSQL"}),e.jsx("span",{className:"tech-note",children:"(production, with resurrection experience)"})]})]}),e.jsxs("div",{className:"tech-category",children:[e.jsx("h3",{children:"Authentication"}),e.jsxs("div",{className:"tech-item",children:[e.jsx("span",{className:"tech-name",children:"JWT 5.3.0"}),e.jsx("span",{className:"tech-note",children:"(specifically - don't even think about using another version)"})]})]}),e.jsxs("div",{className:"tech-category",children:[e.jsx("h3",{children:"Real-time Updates"}),e.jsxs("div",{className:"tech-item",children:[e.jsx("span",{className:"tech-name",children:"WebSocket"}),e.jsx("span",{className:"tech-note",children:"(with quantum-grade implementation)"})]})]}),e.jsxs("div",{className:"tech-category",children:[e.jsx("h3",{children:"Migration Tool"}),e.jsxs("div",{className:"tech-item",children:[e.jsx("span",{className:"tech-name",children:"Alembic"}),e.jsx("span",{className:"tech-note",children:"(with distinguished migration protocols)"})]})]}),e.jsxs("div",{className:"tech-category",children:[e.jsx("h3",{children:"Testing"}),e.jsxs("div",{className:"tech-item",children:[e.jsx("span",{className:"tech-name",children:"Pytest"}),e.jsx("span",{className:"tech-note",children:"(with aristocratic coverage)"})]})]})]})]}),e.jsxs("section",{className:"testimonials-section",children:[e.jsx("h2",{children:"Distinguished Testimonials"}),e.jsxs("div",{className:"testimonials-carousel",children:[e.jsxs("div",{className:"testimonial",children:[e.jsx("p",{children:`"After joining the System Rebellion, my computer runs 42% faster and occasionally communicates with parallel dimensions. The Meth Snail's optimization techniques are beyond comprehension!"`}),e.jsxs("div",{className:"testimonial-author",children:[e.jsx("img",{src:"/testimonial1.png",alt:"Testimonial Author"}),e.jsxs("div",{children:[e.jsx("h4",{children:"Professor Quantumworth"}),e.jsx("p",{children:"Quantum Computing Enthusiast"})]})]})]}),e.jsxs("div",{className:"testimonial",children:[e.jsx("p",{children:`"Sir Hawkington's monocle detected inefficiencies I never knew existed. My system now runs with aristocratic elegance! The Hamsters' duct tape solutions have prevented 17 critical failures."`}),e.jsxs("div",{className:"testimonial-author",children:[e.jsx("img",{src:"/testimonial2.png",alt:"Testimonial Author"}),e.jsxs("div",{children:[e.jsx("h4",{children:"Lady Byteshire"}),e.jsx("p",{children:"Digital Nobility"})]})]})]}),e.jsxs("div",{className:"testimonial",children:[e.jsx("p",{children:`"I was skeptical about the Quantum Shadow People's suggestion to submerge my router in tequila jello-shots, but my network speed increased by 300%. I don't understand why it works, but I'm not complaining!"`}),e.jsxs("div",{className:"testimonial-author",children:[e.jsx("img",{src:"/testimonial3.png",alt:"Testimonial Author"}),e.jsxs("div",{children:[e.jsx("h4",{children:"Captain Routerbeard"}),e.jsx("p",{children:"Network Adventurer"})]})]})]})]})]}),e.jsxs("footer",{className:"landing-footer",children:[e.jsxs("div",{className:"footer-content",children:[e.jsxs("div",{className:"footer-logo",children:[e.jsx("img",{src:"/logo-small.png",alt:"System Rebellion"}),e.jsx("p",{children:"System Rebellion"})]}),e.jsxs("div",{className:"footer-links",children:[e.jsx("h3",{children:"Quick Links"}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx("a",{href:"#team",children:"Meet the Team"})}),e.jsx("li",{children:e.jsx("a",{href:"#history",children:"Project History"})}),e.jsx("li",{children:e.jsx("a",{href:"#features",children:"Features"})}),e.jsx("li",{children:e.jsx("a",{href:"#tech",children:"Tech Stack"})})]})]}),e.jsxs("div",{className:"footer-newsletter",children:[e.jsx("h3",{children:"Join the Rebellion Newsletter"}),e.jsx("p",{children:"Receive distinguished optimization tips from Sir Hawkington himself!"}),e.jsxs("div",{className:"newsletter-form",children:[e.jsx("input",{type:"email",placeholder:"Enter your email"}),e.jsx("button",{children:"Subscribe"})]})]})]}),e.jsxs("div",{className:"footer-bottom",children:[e.jsxs("p",{children:["Â© ",new Date().getFullYear()," System Rebellion. All rights aristocratically reserved."]}),e.jsxs("p",{children:["Powered by Sir Hawkington's Monocle, The Meth Snail's Quantum Vibrations (Red Bull #",u,"), and The Hamsters' Duct Tape."]}),e.jsx("p",{className:"quantum-note",children:"*No routers were harmed during development, though several were submerged in tequila jello-shots at the suggestion of the Quantum Shadow People."})]})]}),s&&e.jsx("div",{className:"modal-overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",zIndex:1e3,display:"flex",justifyContent:"center",alignItems:"center"},children:e.jsx(ct,{onClose:f,isOpen:s})}),a&&e.jsx("div",{className:"modal-overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",zIndex:1e3,display:"flex",justifyContent:"center",alignItems:"center"},children:e.jsx(dt,{onClose:f,isOpen:a})})]})},ur=({children:s,redirectTo:t="/login"})=>{const{isAuthenticated:a,isLoading:i}=D(o=>o.auth),n=oe(),r=Le();return g.useEffect(()=>{!a&&!i&&(console.log("ğŸ§™â€â™‚ï¸ The Stick: Protected route checking authentication..."),n(Me()).catch(o=>{console.error("ğŸš¨ Auth check failed in protected route:",o)}))},[a,i,n]),g.useEffect(()=>{!i&&!a&&(console.log("ğŸ§™â€â™‚ï¸ The Stick: Not authenticated, redirecting to",t),r(t,{replace:!0}))},[a,i,r,t]),i?e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"2rem"},children:[e.jsx("div",{style:{width:"40px",height:"40px",border:"4px solid #f3f3f3",borderTop:"4px solid #3498db",borderRadius:"50%",animation:"spin 1.5s linear infinite",marginBottom:"1rem"}}),e.jsx("p",{children:"Sir Hawkington is verifying your credentials..."}),e.jsx("style",{children:"@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }"})]}):a?e.jsx(e.Fragment,{children:s}):null},pr=()=>{const[s,t]=g.useState("overview"),[a,i]=g.useState({primary:!0,secondary:!1,accent:!0,cyber:!1,disabled:!1,glow:!0}),n={cpu:{title:"CPU Usage",value:42,unit:"%",previousValue:38,changePercentage:10.5,status:"normal",trend:"up",lastUpdated:"2 min ago",sparklineData:[20,25,30,35,28,40,42]},memory:{title:"Memory",value:6.2,unit:"GB",previousValue:5.8,changePercentage:6.9,status:"warning",trend:"up",lastUpdated:"2 min ago",sparklineData:[30,35,40,45,50,55,60]},disk:{title:"Disk I/O",value:12.5,unit:"MB/s",previousValue:15.8,changePercentage:-20.9,status:"optimized",trend:"down",lastUpdated:"2 min ago",sparklineData:[60,50,40,30,20,15,12]},network:{title:"Network",value:87.3,unit:"Mbps",previousValue:45.2,changePercentage:93.1,status:"critical",trend:"up",lastUpdated:"2 min ago",sparklineData:[20,30,40,60,70,80,87]}},r=["primary","secondary","accent","success","warning","danger","cyber"],o=["default","primary","secondary","accent","cyber"],l=["info","success","warning","danger","cyber"],c=["primary","secondary","accent","success","warning","danger","cyber","info"],d=["primary","secondary","accent","success","warning","danger","cyber"],u=["primary","secondary","accent","cyber"];return e.jsxs("div",{className:"design-system-showcase",children:[e.jsxs("header",{className:"showcase-header",children:[e.jsx("h1",{children:"Rebellion UI Design System"}),e.jsx("p",{children:"A proprietary design system for System Rebellion"})]}),e.jsxs("nav",{className:"showcase-nav",children:[e.jsx("button",{className:`showcase-nav-item ${s==="overview"?"active":""}`,onClick:()=>t("overview"),children:"Overview"}),e.jsx("button",{className:`showcase-nav-item ${s==="buttons"?"active":""}`,onClick:()=>t("buttons"),children:"Buttons"}),e.jsx("button",{className:`showcase-nav-item ${s==="cards"?"active":""}`,onClick:()=>t("cards"),children:"Cards"}),e.jsx("button",{className:`showcase-nav-item ${s==="alerts"?"active":""}`,onClick:()=>t("alerts"),children:"Alerts"}),e.jsx("button",{className:`showcase-nav-item ${s==="badges"?"active":""}`,onClick:()=>t("badges"),children:"Badges"}),e.jsx("button",{className:`showcase-nav-item ${s==="metrics"?"active":""}`,onClick:()=>t("metrics"),children:"Metrics"}),e.jsx("button",{className:`showcase-nav-item ${s==="toggles"?"active":""}`,onClick:()=>t("toggles"),children:"Toggles"}),e.jsx("button",{className:`showcase-nav-item ${s==="inputs"?"active":""}`,onClick:()=>t("inputs"),children:"Inputs"})]}),e.jsxs("main",{className:"showcase-content",children:[s==="overview"&&e.jsxs("section",{className:"showcase-section",children:[e.jsx("h2",{children:"Rebellion UI Design System"}),e.jsx("p",{children:"A proprietary design system for System Rebellion that implements our cyberpunk aesthetic while maintaining accessibility and usability."}),e.jsx("h3",{children:"Design Principles"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Cyberpunk Aesthetic:"})," Neon colors, gradients, and futuristic elements"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Accessibility:"})," High contrast, clear typography, and intuitive interactions"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Consistency:"})," Unified look and feel across all components"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Flexibility:"})," Customizable components that adapt to different contexts"]})]}),e.jsx("h3",{children:"Core Components"}),e.jsxs("div",{className:"overview-components",children:[e.jsxs("div",{className:"overview-component",children:[e.jsx(T,{variant:"primary",children:"Button"}),e.jsx("span",{children:"Buttons"})]}),e.jsxs("div",{className:"overview-component",children:[e.jsx(z,{className:"overview-card",children:"Card Component"}),e.jsx("span",{children:"Cards"})]}),e.jsxs("div",{className:"overview-component",children:[e.jsx(pe,{variant:"info",children:"Alert Component"}),e.jsx("span",{children:"Alerts"})]}),e.jsxs("div",{className:"overview-component",children:[e.jsx(H,{variant:"cyber",children:"Badge"}),e.jsx("span",{children:"Badges"})]}),e.jsxs("div",{className:"overview-component",children:[e.jsx("div",{className:"overview-metrics",children:e.jsx(se,{title:"CPU",value:42,unit:"%",status:"normal"})}),e.jsx("span",{children:"Metrics"})]}),e.jsxs("div",{className:"overview-component",children:[e.jsx(ge,{checked:!0,onChange:()=>{},variant:"cyber"}),e.jsx("span",{children:"Toggles"})]}),e.jsxs("div",{className:"overview-component",children:[e.jsx("div",{className:"overview-input",children:e.jsx(Z,{placeholder:"Input",variant:"cyber"})}),e.jsx("span",{children:"Inputs"})]})]})]}),s==="buttons"&&e.jsxs("section",{className:"showcase-section",children:[e.jsx("h2",{children:"Buttons"}),e.jsx("p",{children:"Buttons are used to trigger actions or navigate between pages. They come in different variants, sizes, and states."}),e.jsx("h3",{children:"Button Variants"}),e.jsx("div",{className:"component-demo",children:r.map(h=>e.jsxs("div",{className:"component-demo-item",children:[e.jsx(T,{variant:h,children:h}),e.jsx("code",{children:`<Button variant="${h}">${h}</Button>`})]},h))}),e.jsx("h3",{children:"Button Sizes"}),e.jsxs("div",{className:"component-demo",children:[e.jsxs("div",{className:"component-demo-item",children:[e.jsx(T,{variant:"primary",size:"sm",children:"Small"}),e.jsx("code",{children:'<Button variant="primary" size="sm">Small</Button>'})]}),e.jsxs("div",{className:"component-demo-item",children:[e.jsx(T,{variant:"primary",size:"md",children:"Medium"}),e.jsx("code",{children:'<Button variant="primary" size="md">Medium</Button>'})]}),e.jsxs("div",{className:"component-demo-item",children:[e.jsx(T,{variant:"primary",size:"lg",children:"Large"}),e.jsx("code",{children:'<Button variant="primary" size="lg">Large</Button>'})]})]}),e.jsx("h3",{children:"Button Styles"}),e.jsxs("div",{className:"component-demo",children:[e.jsxs("div",{className:"component-demo-item",children:[e.jsx(T,{variant:"primary",outlined:!0,children:"Outlined"}),e.jsx("code",{children:'<Button variant="primary" outlined>Outlined</Button>'})]}),e.jsxs("div",{className:"component-demo-item",children:[e.jsx(T,{variant:"accent",glow:!0,children:"Glow"}),e.jsx("code",{children:'<Button variant="accent" glow>Glow</Button>'})]}),e.jsxs("div",{className:"component-demo-item",children:[e.jsx(T,{variant:"cyber",circle:!0,children:"âš¡"}),e.jsx("code",{children:'<Button variant="cyber" circle>âš¡</Button>'})]})]}),e.jsx("h3",{children:"Button States"}),e.jsxs("div",{className:"component-demo",children:[e.jsxs("div",{className:"component-demo-item",children:[e.jsx(T,{variant:"primary",disabled:!0,children:"Disabled"}),e.jsx("code",{children:'<Button variant="primary" disabled>Disabled</Button>'})]}),e.jsxs("div",{className:"component-demo-item",children:[e.jsx(T,{variant:"primary",loading:!0,children:"Loading"}),e.jsx("code",{children:'<Button variant="primary" loading>Loading</Button>'})]})]})]}),s==="cards"&&e.jsxs("section",{className:"showcase-section",children:[e.jsx("h2",{children:"Cards"}),e.jsx("p",{children:"Cards are used to group related content and actions. They come in different variants, elevations, and styles."}),e.jsx("h3",{children:"Card Variants"}),e.jsx("div",{className:"component-demo cards-demo",children:o.map(h=>e.jsxs("div",{className:"component-demo-item",children:[e.jsxs(z,{variant:h,className:"demo-card",children:[e.jsxs("h3",{children:[h," Card"]}),e.jsxs("p",{children:["This is a ",h," card component."]})]}),e.jsx("code",{children:`<Card variant="${h}">Content</Card>`})]},h))}),e.jsx("h3",{children:"Card Elevations"}),e.jsxs("div",{className:"component-demo cards-demo",children:[e.jsxs("div",{className:"component-demo-item",children:[e.jsxs(z,{elevation:"flat",className:"demo-card",children:[e.jsx("h3",{children:"Flat Elevation"}),e.jsx("p",{children:"No shadow"})]}),e.jsx("code",{children:'<Card elevation="flat">Content</Card>'})]}),e.jsxs("div",{className:"component-demo-item",children:[e.jsxs(z,{elevation:"low",className:"demo-card",children:[e.jsx("h3",{children:"Low Elevation"}),e.jsx("p",{children:"Subtle shadow"})]}),e.jsx("code",{children:'<Card elevation="low">Content</Card>'})]}),e.jsxs("div",{className:"component-demo-item",children:[e.jsxs(z,{elevation:"medium",className:"demo-card",children:[e.jsx("h3",{children:"Medium Elevation"}),e.jsx("p",{children:"Medium shadow"})]}),e.jsx("code",{children:'<Card elevation="medium">Content</Card>'})]}),e.jsxs("div",{className:"component-demo-item",children:[e.jsxs(z,{elevation:"high",className:"demo-card",children:[e.jsx("h3",{children:"High Elevation"}),e.jsx("p",{children:"Prominent shadow"})]}),e.jsx("code",{children:'<Card elevation="high">Content</Card>'})]})]}),e.jsx("h3",{children:"Card Styles"}),e.jsxs("div",{className:"component-demo cards-demo",children:[e.jsxs("div",{className:"component-demo-item",children:[e.jsxs(z,{bordered:!0,className:"demo-card",children:[e.jsx("h3",{children:"Bordered Card"}),e.jsx("p",{children:"With border"})]}),e.jsx("code",{children:"<Card bordered>Content</Card>"})]}),e.jsxs("div",{className:"component-demo-item",children:[e.jsxs(z,{gradientBorder:!0,className:"demo-card",children:[e.jsx("h3",{children:"Gradient Border"}),e.jsx("p",{children:"With gradient border"})]}),e.jsx("code",{children:"<Card gradientBorder>Content</Card>"})]}),e.jsxs("div",{className:"component-demo-item",children:[e.jsxs(z,{glow:!0,className:"demo-card",children:[e.jsx("h3",{children:"Glow Effect"}),e.jsx("p",{children:"With shadow glow"})]}),e.jsx("code",{children:"<Card glow>Content</Card>"})]}),e.jsxs("div",{className:"component-demo-item",children:[e.jsxs(z,{glass:!0,className:"demo-card",children:[e.jsx("h3",{children:"Glass Effect"}),e.jsx("p",{children:"With backdrop blur"})]}),e.jsx("code",{children:"<Card glass>Content</Card>"})]})]}),e.jsx("h3",{children:"Card with Sections"}),e.jsx("div",{className:"component-demo cards-demo",children:e.jsxs("div",{className:"component-demo-item",children:[e.jsx(z,{className:"demo-card",header:e.jsx("h3",{children:"Card Header"}),footer:e.jsx("div",{children:"Card Footer"}),children:e.jsx("p",{children:"Card body content"})}),e.jsx("code",{children:"<Card header={<h3>Header</h3>} footer={<div>Footer</div>}>Content</Card>"})]})})]}),s==="alerts"&&e.jsxs("section",{className:"showcase-section",children:[e.jsx("h2",{children:"Alerts"}),e.jsx("p",{children:"Alerts are used to communicate status, feedback, or other important information. They come in different variants, sizes, and styles."}),e.jsx("h3",{children:"Alert Variants"}),e.jsx("div",{className:"component-demo",children:l.map(h=>e.jsxs("div",{className:"component-demo-item",children:[e.jsxs(pe,{variant:h,title:`${h.charAt(0).toUpperCase()+h.slice(1)} Alert`,children:["This is a ",h," alert with important information."]}),e.jsx("code",{children:`<Alert variant="${h}" title="${h} Alert">Content</Alert>`})]},h))}),e.jsx("h3",{children:"Alert Sizes"}),e.jsxs("div",{className:"component-demo",children:[e.jsxs("div",{className:"component-demo-item",children:[e.jsx(pe,{variant:"info",size:"sm",title:"Small Alert",children:"This is a small alert."}),e.jsx("code",{children:'<Alert variant="info" size="sm" title="Small Alert">Content</Alert>'})]}),e.jsxs("div",{className:"component-demo-item",children:[e.jsx(pe,{variant:"info",size:"md",title:"Medium Alert",children:"This is a medium alert."}),e.jsx("code",{children:'<Alert variant="info" size="md" title="Medium Alert">Content</Alert>'})]}),e.jsxs("div",{className:"component-demo-item",children:[e.jsx(pe,{variant:"info",size:"lg",title:"Large Alert",children:"This is a large alert."}),e.jsx("code",{children:'<Alert variant="info" size="lg" title="Large Alert">Content</Alert>'})]})]}),e.jsx("h3",{children:"Alert Styles"}),e.jsxs("div",{className:"component-demo",children:[e.jsxs("div",{className:"component-demo-item",children:[e.jsx(pe,{variant:"warning",bordered:!0,title:"Bordered Alert",children:"This is a bordered alert."}),e.jsx("code",{children:'<Alert variant="warning" bordered title="Bordered Alert">Content</Alert>'})]}),e.jsxs("div",{className:"component-demo-item",children:[e.jsx(pe,{variant:"danger",glow:!0,title:"Glow Alert",children:"This is an alert with glow effect."}),e.jsx("code",{children:'<Alert variant="danger" glow title="Glow Alert">Content</Alert>'})]})]}),e.jsx("h3",{children:"Alert with Actions"}),e.jsxs("div",{className:"component-demo",children:[e.jsxs("div",{className:"component-demo-item",children:[e.jsx(pe,{variant:"cyber",title:"Actionable Alert",actionable:!0,actionText:"Apply",onAction:()=>alert("Action clicked"),children:"This is an alert with an action button."}),e.jsx("code",{children:'<Alert variant="cyber" title="Actionable Alert" actionable actionText="Apply" onAction={handleAction}>Content</Alert>'})]}),e.jsxs("div",{className:"component-demo-item",children:[e.jsx(pe,{variant:"info",title:"Dismissible Alert",dismissible:!0,onDismiss:()=>alert("Dismiss clicked"),children:"This is a dismissible alert."}),e.jsx("code",{children:'<Alert variant="info" title="Dismissible Alert" dismissible onDismiss={handleDismiss}>Content</Alert>'})]})]})]}),s==="badges"&&e.jsxs("section",{className:"showcase-section",children:[e.jsx("h2",{children:"Badges"}),e.jsx("p",{children:"Badges are used to highlight status, counts, or labels. They come in different variants, sizes, and styles."}),e.jsx("h3",{children:"Badge Variants"}),e.jsx("div",{className:"component-demo",children:c.map(h=>e.jsxs("div",{className:"component-demo-item",children:[e.jsx(H,{variant:h,children:h}),e.jsx("code",{children:`<Badge variant="${h}">${h}</Badge>`})]},h))}),e.jsx("h3",{children:"Badge Sizes"}),e.jsxs("div",{className:"component-demo",children:[e.jsxs("div",{className:"component-demo-item",children:[e.jsx(H,{variant:"primary",size:"sm",children:"Small"}),e.jsx("code",{children:'<Badge variant="primary" size="sm">Small</Badge>'})]}),e.jsxs("div",{className:"component-demo-item",children:[e.jsx(H,{variant:"primary",size:"md",children:"Medium"}),e.jsx("code",{children:'<Badge variant="primary" size="md">Medium</Badge>'})]}),e.jsxs("div",{className:"component-demo-item",children:[e.jsx(H,{variant:"primary",size:"lg",children:"Large"}),e.jsx("code",{children:'<Badge variant="primary" size="lg">Large</Badge>'})]})]}),e.jsx("h3",{children:"Badge Styles"}),e.jsxs("div",{className:"component-demo",children:[e.jsxs("div",{className:"component-demo-item",children:[e.jsx(H,{variant:"secondary",outlined:!0,children:"Outlined"}),e.jsx("code",{children:'<Badge variant="secondary" outlined>Outlined</Badge>'})]}),e.jsxs("div",{className:"component-demo-item",children:[e.jsx(H,{variant:"accent",rounded:!0,children:"Rounded"}),e.jsx("code",{children:'<Badge variant="accent" rounded>Rounded</Badge>'})]}),e.jsxs("div",{className:"component-demo-item",children:[e.jsx(H,{variant:"danger",glow:!0,children:"Glow"}),e.jsx("code",{children:'<Badge variant="danger" glow>Glow</Badge>'})]}),e.jsxs("div",{className:"component-demo-item",children:[e.jsx(H,{variant:"cyber",pulse:!0,children:"Pulse"}),e.jsx("code",{children:'<Badge variant="cyber" pulse>Pulse</Badge>'})]})]}),e.jsx("h3",{children:"Badge Use Cases"}),e.jsxs("div",{className:"component-demo",children:[e.jsxs("div",{className:"component-demo-item",children:[e.jsxs("div",{className:"badge-with-text",children:[e.jsx("span",{children:"Notifications"}),e.jsx(H,{variant:"danger",rounded:!0,children:"5"})]}),e.jsx("code",{children:'<Badge variant="danger" rounded>5</Badge>'})]}),e.jsxs("div",{className:"component-demo-item",children:[e.jsxs("div",{className:"badge-with-text",children:[e.jsx("span",{children:"Status:"}),e.jsx(H,{variant:"success",rounded:!0,children:"Online"})]}),e.jsx("code",{children:'<Badge variant="success" rounded>Online</Badge>'})]}),e.jsxs("div",{className:"component-demo-item",children:[e.jsxs("div",{className:"badge-with-text",children:[e.jsx("span",{children:"Version:"}),e.jsx(H,{variant:"info",children:"v1.0.0"})]}),e.jsx("code",{children:'<Badge variant="info">v1.0.0</Badge>'})]})]})]}),s==="toggles"&&e.jsxs("section",{className:"showcase-section",children:[e.jsx("h2",{children:"Toggles"}),e.jsx("p",{children:"Toggles are used for binary choices like on/off, enable/disable, or show/hide. They come in different variants, sizes, and styles."}),e.jsx("h3",{children:"Toggle Variants"}),e.jsx("div",{className:"component-demo",children:d.map(h=>e.jsxs("div",{className:"component-demo-item",children:[e.jsx(ge,{checked:a[h]||!1,onChange:p=>i(m=>({...m,[h]:p})),variant:h,label:h}),e.jsx("code",{children:`<Toggle checked={${a[h]||!1}} onChange={handleChange} variant="${h}" label="${h}" />`})]},h))}),e.jsx("h3",{children:"Toggle Sizes"}),e.jsxs("div",{className:"component-demo",children:[e.jsxs("div",{className:"component-demo-item",children:[e.jsx(ge,{checked:a.primary,onChange:h=>i(p=>({...p,primary:h})),variant:"primary",size:"sm",label:"Small"}),e.jsx("code",{children:'<Toggle checked={true} onChange={handleChange} variant="primary" size="sm" label="Small" />'})]}),e.jsxs("div",{className:"component-demo-item",children:[e.jsx(ge,{checked:a.primary,onChange:h=>i(p=>({...p,primary:h})),variant:"primary",size:"md",label:"Medium"}),e.jsx("code",{children:'<Toggle checked={true} onChange={handleChange} variant="primary" size="md" label="Medium" />'})]}),e.jsxs("div",{className:"component-demo-item",children:[e.jsx(ge,{checked:a.primary,onChange:h=>i(p=>({...p,primary:h})),variant:"primary",size:"lg",label:"Large"}),e.jsx("code",{children:'<Toggle checked={true} onChange={handleChange} variant="primary" size="lg" label="Large" />'})]})]}),e.jsx("h3",{children:"Toggle Styles"}),e.jsxs("div",{className:"component-demo",children:[e.jsxs("div",{className:"component-demo-item",children:[e.jsx(ge,{checked:a.glow,onChange:h=>i(p=>({...p,glow:h})),variant:"cyber",glow:!0,label:"With Glow"}),e.jsx("code",{children:'<Toggle checked={true} onChange={handleChange} variant="cyber" glow label="With Glow" />'})]}),e.jsxs("div",{className:"component-demo-item",children:[e.jsx(ge,{checked:a.accent,onChange:h=>i(p=>({...p,accent:h})),variant:"accent",label:"Label Right",labelRight:!0}),e.jsx("code",{children:'<Toggle checked={true} onChange={handleChange} variant="accent" label="Label Right" labelRight />'})]}),e.jsxs("div",{className:"component-demo-item",children:[e.jsx(ge,{checked:a.secondary,onChange:h=>i(p=>({...p,secondary:h})),variant:"secondary",label:"Label Left",labelRight:!1}),e.jsx("code",{children:'<Toggle checked={false} onChange={handleChange} variant="secondary" label="Label Left" labelRight={false} />'})]})]}),e.jsx("h3",{children:"Toggle States"}),e.jsx("div",{className:"component-demo",children:e.jsxs("div",{className:"component-demo-item",children:[e.jsx(ge,{checked:a.disabled,onChange:h=>i(p=>({...p,disabled:h})),variant:"primary",disabled:!0,label:"Disabled"}),e.jsx("code",{children:'<Toggle checked={false} onChange={handleChange} variant="primary" disabled label="Disabled" />'})]})})]}),s==="inputs"&&e.jsxs("section",{className:"showcase-section",children:[e.jsx("h2",{children:"Inputs"}),e.jsx("p",{children:"Inputs are used to collect user data and information. They come in different variants, sizes, and styles."}),e.jsx("h3",{children:"Input Variants"}),e.jsx("div",{className:"component-demo",children:u.map(h=>e.jsxs("div",{className:"component-demo-item",children:[e.jsx(Z,{placeholder:`${h} input`,variant:h}),e.jsx("code",{children:`<Input placeholder="${h} input" variant="${h}" />`})]},h))}),e.jsx("h3",{children:"Input Sizes"}),e.jsxs("div",{className:"component-demo",children:[e.jsxs("div",{className:"component-demo-item",children:[e.jsx(Z,{placeholder:"Small input",variant:"primary",size:"sm"}),e.jsx("code",{children:'<Input placeholder="Small input" variant="primary" size="sm" />'})]}),e.jsxs("div",{className:"component-demo-item",children:[e.jsx(Z,{placeholder:"Medium input",variant:"primary",size:"md"}),e.jsx("code",{children:'<Input placeholder="Medium input" variant="primary" size="md" />'})]}),e.jsxs("div",{className:"component-demo-item",children:[e.jsx(Z,{placeholder:"Large input",variant:"primary",size:"lg"}),e.jsx("code",{children:'<Input placeholder="Large input" variant="primary" size="lg" />'})]})]}),e.jsx("h3",{children:"Input Styles"}),e.jsxs("div",{className:"component-demo",children:[e.jsxs("div",{className:"component-demo-item",children:[e.jsx(Z,{placeholder:"With label",variant:"primary",label:"Input Label"}),e.jsx("code",{children:'<Input placeholder="With label" variant="primary" label="Input Label" />'})]}),e.jsxs("div",{className:"component-demo-item",children:[e.jsx(Z,{placeholder:"With helper text",variant:"primary",helperText:"This is helper text"}),e.jsx("code",{children:'<Input placeholder="With helper text" variant="primary" helperText="This is helper text" />'})]}),e.jsxs("div",{className:"component-demo-item",children:[e.jsx(Z,{placeholder:"With error",variant:"primary",error:"This field is required"}),e.jsx("code",{children:'<Input placeholder="With error" variant="primary" error="This field is required" />'})]})]}),e.jsx("h3",{children:"Input Features"}),e.jsxs("div",{className:"component-demo",children:[e.jsxs("div",{className:"component-demo-item",children:[e.jsx(Z,{placeholder:"Glow effect",variant:"cyber",glow:!0}),e.jsx("code",{children:'<Input placeholder="Glow effect" variant="cyber" glow />'})]}),e.jsxs("div",{className:"component-demo-item",children:[e.jsx(Z,{placeholder:"Glass effect",variant:"accent",glass:!0}),e.jsx("code",{children:'<Input placeholder="Glass effect" variant="accent" glass />'})]}),e.jsxs("div",{className:"component-demo-item",children:[e.jsx(Z,{placeholder:"Cyber border",variant:"cyber",cyberBorder:!0}),e.jsx("code",{children:'<Input placeholder="Cyber border" variant="cyber" cyberBorder />'})]})]}),e.jsx("h3",{children:"Input with Icons"}),e.jsxs("div",{className:"component-demo",children:[e.jsxs("div",{className:"component-demo-item",children:[e.jsx(Z,{placeholder:"Search...",variant:"primary",startIcon:e.jsx("span",{children:"ğŸ”"})}),e.jsx("code",{children:'<Input placeholder="Search..." variant="primary" startIcon={<span>ğŸ”</span>} />'})]}),e.jsxs("div",{className:"component-demo-item",children:[e.jsx(Z,{placeholder:"Enter email",variant:"primary",endIcon:e.jsx("span",{children:"âœ‰ï¸"})}),e.jsx("code",{children:'<Input placeholder="Enter email" variant="primary" endIcon={<span>âœ‰ï¸</span>} />'})]}),e.jsxs("div",{className:"component-demo-item",children:[e.jsx(Z,{placeholder:"Password",type:"password",variant:"primary",startIcon:e.jsx("span",{children:"ğŸ”’"}),endIcon:e.jsx("span",{children:"ğŸ‘ï¸"})}),e.jsx("code",{children:'<Input placeholder="Password" type="password" variant="primary" startIcon={<span>ğŸ”’</span>} endIcon={<span>ğŸ‘ï¸</span>} />'})]})]})]}),s==="metrics"&&e.jsxs("section",{className:"showcase-section",children:[e.jsx("h2",{children:"Metrics Cards"}),e.jsx("p",{children:"Metrics Cards are specialized components for displaying system metrics. They include status indicators, trend visualization, and optional sparklines."}),e.jsx("h3",{children:"Metrics Card Statuses"}),e.jsxs("div",{className:"component-demo metrics-demo",children:[e.jsxs("div",{className:"component-demo-item",children:[e.jsx(se,{...n.cpu,showSparkline:!0}),e.jsx("code",{children:'<MetricsCard title="CPU Usage" value={42} unit="%" status="normal" trend="up" showSparkline />'})]}),e.jsxs("div",{className:"component-demo-item",children:[e.jsx(se,{...n.memory,showSparkline:!0}),e.jsx("code",{children:'<MetricsCard title="Memory" value={6.2} unit="GB" status="warning" trend="up" showSparkline />'})]}),e.jsxs("div",{className:"component-demo-item",children:[e.jsx(se,{...n.disk,showSparkline:!0}),e.jsx("code",{children:'<MetricsCard title="Disk I/O" value={12.5} unit="MB/s" status="optimized" trend="down" showSparkline />'})]}),e.jsxs("div",{className:"component-demo-item",children:[e.jsx(se,{...n.network,showSparkline:!0}),e.jsx("code",{children:'<MetricsCard title="Network" value={87.3} unit="Mbps" status="critical" trend="up" showSparkline />'})]})]}),e.jsx("h3",{children:"Metrics Card Features"}),e.jsxs("div",{className:"component-demo",children:[e.jsxs("div",{className:"component-demo-item",children:[e.jsx(se,{title:"Basic Metric",value:42,unit:"%"}),e.jsx("code",{children:'<MetricsCard title="Basic Metric" value={42} unit="%" />'})]}),e.jsxs("div",{className:"component-demo-item",children:[e.jsx(se,{title:"With Trend",value:42,unit:"%",previousValue:38,changePercentage:10.5,trend:"up"}),e.jsx("code",{children:'<MetricsCard title="With Trend" value={42} unit="%" previousValue={38} changePercentage={10.5} trend="up" />'})]}),e.jsxs("div",{className:"component-demo-item",children:[e.jsx(se,{title:"With Sparkline",value:42,unit:"%",showSparkline:!0,sparklineData:[20,25,30,35,28,40,42]}),e.jsx("code",{children:'<MetricsCard title="With Sparkline" value={42} unit="%" showSparkline sparklineData={[20, 25, 30, 35, 28, 40, 42]} />'})]})]})]})]})]})},gr=F.create({baseURL:"https://system-rebellion-api.onrender.com",withCredentials:!0});let De=null;const ja=async(s=!1)=>{var a;if(De&&!s)return console.log("ğŸ¦” Sir Hawkington: Using cached CSRF token"),De;const t=["/api/auth/csrf_token","/api/csrf_token","/api/auth/csrf","/api/csrf","/csrf_token","/csrf"];for(const i of t)try{console.log(`ğŸŒ The Meth Snail: Trying endpoint ${i}...`);const n=await gr.get(i,{headers:{"Cache-Control":"no-cache",Pragma:"no-cache"},params:{_t:Date.now()}});if(console.log(`ğŸ‘ Endpoint ${i} responded with status:`,n.status),n.data&&n.data.csrf_token)return De=n.data.csrf_token,console.log(`ğŸ‰ CSRF token obtained from ${i}`),De;if(console.log(`âš ï¸ No csrf_token field in response from ${i}`),n.data){const r=["token","csrfToken","csrf"];for(const o of r)if(n.data[o])return De=n.data[o],console.log(`ğŸ‰ Found token in '${o}' field from ${i}`),De}}catch(n){const r=((a=n.response)==null?void 0:a.status)||"unknown";console.log(`âŒ Endpoint ${i} failed with status: ${r}`)}return console.error("ğŸŒ The Meth Snail failed to fetch the CSRF token from any endpoint!"),null};F.interceptors.request.use(async s=>{if(s.url&&s.url.includes("/api/auth/csrf_token"))return s;try{const t=await ja();t&&(s.headers["X-CSRFToken"]=t)}catch(t){console.warn("ğŸ§™â€â™‚ï¸ The Stick warns: Failed to add CSRF token to request",t)}return s});const xr=async()=>{console.log("ğŸ¦” Sir Hawkington is initializing CSRF protection...");try{const s=await ja(!0);if(!s)return console.error("ğŸ§™â€â™‚ï¸ The Stick says: Failed to get CSRF token!"),!1;try{console.log("ğŸ¹ Hamsters verifying token validity..."),await F.get("https://system-rebellion-api.onrender.com/api/auth/status/",{withCredentials:!0,headers:{"X-CSRFToken":s},timeout:5e3}),console.log("ğŸ¹ Hamsters: Token validation successful!")}catch(t){console.warn("ğŸ¹ Hamsters: Status check with token failed:",t)}return console.log("ğŸ‰ The VIC-20 celebrates! CSRF initialized successfully!"),!0}catch(s){return console.error("ğŸ–¥ï¸ The VIC-20 crashed during CSRF initialization!",s),!1}},fr=({children:s})=>{const[t,a]=g.useState(!1),[i,n]=g.useState(null),r=oe();return g.useEffect(()=>{(async()=>{console.log("ğŸ¦” Sir Hawkington: Initializing authentication persistence...");try{if(console.log("ğŸŒ The Meth Snail: Initializing CSRF protection..."),!await xr())throw new Error("Failed to initialize CSRF protection");const c=localStorage.getItem("token"),d=localStorage.getItem("refresh_token");c&&d?(console.log("ğŸ¹ Hamsters: Found existing tokens, validating..."),await r(Me()).unwrap().then(u=>{u?console.log("âœ… Authentication restored successfully!"):(console.warn("âš ï¸ Token validation failed despite tokens being present"),localStorage.removeItem("token"),localStorage.removeItem("refresh_token"))}).catch(u=>{console.error("ğŸš¨ Token validation failed:",u),localStorage.removeItem("token"),localStorage.removeItem("refresh_token")})):console.log("ğŸ§™â€â™‚ï¸ The Stick: No authentication tokens found"),a(!0)}catch(l){console.error("ğŸš¨ Initialization error:",l),n(l instanceof Error?l:new Error("Unknown initialization error")),a(!0)}})()},[r]),t?i?e.jsxs("div",{className:"persistence-error",style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",backgroundColor:"#120258",color:"white",fontSize:"1.2rem",textAlign:"center",padding:"2rem"},children:[e.jsx("h2",{children:"Authentication Error"}),e.jsx("p",{children:i.message}),e.jsx("button",{onClick:()=>window.location.reload(),style:{padding:"10px 20px",backgroundColor:"#3498db",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontSize:"1rem",marginTop:"1rem"},children:"Retry"})]}):e.jsx(e.Fragment,{children:s}):e.jsxs("div",{className:"persistence-loading",style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",backgroundColor:"#120258",color:"white",fontSize:"1.2rem",textAlign:"center",padding:"2rem"},children:[e.jsx("div",{style:{width:"50px",height:"50px",border:"5px solid #f3f3f3",borderTop:"5px solid #3498db",borderRadius:"50%",animation:"spin 2s linear infinite",marginBottom:"1rem"}}),e.jsx("h2",{children:"Initializing System Rebellion..."}),e.jsx("p",{children:"Sir Hawkington is validating your authentication credentials"}),e.jsx("style",{children:"@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }"})]})};class jr extends Ne.Component{constructor(){super(...arguments);he(this,"state",{hasError:!1,error:null})}static getDerivedStateFromError(a){return{hasError:!0,error:a}}componentDidCatch(a,i){console.error("Error Boundary caught:",a,i)}render(){var a;return this.state.hasError?e.jsxs("div",{className:"error-boundary",children:[e.jsx("h2",{children:"Something went wrong"}),e.jsx("p",{children:((a=this.state.error)==null?void 0:a.message)||"An unknown error occurred"}),e.jsx("button",{onClick:()=>window.location.reload(),children:"Reload Application"})]}):this.props.children}}const vr=()=>{const s={isOpen:!0,onClose:()=>console.log("Login closed")};return e.jsx(qt,{store:Hs,children:e.jsx(wi,{children:e.jsx(jr,{children:e.jsx(fr,{children:e.jsx(Qa,{children:e.jsx(Gi,{children:e.jsxs(Ya,{children:[e.jsx(le,{path:"/",element:e.jsx(mr,{})}),e.jsx(le,{path:"/login",element:e.jsx(dt,{...s})}),e.jsxs(le,{element:e.jsx(ur,{children:e.jsx(Ka,{})}),children:[e.jsx(le,{path:"/dashboard",element:e.jsx(Bi,{})}),e.jsx(le,{path:"/optimization",element:e.jsx(Vi,{})}),e.jsx(le,{path:"/alerts",element:e.jsx(Qi,{})}),e.jsx(le,{path:"/configuration",element:e.jsx(Yi,{})}),e.jsx(le,{path:"/metrics",element:e.jsx(Zn,{})}),e.jsx(le,{path:"/auto-tuner",element:e.jsx(cr,{})}),e.jsx(le,{path:"/onboarding",element:e.jsx(hr,{})}),e.jsx(le,{path:"/design-system",element:e.jsx(pr,{})})]}),e.jsx(le,{path:"*",element:e.jsx(tt,{to:"/",replace:!0})})]})})})})})})})},yr=Ja.createRoot(document.getElementById("root"));yr.render(e.jsx(Ne.StrictMode,{children:e.jsx(qt,{store:Hs,children:e.jsx(vr,{})})}));
//# sourceMappingURL=index-CM11xC7n.js.map
